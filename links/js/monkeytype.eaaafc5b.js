(() => {
  "use strict";
  var e,
    t = {
      9835: (e, t, o) => {
        o.r(t);
      },
      6144: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.CLIENT_VERSION = void 0),
          (t.CLIENT_VERSION = "2022.11.14_18.58.d41381db8"),
          $(document.body).on("click", ".version", (e) => {
            e.shiftKey && alert(t.CLIENT_VERSION);
          });
      },
      6617: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.Auth = t.app = void 0);
        const s = o(5503),
          r = o(522),
          u = o(3660),
          l = i(o(3368)),
          d = o(3388);
        try {
          (t.app = (0, s.initializeApp)(u.firebaseConfig)),
            (t.Auth = (0, r.getAuth)(t.app));
        } catch (e) {
          (t.app = void 0),
            (t.Auth = void 0),
            console.error("Authentication failed to initialize", e),
            "localhost" === window.location.hostname &&
              l.addBanner(
                (0, d.createErrorMessage)(e, "Authentication uninitialized") +
                  " Check your firebase-config.ts",
                0,
                void 0,
                !1
              );
        }
      },
      2681: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = t.clear = void 0);
        const s = i(o(6350)),
          r = i(o(3388));
        (t.clear = function () {
          $(".pageAccount .globalTimeTyping .val").text("-"),
            $(".pageAccount .globalTestsStarted .val").text("-"),
            $(".pageAccount .globalTestsCompleted .val").text("-");
        }),
          (t.update = function () {
            var e, t;
            const o = s.getSnapshot();
            if (o) {
              if (void 0 !== o.typingStats) {
                const n =
                  null !==
                    (t =
                      null === (e = null == o ? void 0 : o.typingStats) ||
                      void 0 === e
                        ? void 0
                        : e.timeTyping) && void 0 !== t
                    ? t
                    : 0;
                let a = "";
                (a = 0 === n ? "-" : r.secondsToString(Math.round(n), !0, !0)),
                  $(".pageAccount .globalTimeTyping .val").text(a);
              }
              void 0 !== o.typingStats &&
                $(".pageAccount .globalTestsStarted .val").text(
                  o.typingStats.startedTests
                ),
                void 0 !== o.typingStats &&
                  $(".pageAccount .globalTestsCompleted .val").text(
                    o.typingStats.completedTests
                  );
            }
          });
      },
      6472: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateData = t.show = t.updatePosition = void 0);
        const r = i(o(1833)),
          u = s(o(6705)),
          l = r.result.options.scales;
        (t.updatePosition = function (e, t) {
          $(".pageAccount .miniResultChartWrapper").css({ top: t, left: e });
        }),
          (t.show = function () {
            $(".pageAccount .miniResultChartWrapper").stop(!0, !0).fadeIn(125),
              $(".pageAccount .miniResultChartBg").stop(!0, !0).fadeIn(125);
          }),
          (t.updateData = function (e) {
            const t = [];
            for (let o = 1; o <= e.wpm.length; o++) t.push(o.toString());
            (r.miniResult.data.labels = t),
              (r.miniResult.data.datasets[0].data = e.wpm),
              (r.miniResult.data.datasets[1].data = e.raw),
              (r.miniResult.data.datasets[2].data = e.err);
            const o = Math.max(Math.max(...e.wpm), Math.max(...e.raw)),
              n = Math.min(Math.min(...e.wpm), Math.min(...e.raw));
            (l.wpm.max = Math.round(o)),
              (l.raw.max = Math.round(o)),
              u.default.startGraphsAtZero
                ? ((l.wpm.min = 0), (l.raw.min = 0))
                : ((l.wpm.min = Math.round(n)), (l.raw.min = Math.round(n))),
              r.miniResult.updateColors();
          }),
          $(".pageAccount").on("click", ".miniResultChartBg", () => {
            $(".pageAccount .miniResultChartWrapper").stop(!0, !0).fadeOut(125),
              $(".pageAccount .miniResultChartBg").stop(!0, !0).fadeOut(125);
          });
      },
      140: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const r = s(o(6705)),
          u = s(o(9546)),
          l = i(o(3388));
        function d(e, t, o) {
          let n,
            a = "",
            i = "";
          const s = r.default.alwaysShowCPM ? 5 : 1,
            d = `${o} ${"time" === t ? "seconds" : "words"}`,
            c = r.default.alwaysShowCPM ? "cpm" : "wpm";
          try {
            n = e[t][o].sort((e, t) => t.wpm - e.wpm)[0];
            const p = new Date(n.timestamp);
            n.timestamp && (i = (0, u.default)(p, "dd MMM yyyy"));
            let f = n.wpm * s;
            (f = r.default.alwaysShowDecimalPlaces
              ? l.roundTo2(f).toFixed(2)
              : Math.round(f)),
              (f += ` ${c}`);
            let h = n.raw * s;
            (h = r.default.alwaysShowDecimalPlaces
              ? l.roundTo2(h).toFixed(2)
              : Math.round(h)),
              (h += " raw");
            let m = n.acc;
            (m =
              void 0 === m
                ? "-"
                : r.default.alwaysShowDecimalPlaces
                ? l.roundTo2(m).toFixed(2)
                : Math.round(m)),
              (m += " acc");
            let g = n.consistency;
            (g =
              void 0 === g
                ? "-"
                : r.default.alwaysShowDecimalPlaces
                ? l.roundTo2(g).toFixed(2)
                : Math.round(g)),
              (g += " con"),
              (a = `<div class="quick">\n      <div class="test">${d}</div>\n      <div class="wpm">${Math.round(
                n.wpm * s
              )}</div>\n      <div class="acc">${
                void 0 === n.acc ? "-" : Math.floor(n.acc) + "%"
              }</div>\n    </div>\n    <div class="fullTest">\n      <div>${d}</div>\n      <div>${f}</div>\n      <div>${h}</div>\n      <div>${m}</div>\n      <div>${g}</div>\n      <div>${i}</div>\n    </div>`);
          } catch (e) {
            a = `<div class="quick">\n    <div class="test">${d}</div>\n    <div class="wpm">-</div>\n    <div class="acc">-</div>\n  </div>`;
          }
          return `\n  <div class="group">\n  ${a}\n  </div>\n  `;
        }
        t.update = function (e, t = !1) {
          if (
            ((function (e) {
              const t = e ? "Profile" : "Account",
                o = e
                  ? ""
                  : '<div  \n  class="showAllButton button"\n  data-balloon-pos="left"\n  aria-label="Show all personal bests"\n>\n  <i class="fas fa-ellipsis-v"></i>\n</div>';
              $(`.page${t} .profile .pbsWords`).html(
                `\n      <div class="group">\n      <div class="quick">\n        <div class="test">10 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">25 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">50 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">100 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    ${o}\n  `
              ),
                $(`.page${t} .profile .pbsTime`).html(
                  `\n      <div class="group">\n      <div class="quick">\n        <div class="test">15 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">30 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">60 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">120 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    ${o}\n  `
                );
            })(t),
            void 0 === e)
          )
            return;
          let o = "";
          const n = t ? "Profile" : "Account";
          $(`.page${n} .profile .pbsTime`).html(""),
            $(`.page${n} .profile .pbsWords`).html(""),
            (o = ""),
            [15, 30, 60, 120].forEach((t) => {
              o += d(e, "time", t);
            });
          const a = t
            ? ""
            : '<div class="buttonGroup"><div\n      class="showAllButton button"\n      data-balloon-pos="left"\n      aria-label="Show all personal bests"\n    >\n      <i class="fas fa-ellipsis-v"></i>\n    </div></div>';
          $(`.page${n} .profile .pbsTime`).append(o + a),
            (o = ""),
            [10, 25, 50, 100].forEach((t) => {
              o += d(e, "words", t);
            }),
            $(`.page${n} .profile .pbsWords`).append(o + a);
        };
      },
      1329: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.removeButtons =
            t.appendButtons =
            t.updateTags =
            t.toggle =
            t.updateActive =
            t.reset =
            t.loadTags =
            t.getFilter =
            t.getGroup =
            t.getFilters =
            t.deleteFilterPreset =
            t.startCreateFilterPreset =
            t.setFilterPreset =
            t.updateFilterPresets =
            t.load =
            t.filters =
            t.defaultResultFilters =
              void 0);
        const u = i(o(3388)),
          l = i(o(6350)),
          d = r(o(6705)),
          c = i(o(3368)),
          p = r(o(7355)),
          f = i(o(9817)),
          h = o(2710);
        function m() {
          window.localStorage.setItem(
            "resultFilters",
            JSON.stringify(t.filters)
          );
        }
        function g() {
          var e, t, o;
          return s(this, void 0, void 0, function* () {
            $(".pageAccount .presetFilterButtons .filterBtns").html(""),
              (null !==
                (t =
                  null === (e = l.getSnapshot()) || void 0 === e
                    ? void 0
                    : e.filterPresets.map(
                        (e) => ((e.name = e.name.replace(/_/g, " ")), e)
                      )) && void 0 !== t
                ? t
                : []
              ).length > 0
                ? ($(".pageAccount .presetFilterButtons").show(),
                  null === (o = l.getSnapshot()) ||
                    void 0 === o ||
                    o.filterPresets.forEach((e) => {
                      $(
                        ".pageAccount .group.presetFilterButtons .filterBtns"
                      ).append(
                        `<div class="filterPresets">\n          <div class="select-filter-preset button" data-id="${e._id}">${e.name} </div>\n          <div class="button delete-filter-preset" data-id="${e._id}">\n            <i class="fas fa-fw fa-trash"></i>\n          </div>\n        </div>`
                      );
                    }))
                : $(".pageAccount .presetFilterButtons").hide();
          });
        }
        function v(e) {
          return JSON.parse(JSON.stringify(e));
        }
        function y() {
          return s(this, void 0, void 0, function* () {
            (0, h.showNewResultFilterPresetPopup)((e) =>
              s(this, void 0, void 0, function* () {
                return (function (e) {
                  return s(this, void 0, void 0, function* () {
                    (e = e.replace(/ /g, "_")), f.show();
                    const o = yield p.default.users.addResultFilterPreset(
                      Object.assign(Object.assign({}, t.filters), { name: e })
                    );
                    f.hide(),
                      200 === o.status
                        ? ((function (e) {
                            const t = l.getSnapshot();
                            t &&
                              l.setSnapshot(
                                Object.assign(Object.assign({}, t), {
                                  filterPresets: [...t.filterPresets, v(e)],
                                })
                              );
                          })(
                            Object.assign(Object.assign({}, t.filters), {
                              name: e,
                              _id: o.data,
                            })
                          ),
                          g(),
                          c.add("Filter preset created", 1))
                        : (c.add(
                            "Error creating filter preset: " + o.message,
                            -1
                          ),
                          console.log(
                            "error creating filter preset: " + o.message
                          ));
                  });
                })(e);
              })
            );
          });
        }
        function b(e) {
          return s(this, void 0, void 0, function* () {
            f.show();
            const t = yield p.default.users.removeResultFilterPreset(e);
            f.hide(),
              200 === t.status
                ? ((function (e) {
                    const t = l.getSnapshot();
                    if (!t) return;
                    const o = [...t.filterPresets],
                      n = o.findIndex((t) => t._id === e);
                    n > -1 && o.splice(n, 1),
                      l.setSnapshot(
                        Object.assign(Object.assign({}, t), {
                          filterPresets: o,
                        })
                      );
                  })(e),
                  g(),
                  P(),
                  c.add("Filter preset deleted", 1))
                : (c.add("Error deleting filter preset: " + t.message, -1),
                  console.log("error deleting filter preset", t.message));
          });
        }
        function w() {
          $(
            ".pageAccount .group.presetFilterButtons .filterBtns .filterPresets .select-filter-preset"
          ).removeClass("active");
        }
        function C() {
          return t.filters;
        }
        function _(e) {
          return t.filters[e];
        }
        function S(e, o) {
          return t.filters[e][o];
        }
        function P() {
          (t.filters = t.defaultResultFilters), m();
        }
        function x() {
          var e, t, o, n;
          const a = {};
          function i(e) {
            var t, o, n, i, s;
            let r = "";
            return (
              (r += "<div class='group'>"),
              "difficulty" == e
                ? (r +=
                    '<span aria-label="Difficulty" data-balloon-pos="up"><i class="fas fa-fw fa-star"></i>')
                : "mode" == e
                ? (r +=
                    '<span aria-label="Mode" data-balloon-pos="up"><i class="fas fa-fw fa-bars"></i>')
                : "punctuation" == e
                ? (r +=
                    '<span aria-label="Punctuation" data-balloon-pos="up"><i class="fas fa-fw fa-at"></i>')
                : "numbers" == e
                ? (r +=
                    '<span aria-label="Numbers" data-balloon-pos="up"><i class="fas fa-fw fa-hashtag"></i>')
                : "words" == e
                ? (r +=
                    '<span aria-label="Words" data-balloon-pos="up"><i class="fas fa-fw fa-font"></i>')
                : "time" == e
                ? (r +=
                    '<span aria-label="Time" data-balloon-pos="up"><i class="fas fa-fw fa-clock"></i>')
                : "date" == e
                ? (r +=
                    '<span aria-label="Date" data-balloon-pos="up"><i class="fas fa-fw fa-calendar"></i>')
                : "tags" == e
                ? (r +=
                    '<span aria-label="Tags" data-balloon-pos="up"><i class="fas fa-fw fa-tags"></i>')
                : "language" == e
                ? (r +=
                    '<span aria-label="Language" data-balloon-pos="up"><i class="fas fa-fw fa-globe-americas"></i>')
                : "funbox" == e &&
                  (r +=
                    '<span aria-label="Funbox" data-balloon-pos="up"><i class="fas fa-fw fa-gamepad"></i>'),
              (null === (t = a[e]) || void 0 === t ? void 0 : t.all)
                ? (r += "all")
                : (r +=
                    "tags" === e
                      ? null ===
                          (n =
                            null === (o = a.tags) || void 0 === o
                              ? void 0
                              : o.array) || void 0 === n
                        ? void 0
                        : n
                            .map((e) => {
                              var t, o;
                              if ("none" == e) return e;
                              const n = l.getSnapshot();
                              if (void 0 === n) return e;
                              const a =
                                null === (t = n.tags) || void 0 === t
                                  ? void 0
                                  : t.filter((t) => t._id == e)[0];
                              return void 0 !== a
                                ? null === (o = n.tags) || void 0 === o
                                  ? void 0
                                  : o.filter((t) => t._id == e)[0].display
                                : a;
                            })
                            .join(", ")
                      : null ===
                          (s =
                            null === (i = a[e]) || void 0 === i
                              ? void 0
                              : i.array) || void 0 === s
                      ? void 0
                      : s.join(", ").replace(/_/g, " ")),
              (r += "</span></div>"),
              r
            );
          }
          Object.keys(C()).forEach((e) => {
            "_id" !== e &&
              "name" !== e &&
              ((a[e] = { all: !0, array: [] }),
              Object.keys(_(e)).forEach((t) => {
                var o;
                const n = a[e];
                if (void 0 === n) return;
                let i;
                S(e, t)
                  ? null === (o = n.array) || void 0 === o || o.push(t)
                  : void 0 !== n.all && (n.all = !1),
                  (i =
                    "date" === e
                      ? $(
                          `.pageAccount .group.topFilters .filterGroup[group="${e}"] .button[filter="${t}"]`
                        )
                      : $(
                          `.pageAccount .group.filterButtons .filterGroup[group="${e}"] .button[filter="${t}"]`
                        )),
                  S(e, t) ? i.addClass("active") : i.removeClass("active");
              }));
          });
          let s = "";
          (s += i("date")),
            (s += '<div class="spacer"></div>'),
            (s += i("mode")),
            (s += '<div class="spacer"></div>'),
            (null ===
              (t = null === (e = a.mode) || void 0 === e ? void 0 : e.array) ||
            void 0 === t
              ? void 0
              : t.includes("time")) &&
              ((s += i("time")), (s += '<div class="spacer"></div>')),
            (null ===
              (n = null === (o = a.mode) || void 0 === o ? void 0 : o.array) ||
            void 0 === n
              ? void 0
              : n.includes("words")) &&
              ((s += i("words")), (s += '<div class="spacer"></div>')),
            (s += i("difficulty")),
            (s += '<div class="spacer"></div>'),
            (s += i("punctuation")),
            (s += '<div class="spacer"></div>'),
            (s += i("numbers")),
            (s += '<div class="spacer"></div>'),
            (s += i("language")),
            (s += '<div class="spacer"></div>'),
            (s += i("funbox")),
            (s += '<div class="spacer"></div>'),
            (s += i("tags")),
            setTimeout(() => {
              $(".pageAccount .group.chart .above").html(s);
            }, 0);
        }
        function k(e, o) {
          w();
          try {
            "date" === e &&
              Object.keys(_("date")).forEach((e) => {
                t.filters.date[e] = !1;
              }),
              (t.filters[e][o] = !t.filters[e][o]),
              m();
          } catch (e) {
            c.add(
              "Something went wrong toggling filter. Reverting to defaults.",
              0
            ),
              console.log("toggling filter error"),
              console.error(e),
              P(),
              x();
          }
        }
        (t.defaultResultFilters = {
          _id: "default-result-filters-id",
          name: "default result filters",
          pb: { no: !0, yes: !0 },
          difficulty: { normal: !0, expert: !0, master: !0 },
          mode: { words: !0, time: !0, quote: !0, zen: !0, custom: !0 },
          words: { 10: !0, 25: !0, 50: !0, 100: !0, custom: !0 },
          time: { 15: !0, 30: !0, 60: !0, 120: !0, custom: !0 },
          quoteLength: { short: !0, medium: !0, long: !0, thicc: !0 },
          punctuation: { on: !0, off: !0 },
          numbers: { on: !0, off: !0 },
          date: {
            last_day: !1,
            last_week: !1,
            last_month: !1,
            last_3months: !1,
            all: !0,
          },
          tags: { none: !0 },
          language: {},
          funbox: { none: !0 },
        }),
          (t.filters = t.defaultResultFilters),
          (t.load = function () {
            return s(this, void 0, void 0, function* () {
              console.log("loading filters");
              try {
                const e = window.localStorage.getItem("resultFilters");
                null != e &&
                "" !== e &&
                Object.keys(JSON.parse(e)).length >=
                  Object.keys(t.defaultResultFilters).length
                  ? (t.filters = JSON.parse(e))
                  : (t.filters = t.defaultResultFilters);
                const o = { none: !1 };
                Object.keys(t.defaultResultFilters.tags).forEach((e) => {
                  void 0 !== t.filters.tags[e]
                    ? (o[e] = t.filters.tags[e])
                    : (o[e] = !0);
                }),
                  (t.filters.tags = o),
                  yield g(),
                  m();
              } catch (e) {
                console.log("error in loading result filters"),
                  (t.filters = t.defaultResultFilters),
                  m();
              }
            });
          }),
          (t.updateFilterPresets = g),
          (t.setFilterPreset = function (e) {
            var o;
            return s(this, void 0, void 0, function* () {
              const n =
                null === (o = l.getSnapshot()) || void 0 === o
                  ? void 0
                  : o.filterPresets.find((t) => t._id === e);
              n &&
                ((t.filters = (function (e) {
                  const o = v(e);
                  return (
                    Object.entries(t.defaultResultFilters).forEach((e) => {
                      const t = e[0],
                        n = e[1];
                      void 0 === o[t] && (o[t] = n);
                    }),
                    o
                  );
                })(n)),
                m(),
                x()),
                $(
                  ".pageAccount .group.presetFilterButtons .filterBtns .filterPresets .select-filter-preset"
                ).removeClass("active"),
                $(
                  `.pageAccount .group.presetFilterButtons .filterBtns .filterPresets .select-filter-preset[data-id=${e}]`
                ).addClass("active");
            });
          }),
          (t.startCreateFilterPreset = y),
          (t.deleteFilterPreset = b),
          (t.getFilters = C),
          (t.getGroup = _),
          (t.getFilter = S),
          (t.loadTags = function (e) {
            console.log("loading tags"),
              e.forEach((e) => {
                t.defaultResultFilters.tags[e._id] = !0;
              });
          }),
          (t.reset = P),
          (t.updateActive = x),
          (t.toggle = k),
          (t.updateTags = function () {
            var e, t, o;
            $(
              ".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons"
            ).empty();
            const n = l.getSnapshot();
            (null !==
              (t =
                null === (e = null == n ? void 0 : n.tags) || void 0 === e
                  ? void 0
                  : e.length) && void 0 !== t
              ? t
              : 0) > 0
              ? ($(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.tags"
                ).removeClass("hidden"),
                $(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons"
                ).append('<div class="button" filter="none">no tag</div>'),
                null === (o = null == n ? void 0 : n.tags) ||
                  void 0 === o ||
                  o.forEach((e) => {
                    $(
                      ".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons"
                    ).append(
                      `<div class="button" filter="${e._id}">${e.display}</div>`
                    );
                  }))
              : $(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.tags"
                ).addClass("hidden");
          }),
          $(
            ".pageAccount .filterButtons .buttonsAndTitle .buttons, .pageAccount .group.topFilters .buttonsAndTitle.testDate .buttons"
          ).on("click", ".button", (e) => {
            const o = $(e.target).parents(".buttons").attr("group"),
              n = $(e.target).attr("filter");
            $(e.target).hasClass("allFilters")
              ? (Object.keys(C()).forEach((e) => {
                  "_id" !== e &&
                    "name" !== e &&
                    Object.keys(_(e)).forEach((o) => {
                      "date" === e
                        ? (t.filters[e][o] = !1)
                        : void 0 !== t.filters[e] && (t.filters[e][o] = !0);
                    });
                }),
                (t.filters.date.all = !0))
              : $(e.target).hasClass("noFilters")
              ? Object.keys(C()).forEach((e) => {
                  "_id" !== e &&
                    "name" !== e &&
                    "date" !== e &&
                    Object.keys(_(e)).forEach((o) => {
                      t.filters[e][o] = !1;
                    });
                })
              : $(e.target).hasClass("button") &&
                (e.shiftKey
                  ? (Object.keys(_(o)).forEach((e) => {
                      t.filters[o][e] = !1;
                    }),
                    (t.filters[o][n] = !0))
                  : k(o, n)),
              x(),
              m();
          }),
          $(".pageAccount .topFilters .button.allFilters").on("click", () => {
            w(),
              Object.keys(C()).forEach((e) => {
                "_id" !== e &&
                  "name" !== e &&
                  Object.keys(_(e)).forEach((o) => {
                    t.filters[e][o] = "date" !== e;
                  });
              }),
              (t.filters.date.all = !0),
              x(),
              m();
          }),
          $(".pageAccount .topFilters .button.currentConfigFilter").on(
            "click",
            () => {
              var e, o;
              if (
                (w(),
                Object.keys(C()).forEach((e) => {
                  "_id" !== e &&
                    "name" !== e &&
                    Object.keys(_(e)).forEach((o) => {
                      t.filters[e][o] = !1;
                    });
                }),
                (t.filters.pb.no = !0),
                (t.filters.pb.yes = !0),
                (t.filters.difficulty[d.default.difficulty] = !0),
                (t.filters.mode[d.default.mode] = !0),
                "time" === d.default.mode)
              )
                if ([15, 30, 60, 120].includes(d.default.time)) {
                  const e = d.default.time;
                  t.filters.time[e] = !0;
                } else t.filters.time.custom = !0;
              else if ("words" === d.default.mode)
                if ([10, 25, 50, 100, 200].includes(d.default.words)) {
                  const e = d.default.words;
                  t.filters.words[e] = !0;
                } else t.filters.words.custom = !0;
              else
                "quote" === d.default.mode &&
                  ["short", "medium", "long", "thicc"].forEach((e, o) => {
                    d.default.quoteLength.includes(o)
                      ? (t.filters.quoteLength[e] = !0)
                      : (t.filters.quoteLength[e] = !1);
                  });
              d.default.punctuation
                ? (t.filters.punctuation.on = !0)
                : (t.filters.punctuation.off = !0),
                d.default.numbers
                  ? (t.filters.numbers.on = !0)
                  : (t.filters.numbers.off = !0),
                "quote" === d.default.mode &&
                /english.*/.test(d.default.language)
                  ? (t.filters.language.english = !0)
                  : (t.filters.language[d.default.language] = !0),
                "none" === d.default.funbox
                  ? (t.filters.funbox.none = !0)
                  : (t.filters.funbox[d.default.funbox] = !0),
                (t.filters.tags.none = !0),
                null ===
                  (o =
                    null === (e = l.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.tags) ||
                  void 0 === o ||
                  o.forEach((e) => {
                    !0 === e.active &&
                      ((t.filters.tags.none = !1),
                      (t.filters.tags[e._id] = !0));
                  }),
                (t.filters.date.all = !0),
                x(),
                m();
            }
          ),
          $(".pageAccount .topFilters .button.toggleAdvancedFilters").on(
            "click",
            () => {
              $(".pageAccount .filterButtons").slideToggle(250),
                $(
                  ".pageAccount .topFilters .button.toggleAdvancedFilters"
                ).toggleClass("active");
            }
          ),
          (t.appendButtons = function () {
            return s(this, void 0, void 0, function* () {
              yield u
                .getLanguageList()
                .then((e) => {
                  e.forEach((e) => {
                    $(
                      ".pageAccount .content .filterButtons .buttonsAndTitle.languages .buttons"
                    ).append(
                      `<div class="button" filter="${e}">${e.replace(
                        "_",
                        " "
                      )}</div>`
                    );
                  });
                })
                .catch((e) => {
                  console.error(
                    u.createErrorMessage(e, "Failed to append language buttons")
                  );
                }),
                $(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.funbox .buttons"
                ).append('<div class="button" filter="none">none</div>'),
                yield u
                  .getFunboxList()
                  .then((e) => {
                    e.forEach((e) => {
                      $(
                        ".pageAccount .content .filterButtons .buttonsAndTitle.funbox .buttons"
                      ).append(
                        `<div class="button" filter="${
                          e.name
                        }">${e.name.replace(/_/g, " ")}</div>`
                      );
                    });
                  })
                  .catch((e) => {
                    console.error(
                      u.createErrorMessage(e, "Failed to append funbox buttons")
                    );
                  });
            });
          }),
          (t.removeButtons = function () {
            $(
              ".pageAccount .content .filterButtons .buttonsAndTitle.languages .buttons"
            ).empty(),
              $(
                ".pageAccount .content .filterButtons .buttonsAndTitle.funbox .buttons"
              ).empty();
          }),
          $(".pageAccount .topFilters .button.createFilterPresetBtn").on(
            "click",
            () => {
              y();
            }
          ),
          $(".group.presetFilterButtons .filterBtns").on(
            "click",
            ".filterPresets .delete-filter-preset",
            (e) => {
              b($(e.currentTarget).data("id"));
            }
          );
      },
      3271: function (e, t, o) {
        var n =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          a =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.buildHttpClient = void 0);
        const i = o(6617),
          s = o(522),
          r = a(o(9669));
        function u(e, t) {
          return (o, a = {}) =>
            n(this, void 0, void 0, function* () {
              var u, l, d;
              let c = "";
              try {
                const r = yield (function (e) {
                  return n(this, void 0, void 0, function* () {
                    const t =
                        null === i.Auth || void 0 === i.Auth
                          ? void 0
                          : i.Auth.currentUser,
                      o = t && (yield (0, s.getIdToken)(t));
                    return {
                      params: e.searchQuery,
                      data: e.payload,
                      headers: Object.assign(
                        Object.assign(Object.assign({}, e.headers), {
                          Accept: "application/json",
                          "Content-Type": "application/json",
                        }),
                        o && { Authorization: `Bearer ${o}` }
                      ),
                    };
                  });
                })(a);
                let u;
                u =
                  "get" === t || "delete" === t
                    ? yield e(o, r)
                    : yield e(o, r.data, r);
                const { message: l, data: d } = u.data;
                return { status: u.status, message: l, data: d };
              } catch (e) {
                console.error(e);
                const t = e;
                if (((c = t.message), r.default.isAxiosError(t)))
                  return Object.assign(
                    {
                      status:
                        null !==
                          (l =
                            null === (u = t.response) || void 0 === u
                              ? void 0
                              : u.status) && void 0 !== l
                          ? l
                          : 500,
                      message: t.message,
                    },
                    null === (d = t.response) || void 0 === d ? void 0 : d.data
                  );
              }
              return { status: 500, message: c };
            });
        }
        t.buildHttpClient = function (e, t) {
          const o = r.default.create({ baseURL: e, timeout: t });
          return {
            get: u(o.get, "get"),
            post: u(o.post, "post"),
            put: u(o.put, "put"),
            patch: u(o.patch, "patch"),
            delete: u(o.delete, "delete"),
          };
        };
      },
      6510: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = "/ape-keys";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          generate(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = { name: e, enabled: t };
              return yield this.httpClient.post(n, { payload: o });
            });
          }
          update(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = Object.assign({}, t);
              return yield this.httpClient.patch(`/ape-keys/${e}`, {
                payload: o,
              });
            });
          }
          delete(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(`/ape-keys/${e}`);
            });
          }
        };
      },
      4146: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = "/configs";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          save(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch(n, { payload: { config: e } });
            });
          }
        };
      },
      1571: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const a = n(o(4146)),
          i = n(o(7771)),
          s = n(o(472)),
          r = n(o(3870)),
          u = n(o(3082)),
          l = n(o(8413)),
          d = n(o(9303)),
          c = n(o(6510)),
          p = n(o(4253));
        t.default = {
          Configs: a.default,
          Leaderboards: i.default,
          Presets: s.default,
          Psas: r.default,
          Public: p.default,
          Quotes: u.default,
          Results: l.default,
          Users: d.default,
          ApeKeys: c.default,
        };
      },
      7771: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = "/leaderboards";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get(e) {
            return o(this, void 0, void 0, function* () {
              const {
                  language: t,
                  mode: o,
                  mode2: a,
                  isDaily: i,
                  skip: s = 0,
                  limit: r = 50,
                  daysBefore: u,
                } = e,
                l = i && u,
                d = Object.assign(
                  {
                    language: t,
                    mode: o,
                    mode2: a,
                    skip: Math.max(s, 0),
                    limit: Math.max(Math.min(r, 50), 0),
                  },
                  l && { daysBefore: u }
                ),
                c = `${n}/${i ? "daily" : ""}`;
              return yield this.httpClient.get(c, { searchQuery: d });
            });
          }
          getRank(e) {
            return o(this, void 0, void 0, function* () {
              const {
                  language: t,
                  mode: o,
                  mode2: a,
                  isDaily: i,
                  daysBefore: s,
                } = e,
                r = i && s,
                u = Object.assign(
                  { language: t, mode: o, mode2: a },
                  r && { daysBefore: s }
                ),
                l = `${n}${i ? "/daily" : ""}/rank`;
              return yield this.httpClient.get(l, { searchQuery: u });
            });
          }
        };
      },
      472: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = "/presets";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          add(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = { name: e, config: t };
              return yield this.httpClient.post(n, { payload: o });
            });
          }
          edit(e, t, a) {
            return o(this, void 0, void 0, function* () {
              const o = { _id: e, name: t, config: a };
              return yield this.httpClient.patch(n, { payload: o });
            });
          }
          delete(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(`/presets/${e}`);
            });
          }
        };
      },
      3870: function (e, t, o) {
        var n =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const a = o(6144);
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return n(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/psas", {
                headers: { "Client-Version": a.CLIENT_VERSION },
              });
            });
          }
        };
      },
      4253: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.default = class {
            constructor(e) {
              (this.httpClient = e), (this.httpClient = e);
            }
            getSpeedHistogram(e) {
              return o(this, void 0, void 0, function* () {
                return yield this.httpClient.get("/public/speedHistogram", {
                  searchQuery: e,
                });
              });
            }
            getTypingStats() {
              return o(this, void 0, void 0, function* () {
                return yield this.httpClient.get("/public/typingStats");
              });
            }
          });
      },
      3082: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = "/quotes";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          submit(e, t, a, i) {
            return o(this, void 0, void 0, function* () {
              const o = { text: e, source: t, language: a, captcha: i };
              return yield this.httpClient.post(n, { payload: o });
            });
          }
          approveSubmission(e, t, n) {
            return o(this, void 0, void 0, function* () {
              const o = { quoteId: e, editText: t, editSource: n };
              return yield this.httpClient.post("/quotes/approve", {
                payload: o,
              });
            });
          }
          rejectSubmission(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/quotes/reject", {
                payload: { quoteId: e },
              });
            });
          }
          getRating(e) {
            return o(this, void 0, void 0, function* () {
              const t = { quoteId: e.id, language: e.language };
              return yield this.httpClient.get("/quotes/rating", {
                searchQuery: t,
              });
            });
          }
          addRating(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = { quoteId: e.id, rating: t, language: e.language };
              return yield this.httpClient.post("/quotes/rating", {
                payload: o,
              });
            });
          }
          report(e, t, n, a, i) {
            return o(this, void 0, void 0, function* () {
              const o = {
                quoteId: e,
                quoteLanguage: t,
                reason: n,
                comment: a,
                captcha: i,
              };
              return yield this.httpClient.post("/quotes/report", {
                payload: o,
              });
            });
          }
        };
      },
      8413: function (e, t, o) {
        var n =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const a = o(6144),
          i = "/results";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return n(this, void 0, void 0, function* () {
              return yield this.httpClient.get(i);
            });
          }
          save(e) {
            return n(this, void 0, void 0, function* () {
              return yield this.httpClient.post(i, {
                payload: { result: e },
                headers: { "Client-Version": a.CLIENT_VERSION },
              });
            });
          }
          updateTags(e, t) {
            return n(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/results/tags", {
                payload: { resultId: e, tagIds: t },
              });
            });
          }
          deleteAll() {
            return n(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(i);
            });
          }
        };
      },
      9303: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = "/users";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          getData() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          create(e, t, n, a) {
            return o(this, void 0, void 0, function* () {
              const o = { email: n, name: e, uid: a, captcha: t };
              return yield this.httpClient.post("/users/signup", {
                payload: o,
              });
            });
          }
          getNameAvailability(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(`/users/checkName/${e}`);
            });
          }
          delete() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(n);
            });
          }
          reset() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/users/reset");
            });
          }
          updateName(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/users/name", {
                payload: { name: e },
              });
            });
          }
          updateLeaderboardMemory(e, t, n, a) {
            return o(this, void 0, void 0, function* () {
              const o = { mode: e, mode2: t, language: n, rank: a };
              return yield this.httpClient.patch("/users/leaderboardMemory", {
                payload: o,
              });
            });
          }
          updateEmail(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = { newEmail: e, previousEmail: t };
              return yield this.httpClient.patch("/users/email", {
                payload: o,
              });
            });
          }
          deletePersonalBests() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete("/users/personalBests");
            });
          }
          addResultFilterPreset(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/resultFilterPresets", {
                payload: e,
              });
            });
          }
          removeResultFilterPreset(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(
                `/users/resultFilterPresets/${e}`
              );
            });
          }
          getTags() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/tags");
            });
          }
          createTag(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/tags", {
                payload: { tagName: e },
              });
            });
          }
          editTag(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = { tagId: e, newName: t };
              return yield this.httpClient.patch("/users/tags", { payload: o });
            });
          }
          deleteTag(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(`/users/tags/${e}`);
            });
          }
          deleteTagPersonalBest(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(
                `/users/tags/${e}/personalBest`
              );
            });
          }
          getCustomThemes() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/customThemes");
            });
          }
          editCustomTheme(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                themeId: e,
                theme: { name: t.name, colors: t.colors },
              };
              return yield this.httpClient.patch("/users/customThemes", {
                payload: o,
              });
            });
          }
          deleteCustomTheme(e) {
            return o(this, void 0, void 0, function* () {
              const t = { themeId: e };
              return yield this.httpClient.delete("/users/customThemes", {
                payload: t,
              });
            });
          }
          addCustomTheme(e) {
            return o(this, void 0, void 0, function* () {
              const t = { name: e.name, colors: e.colors };
              return yield this.httpClient.post("/users/customThemes", {
                payload: t,
              });
            });
          }
          getOauthLink() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/discord/oauth");
            });
          }
          linkDiscord(e, t, n) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/discord/link", {
                payload: { tokenType: e, accessToken: t, state: n },
              });
            });
          }
          unlinkDiscord() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/discord/unlink");
            });
          }
          addQuoteToFavorites(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = { language: e, quoteId: t };
              return yield this.httpClient.post("/users/favoriteQuotes", {
                payload: o,
              });
            });
          }
          removeQuoteFromFavorites(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = { language: e, quoteId: t };
              return yield this.httpClient.delete("/users/favoriteQuotes", {
                payload: o,
              });
            });
          }
          getProfileByUid(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(`/users/${e}/profile?isUid`);
            });
          }
          getProfileByName(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(`/users/${e}/profile`);
            });
          }
          updateProfile(e, t) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/users/profile", {
                payload: Object.assign(Object.assign({}, e), {
                  selectedBadgeId: t,
                }),
              });
            });
          }
          getInbox() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/inbox");
            });
          }
          updateInbox(e) {
            return o(this, void 0, void 0, function* () {
              const t = {
                mailIdsToDelete: e.mailIdsToDelete,
                mailIdsToMarkRead: e.mailIdsToMarkRead,
              };
              return yield this.httpClient.patch("/users/inbox", {
                payload: t,
              });
            });
          }
        };
      },
      7355: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const a = n(o(1571)),
          i = o(3271),
          s =
            "" +
            ("localhost" === window.location.hostname
              ? "http://localhost:5005"
              : "https://api.monkeytype.com"),
          r = (0, i.buildHttpClient)(s, 1e4),
          u = {
            users: new a.default.Users(r),
            configs: new a.default.Configs(r),
            results: new a.default.Results(r),
            psas: new a.default.Psas(r),
            quotes: new a.default.Quotes(r),
            leaderboards: new a.default.Leaderboards(r),
            presets: new a.default.Presets(r),
            publicStats: new a.default.Public(r),
            apeKeys: new a.default.ApeKeys(r),
          };
        t.default = u;
      },
      9102: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.pushCurrent =
            t.setCurrent =
            t.current =
            t.getList =
            t.commands =
              void 0);
        const u = r(o(5724)),
          l = r(o(3045)),
          d = r(o(7589)),
          c = r(o(2050)),
          p = r(o(3635)),
          f = r(o(4475)),
          h = r(o(1386)),
          m = r(o(1453)),
          g = r(o(1489)),
          v = r(o(3750)),
          y = r(o(5828)),
          b = r(o(8489)),
          w = r(o(2291)),
          C = r(o(5989)),
          _ = r(o(5900)),
          S = r(o(6528)),
          P = r(o(2132)),
          x = r(o(944)),
          k = r(o(3553)),
          T = r(o(4267)),
          O = r(o(5504)),
          M = r(o(5547)),
          A = r(o(1059)),
          j = r(o(7087)),
          L = r(o(4770)),
          W = r(o(7428)),
          B = r(o(8128)),
          E = r(o(5943)),
          I = r(o(4847)),
          D = r(o(5979)),
          R = r(o(6742)),
          F = r(o(7941)),
          q = r(o(8846)),
          V = r(o(4730)),
          K = r(o(129)),
          H = r(o(3054)),
          N = r(o(1531)),
          z = r(o(9050)),
          U = r(o(7357)),
          Q = r(o(4981)),
          G = r(o(1404)),
          J = r(o(6609)),
          Y = r(o(8520)),
          Z = r(o(5031)),
          X = r(o(2745)),
          ee = r(o(9950)),
          te = r(o(856)),
          oe = r(o(2815)),
          ne = r(o(5264)),
          ae = r(o(554)),
          ie = r(o(5215)),
          se = r(o(6373)),
          re = r(o(9651)),
          ue = r(o(6704)),
          le = r(o(4846)),
          de = r(o(4580)),
          ce = r(o(9937)),
          pe = r(o(8137)),
          fe = r(o(6880)),
          he = r(o(3049)),
          me = r(o(1276)),
          ge = r(o(788)),
          ve = r(o(5077)),
          ye = r(o(2274)),
          be = r(o(5093)),
          we = r(o(2546)),
          $e = r(o(7898)),
          Ce = r(o(8633)),
          _e = r(o(3487)),
          Se = r(o(6649)),
          Pe = r(o(7103)),
          xe = i(o(2642)),
          ke = i(o(6780)),
          Te = i(o(4766)),
          Oe = i(o(8351)),
          Me = i(o(8638)),
          Ae = i(o(5064)),
          je = i(o(1178)),
          Le = i(o(6705)),
          We = Le,
          Be = i(o(3388)),
          Ee = i(o(3013)),
          Ie = o(743),
          De = i(o(2786)),
          Re = i(o(8835)),
          Fe = i(o(3368)),
          qe = i(o(2864)),
          Ve = i(o(4924));
        Be.getLayoutsList()
          .then((e) => {
            (0, xe.update)(e), (0, je.update)(e);
          })
          .catch((e) => {
            console.error(
              Be.createErrorMessage(e, "Failed to update layouts commands")
            );
          }),
          Be.getLanguageList()
            .then((e) => {
              (0, Ae.update)(e);
            })
            .catch((e) => {
              console.error(
                Be.createErrorMessage(e, "Failed to update language commands")
              );
            }),
          Be.getFunboxList()
            .then((e) => {
              (0, ke.update)(e);
            })
            .catch((e) => {
              console.error(
                Be.createErrorMessage(e, "Failed to update funbox commands")
              );
            }),
          Be.getFontsList()
            .then((e) => {
              (0, Me.update)(e);
            })
            .catch((e) => {
              console.error(
                Be.createErrorMessage(e, "Failed to update fonts commands")
              );
            }),
          Be.getThemesList()
            .then((e) => {
              (0, Te.update)(e);
            })
            .catch((e) => {
              console.error(
                Be.createErrorMessage(e, "Failed to update themes commands")
              );
            }),
          Be.getChallengeList()
            .then((e) => {
              (0, Oe.update)(e);
            })
            .catch((e) => {
              console.error(
                Be.createErrorMessage(e, "Failed to update challenges commands")
              );
            }),
          (t.commands = {
            title: "",
            list: [
              ...$e.default,
              ...u.default,
              ...m.default,
              ...l.default,
              ...d.default,
              ...c.default,
              ...f.default,
              {
                id: "changeCustomModeText",
                display: "Change custom text",
                icon: "fa-align-left",
                exec: () => {
                  De.show();
                },
              },
              {
                id: "viewQuoteSearchPopup",
                display: "Search for quotes",
                icon: "fa-search",
                exec: () => {
                  We.setMode("quote"),
                    $("#quote-search-button").trigger("click");
                },
                shouldFocusTestUI: !1,
              },
              ...ve.default,
              {
                id: "shareTestSettings",
                display: "Share test settings",
                icon: "fa-share",
                exec: () =>
                  s(void 0, void 0, void 0, function* () {
                    Ve.show();
                  }),
              },
              ..._e.default,
              ...Pe.default,
              ...ye.default,
              ...X.default,
              ...v.default,
              ...y.default,
              ...T.default,
              ...O.default,
              ...N.default,
              ...Q.default,
              ...G.default,
              ...J.default,
              ...Ae.default,
              ...le.default,
              ...ke.default,
              {
                id: "changeCustomLayoutfluid",
                display: "Custom layoutfluid...",
                defaultValue: () => Le.default.customLayoutfluid,
                input: !0,
                icon: "fa-tint",
                exec: (e) => {
                  void 0 !== e &&
                    (We.setCustomLayoutfluid(e),
                    "layoutfluid" === Le.default.funbox && Ee.restart());
                },
              },
              ...x.default,
              ...k.default,
              ...L.default,
              ...h.default,
              ...p.default,
              ...j.default,
              ...M.default,
              ...A.default,
              ...q.default,
              ...xe.default,
              ...B.default,
              ...U.default,
              ...W.default,
              ...g.default,
              ...oe.default,
              ...te.default,
              ...ne.default,
              ...ee.default,
              ...ae.default,
              ...ie.default,
              ...se.default,
              ...re.default,
              ...ue.default,
              ...I.default,
              ...V.default,
              ...R.default,
              ...D.default,
              ...F.default,
              ...we.default,
              ...Me.default,
              ...he.default,
              ...de.default,
              ...ce.default,
              ...pe.default,
              ...je.default,
              ...fe.default,
              ...Te.default,
              ...Y.default,
              ...Se.default,
              ...E.default,
              ...K.default,
              ...Ce.default,
              {
                id: "changeCustomBackground",
                display: "Custom background...",
                icon: "fa-image",
                defaultValue: () => Le.default.customBackground,
                input: !0,
                exec: (e) => {
                  e || (e = ""), We.setCustomBackground(e);
                },
              },
              ...Z.default,
              {
                id: "randomizeTheme",
                display: "Next random theme",
                icon: "fa-random",
                exec: () =>
                  s(void 0, void 0, void 0, function* () {
                    return (0, Ie.randomizeTheme)();
                  }),
                available: () => "off" !== Le.default.randomTheme,
              },
              ...b.default,
              ...w.default,
              ...C.default,
              ...S.default,
              ...P.default,
              ...H.default,
              ...z.default,
              ..._.default,
              ...ge.default,
              {
                id: "toggleMonkey",
                display: "Toggle Monkey",
                icon: "fa-egg",
                visible: !1,
                exec: () => {
                  We.setMonkey(!Le.default.monkey);
                },
              },
              ...me.default,
              ...Oe.default,
              ...be.default,
              {
                id: "watchVideoAd",
                display: "Watch video ad",
                alias: "support donate",
                icon: "fa-ad",
                exec: () => {
                  qe.show();
                },
              },
              {
                id: "importSettingsJSON",
                display: "Import settings JSON",
                icon: "fa-cog",
                alias: "import config",
                input: !0,
                exec: (e) => {
                  if (e)
                    try {
                      We.apply(JSON.parse(e)),
                        We.saveFullConfigToLocalStorage(),
                        Re.update(),
                        Fe.add("Done", 1);
                    } catch (e) {
                      Fe.add(
                        "An error occured while importing settings: " + e,
                        -1
                      );
                    }
                },
              },
              {
                id: "exportSettingsJSON",
                display: "Export settings JSON",
                icon: "fa-cog",
                alias: "export config",
                input: !0,
                defaultValue: () => JSON.stringify(Le.default),
              },
              {
                id: "clearSwCache",
                display: "Clear SW cache",
                icon: "fa-cog",
                exec: () =>
                  s(void 0, void 0, void 0, function* () {
                    const e = yield caches.keys();
                    for (const t of e) yield caches.delete(t);
                    window.location.reload();
                  }),
              },
              {
                id: "getSwCache",
                display: "Get SW cache",
                icon: "fa-cog",
                exec: () =>
                  s(void 0, void 0, void 0, function* () {
                    alert(yield caches.keys());
                  }),
              },
              {
                id: "joinDiscord",
                display: "Join the Discord server",
                icon: "fa-users",
                exec: () => {
                  window.open("https://discord.gg/monkeytype");
                },
              },
            ],
          });
        const Ke = {
          keymapLayouts: je.default[0].subgroup,
          enableAds: me.default[0].subgroup,
          customThemesList: Se.default[0].subgroup,
          themes: Te.default[0].subgroup,
          loadChallenge: Oe.default[0].subgroup,
          languages: Ae.default[0].subgroup,
          difficulty: X.default[0].subgroup,
          lazyMode: q.default[0].subgroup,
          paceCaretMode: te.default[0].subgroup,
          showAverage: _.default[0].subgroup,
          minWpm: Q.default[0].subgroup,
          minAcc: G.default[0].subgroup,
          minBurst: J.default[0].subgroup,
          funbox: ke.default[0].subgroup,
          confidenceMode: p.default[0].subgroup,
          stopOnError: h.default[0].subgroup,
          layouts: xe.default[0].subgroup,
          oppositeShiftMode: L.default[0].subgroup,
          tags: _e.default[0].subgroup,
          resultSaving: ye.default[0].subgroup,
          blindMode: T.default[0].subgroup,
        };
        (t.getList = function (e) {
          const t = Ke[e];
          if (!t)
            throw (
              (Fe.add(`List not found: ${e}`, -1),
              new Error(`List ${e} not found`))
            );
          return t;
        }),
          (t.current = []),
          (t.current = [t.commands]),
          (t.setCurrent = function (e) {
            t.current = e;
          }),
          (t.pushCurrent = function (e) {
            t.current.push(e);
          });
      },
      4487: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = t.isSingleListCommandLineActive = void 0);
        const s = i(o(743)),
          r = i(o(6705)),
          u = r,
          l = i(o(8911)),
          d = i(o(9102)),
          c = i(o(8673)),
          p = i(o(6350)),
          f = i(o(3368)),
          h = i(o(3326)),
          m = i(o(5705)),
          g = i(o(9470)),
          v = i(o(7346)),
          y = o(6617),
          b = o(3388),
          w = o(6649),
          C = o(3487);
        let _ = !1,
          S = !1;
        function P() {
          return $("#commandLine").hasClass("allCommands");
        }
        function x() {
          $("#commandLine .suggestions").empty();
          let e = "";
          const t = d.current[d.current.length - 1];
          $.each(t.list, (o, n) => {
            var a;
            if (n.found && (void 0 === n.available || n.available())) {
              let o =
                null !== (a = n.icon) && void 0 !== a ? a : "fa-chevron-right";
              (o = /^fa-/g.test(o)
                ? `<i class="fas fa-fw ${o}"></i>`
                : `<div class="textIcon">${o}</div>`),
                t.configKey &&
                  (o =
                    (n.configValueMode &&
                      "include" === n.configValueMode &&
                      r.default[t.configKey].includes(n.configValue)) ||
                    r.default[t.configKey] === n.configValue
                      ? '<i class="fas fa-fw fa-check"></i>'
                      : '<i class="fas fa-fw"></i>');
              let i = `<div class="icon">${o}</div>`;
              n.noIcon && !P() && (i = ""),
                (e += `<div class="entry" command="${n.id}">${i}<div>${n.display}</div></div>`);
            }
          }),
            $("#commandLine .suggestions").html(e),
            0 == $("#commandLine .suggestions .entry").length
              ? $("#commandLine .separator").css({ height: 0, margin: 0 })
              : $("#commandLine .separator").css({
                  height: "1px",
                  "margin-bottom": ".5rem",
                });
          const o = $("#commandLine .suggestions .entry");
          if (o.length > 0) {
            $(o[0]).addClass("activeKeyboard");
            try {
              $.each(
                t.list,
                (e, t) =>
                  !t.found ||
                  ((/theme/gi.test(t.id) && "toggleCustomTheme" !== t.id) ||
                    s.randomTheme ||
                    s.clearPreview(),
                  /font/gi.test(t.id) ||
                    u.previewFontFamily(r.default.fontFamily),
                  t.hover && t.hover(),
                  !1)
              );
            } catch (e) {}
          }
          $("#commandLine .listTitle").remove();
        }
        function k() {
          const e = $("#commandLine input")
              .val()
              .toLowerCase()
              .split(" ")
              .filter((e, t) => e || 0 == t),
            t = d.current[d.current.length - 1];
          if (
            "" === e[0] &&
            "on" === r.default.singleListCommandLine &&
            1 === d.current.length
          )
            return (
              $.each(t.list, (e, t) => {
                t.found = !1;
              }),
              void x()
            );
          e[0] && ">" == e[0][0] && (e[0] = e[0].replace(/^>+/, "")),
            "" == e[0] && 1 == e.length
              ? $.each(t.list, (e, t) => {
                  !1 !== t.visible && (t.found = !0);
                })
              : $.each(t.list, (t, o) => {
                  let n = 0;
                  $.each(e, (e, t) => {
                    if ("" == t) return;
                    const a = t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"),
                      i = new RegExp("\\b" + a, "g"),
                      s = o.display.toLowerCase().match(i),
                      r =
                        void 0 !== o.alias
                          ? o.alias.toLowerCase().match(i)
                          : null;
                    (null != s && s.length > 0) || (null != r && r.length > 0)
                      ? n++
                      : n--;
                  }),
                    n > e.length - 1 ? (o.found = !0) : (o.found = !1);
                }),
            x();
        }
        function T(e = !0) {
          u.previewFontFamily(r.default.fontFamily),
            s.randomTheme || s.clearPreview(),
            $("#commandLineWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#commandLineWrapper").addClass("hidden"),
                  $("#commandLine").removeClass("allCommands"),
                  e && c.focusWords();
              }),
            e && c.focusWords();
        }
        function O(e) {
          let o = !1,
            n = !1,
            a = !0;
          const i = d.current[d.current.length - 1];
          let s = !1;
          $.each(i.list, (i, r) => {
            var u;
            if (r.id == e)
              if (
                (void 0 !== r.shouldFocusTestUI && (a = r.shouldFocusTestUI),
                r.input)
              ) {
                n = !0;
                const e =
                  null !== (u = r.display.split("</i>")[1]) && void 0 !== u
                    ? u
                    : r.display;
                !(function (e, t, o = "") {
                  $("#commandLineWrapper").removeClass("hidden"),
                    $("#commandLine").addClass("hidden"),
                    $("#commandInput").removeClass("hidden"),
                    $("#commandInput input").attr("placeholder", t),
                    $("#commandInput input").val(o),
                    $("#commandInput input").trigger("focus"),
                    $("#commandInput input").attr("command", ""),
                    $("#commandInput input").attr("command", e),
                    "" != o && $("#commandInput input").trigger("select");
                })(r.id, e, r.defaultValue ? r.defaultValue() : "");
              } else
                r.subgroup
                  ? ((o = !0),
                    r.beforeSubgroup && r.beforeSubgroup(),
                    d.current.push(r.subgroup),
                    (0, t.show)())
                  : (r.exec && r.exec(), !0 === r.sticky && (s = !0));
          }),
            o || n || s || (h.log("usedCommandLine", { command: e }), T(a));
        }
        function M(e, t, o = "", n) {
          var a, i;
          let s = t.display.replace(/\s?\.\.\.$/g, ""),
            u = '<i class="fas fa-fw"></i>';
          if (
            (void 0 !== t.configValue &&
              r.default[null == n ? void 0 : n.configKey] === t.configValue &&
              (u = '<i class="fas fa-fw fa-check"></i>'),
            t.noIcon && (u = ""),
            o && (s = o + " > " + u + s),
            t.subgroup)
          ) {
            const o = t;
            o.beforeSubgroup && o.beforeSubgroup();
            try {
              null ===
                (i = (null === (a = t) || void 0 === a ? void 0 : a.subgroup)
                  .list) ||
                void 0 === i ||
                i.forEach((o) => {
                  (t.configKey = t.subgroup.configKey), M(e, o, s, t);
                });
            } catch (e) {}
          } else {
            const a = Object.assign({}, t);
            n && (a.icon = n.icon),
              o && (a.display = s),
              (null == n ? void 0 : n.available) && (a.available = n.available),
              e.push(a);
          }
        }
        function A() {
          const e = [],
            o = t.show;
          return (
            (t.show = () => {}),
            d.commands.list.forEach((t) => M(e, t)),
            (t.show = o),
            { title: "All Commands", list: e }
          );
        }
        function j(e = !0) {
          const o = A();
          d.setCurrent([o]),
            "manual" != r.default.singleListCommandLine &&
              $("#commandLine").addClass("allCommands"),
            e && (0, t.show)();
        }
        (t.isSingleListCommandLineActive = P),
          (t.show = () => {
            (S = !1),
              $(".page.pageLoading").hasClass("hidden") &&
                (l.set(!1),
                $("#commandLine").removeClass("hidden"),
                $("#commandInput").addClass("hidden"),
                $("#commandLineWrapper").hasClass("hidden") &&
                  $("#commandLineWrapper")
                    .stop(!0, !0)
                    .css("opacity", 0)
                    .removeClass("hidden")
                    .animate({ opacity: 1 }, 100),
                $("#commandLine input").val(""),
                k(),
                $("#commandLine input").trigger("focus"));
          }),
          $("#commandLine input").on("input", () => {
            (_ = !1),
              $(
                "#commandLineWrapper #commandLine .suggestions .entry"
              ).removeClass("activeMouse"),
              k();
          }),
          $(document).ready(() => {
            $(document).on("keydown", (e) => {
              var o;
              if (!m.get()) {
                if (
                  (("Escape" === e.key && "esc" !== r.default.quickRestart) ||
                    ("p" ===
                      (null === (o = e.key) || void 0 === o
                        ? void 0
                        : o.toLowerCase()) &&
                      (e.metaKey || e.ctrlKey) &&
                      e.shiftKey) ||
                    (("Tab" === e.key || "Escape" === e.key) &&
                      "esc" === r.default.quickRestart)) &&
                  !$("#commandLineWrapper").hasClass("hidden")
                )
                  return (
                    d.current.length > 1
                      ? (d.current.pop(),
                        $("#commandLine").removeClass("allCommands"),
                        (0, t.show)())
                      : T(),
                    void u.setFontFamily(r.default.fontFamily, !0)
                  );
                if (
                  ("Escape" === e.key && "esc" !== r.default.quickRestart) ||
                  ("Tab" === e.key &&
                    "esc" === r.default.quickRestart &&
                    !g.hasTab &&
                    !e.shiftKey) ||
                  ("Tab" === e.key &&
                    "esc" === r.default.quickRestart &&
                    g.hasTab &&
                    e.shiftKey) ||
                  (e.key &&
                    "p" === e.key.toLowerCase() &&
                    (e.metaKey || e.ctrlKey) &&
                    e.shiftKey)
                ) {
                  if ((0, b.isAnyPopupVisible)()) return;
                  if ("esc" === r.default.quickRestart && "login" === v.get())
                    return;
                  e.preventDefault(),
                    "on" == r.default.singleListCommandLine
                      ? j(!1)
                      : d.setCurrent([d.commands]),
                    (0, t.show)();
                }
              }
            });
          }),
          $("#commandInput input").on("keydown", (e) => {
            if ("Enter" === e.key) {
              e.preventDefault();
              const t = $("#commandInput input").attr("command"),
                o = $("#commandInput input").val(),
                n = d.current[d.current.length - 1];
              $.each(n.list, (e, n) => {
                n.id == t && n.exec && n.exec(o);
              }),
                h.log("usedCommandLine", { command: null != t ? t : "" }),
                T();
            }
          }),
          $(document).on("mousemove", () => {
            _ || (_ = !0);
          }),
          $("#commandLineWrapper #commandLine").on(
            "mouseenter",
            ".suggestions .entry",
            (e) => {
              _ && $(e.target).addClass("activeMouse");
            }
          ),
          $("#commandLineWrapper #commandLine").on(
            "mouseleave",
            ".suggestions .entry",
            (e) => {
              _ && $(e.target).removeClass("activeMouse");
            }
          ),
          $("#commandLineWrapper #commandLine .suggestions").on(
            "mouseover",
            (e) => {
              if (!_) return;
              $(
                "#commandLineWrapper #commandLine .suggestions .entry"
              ).removeClass("activeKeyboard");
              const t = $(e.target).attr("command");
              try {
                const e = d.current[d.current.length - 1];
                $.each(e.list, (e, o) => {
                  o.id == t &&
                    ((/theme/gi.test(o.id) && "toggleCustomTheme" !== o.id) ||
                      s.randomTheme ||
                      s.clearPreview(),
                    /font/gi.test(o.id) ||
                      u.previewFontFamily(r.default.fontFamily),
                    o.hover && !S && o.hover());
                });
              } catch (e) {}
            }
          ),
          $("#commandLineWrapper #commandLine").on(
            "click",
            ".suggestions .entry",
            (e) => {
              (S = !0),
                $(".suggestions .entry").removeClass("activeKeyboard"),
                O($(e.currentTarget).attr("command"));
            }
          ),
          $("#commandLineWrapper").on("click", (e) => {
            "commandLineWrapper" === $(e.target).attr("id") &&
              (T(), u.setFontFamily(r.default.fontFamily, !0));
          }),
          $(document).on("keydown", (e) => {
            var o, n;
            if (!$("#commandLineWrapper").hasClass("hidden")) {
              if (
                ($("#commandLine input").trigger("focus"),
                ">" == e.key && "manual" == r.default.singleListCommandLine)
              ) {
                if (!P()) return void j(!1);
                if (">" == $("#commandLine input").val())
                  return void e.preventDefault();
              }
              if (
                (("Backspace" !== e.key && "Delete" !== e.key) ||
                  setTimeout(() => {
                    const e = $("#commandLine input").val();
                    "manual" == r.default.singleListCommandLine &&
                      P() &&
                      ">" !== e[0] &&
                      (function (e = !0) {
                        P() &&
                          ($("#commandLine").removeClass("allCommands"),
                          d.setCurrent(
                            d.current.filter((e) => "All Commands" != e.title)
                          ),
                          d.current.length < 1 && d.setCurrent([d.commands])),
                          e && (0, t.show)();
                      })(!1);
                  }, 1),
                "Enter" === e.key)
              )
                return (
                  e.preventDefault(),
                  void O(
                    $(".suggestions .entry.activeKeyboard").attr("command")
                  )
                );
              if (
                "ArrowUp" === e.key ||
                "ArrowDown" === e.key ||
                "Tab" === e.key
              ) {
                e.preventDefault(),
                  $(
                    "#commandLineWrapper #commandLine .suggestions .entry"
                  ).unbind("mouseenter mouseleave");
                const t = $(".suggestions .entry");
                let a,
                  i = -1;
                $.each(t, (e, t) => {
                  $(t).hasClass("activeKeyboard") && (i = e);
                }),
                  ("ArrowUp" === e.key ||
                    ("Tab" === e.key &&
                      e.shiftKey &&
                      "esc" !== r.default.quickRestart)) &&
                    (t.removeClass("activeKeyboard"),
                    0 == i
                      ? ($(t[t.length - 1]).addClass("activeKeyboard"),
                        (a = $(t[t.length - 1]).attr("command")))
                      : ($(t[--i]).addClass("activeKeyboard"),
                        (a = $(t[i]).attr("command")))),
                  ("ArrowDown" === e.key ||
                    ("Tab" === e.key &&
                      !e.shiftKey &&
                      "esc" !== r.default.quickRestart)) &&
                    (t.removeClass("activeKeyboard"),
                    i + 1 == t.length
                      ? ($(t[0]).addClass("activeKeyboard"),
                        (a = $(t[0]).attr("command")))
                      : ($(t[++i]).addClass("activeKeyboard"),
                        (a = $(t[i]).attr("command"))));
                try {
                  const e =
                    Math.abs(
                      (null === (o = $(".suggestions").offset()) || void 0 === o
                        ? void 0
                        : o.top) -
                        (null === (n = $(".entry.activeKeyboard").offset()) ||
                        void 0 === n
                          ? void 0
                          : n.top) -
                        $(".suggestions").scrollTop()
                    ) -
                    $(".suggestions").outerHeight() / 2 +
                    $($(".entry")[0]).outerHeight();
                  $(".suggestions").scrollTop(e);
                } catch (e) {
                  e instanceof Error &&
                    console.log("could not scroll suggestions: " + e.message);
                }
                try {
                  const e = d.current[d.current.length - 1];
                  $.each(e.list, (e, t) => {
                    t.id == a &&
                      ((/theme/gi.test(t.id) && "toggleCustomTheme" !== t.id) ||
                        s.randomTheme ||
                        s.clearPreview(),
                      /font/gi.test(t.id) ||
                        u.previewFontFamily(r.default.fontFamily),
                      t.hover && t.hover());
                  });
                } catch (e) {}
                return !1;
              }
            }
          }),
          $("#commandLineMobileButton").on("click", () => {
            "on" == r.default.singleListCommandLine
              ? j(!1)
              : d.setCurrent([d.commands]),
              (0, t.show)();
          }),
          $("#keymap").on("click", ".r5 .keySpace", () => {
            d.setCurrent([d.getList("keymapLayouts")]), (0, t.show)();
          }),
          $(".pageTest").on("click", "#testModesNotice .textButton", (e) => {
            const o = $(e.currentTarget).attr("commands");
            if (void 0 === o) return;
            const n = d.getList(o);
            void 0 !== n &&
              ("tags" === $(e.currentTarget).attr("commands") &&
                (0, C.update)(),
              d.pushCurrent(n),
              (0, t.show)());
          }),
          $("#bottom").on("click", ".leftright .right .current-theme", (e) => {
            var o, n;
            if (e.shiftKey)
              if (r.default.customTheme) u.setCustomTheme(!1);
              else {
                if (
                  (null === y.Auth || void 0 === y.Auth
                    ? void 0
                    : y.Auth.currentUser) &&
                  (null !==
                    (n =
                      null === (o = p.getSnapshot()) || void 0 === o
                        ? void 0
                        : o.customThemes.length) && void 0 !== n
                    ? n
                    : 0) < 1
                )
                  return (
                    f.add("No custom themes!", 0), void u.setCustomTheme(!1)
                  );
                u.setCustomTheme(!0);
              }
            else
              r.default.customTheme && (0, w.update)(),
                d.setCurrent([
                  r.default.customTheme
                    ? d.getList("customThemesList")
                    : d.getList("themes"),
                ]),
                (0, t.show)();
          }),
          $(document.body).on("click", ".pageAbout .aboutEnableAds", () => {
            d.pushCurrent(d.getList("enableAds")), (0, t.show)();
          }),
          $(".supportButtons .button.ads").on("click", () => {
            d.pushCurrent(d.getList("enableAds")), (0, t.show)();
          }),
          $(document.body).on("click", "#supportMeWrapper .button.ads", () => {
            d.pushCurrent(d.getList("enableAds")), (0, t.show)();
          });
      },
      8633: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = s,
          u = [
            {
              id: "addThemeToFavorite",
              display: "Add current theme to favorite",
              icon: "fa-heart",
              available: () =>
                !s.default.customTheme &&
                !s.default.favThemes.includes(s.default.theme),
              exec: () => {
                const { theme: e, favThemes: t, customTheme: o } = s.default;
                o || t.includes(e) || r.setFavThemes([...t, e]);
              },
            },
            {
              id: "removeThemeFromFavorite",
              display: "Remove current theme from favorite",
              icon: "fa-heart-broken",
              available: () =>
                !s.default.customTheme &&
                s.default.favThemes.includes(s.default.theme),
              exec: () => {
                const { theme: e, favThemes: t, customTheme: o } = s.default;
                !o &&
                  t.includes(e) &&
                  r.setFavThemes([...t.filter((t) => t !== e)]);
              },
            },
          ];
        t.default = u;
      },
      6742: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeAlwaysShowCPM",
              display: "Always show CPM...",
              icon: "fa-tachometer-alt",
              subgroup: {
                title: "Always show CPM...",
                configKey: "alwaysShowCPM",
                list: [
                  {
                    id: "setAlwaysShowCPMOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setAlwaysShowCPM(!1);
                    },
                  },
                  {
                    id: "setAlwaysShowCPMOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setAlwaysShowCPM(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5979: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeAlwaysShowDecimal",
              display: "Always show decimal places...",
              icon: "00",
              subgroup: {
                title: "Always show decimal places...",
                configKey: "alwaysShowDecimalPlaces",
                list: [
                  {
                    id: "setAlwaysShowDecimalPlacesOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setAlwaysShowDecimalPlaces(!1);
                    },
                  },
                  {
                    id: "setAlwaysShowDecimalPlacesOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setAlwaysShowDecimalPlaces(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5077: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const r = s(o(6705)),
          u = i(o(8248)),
          l = i(o(3013)),
          d = i(o(4897)),
          c = i(o(7717));
        function p() {
          return (
            ("custom" === r.default.mode && !0 === c.isCustomTextLong()) ||
            ("custom" === r.default.mode &&
              u.isWordRandom &&
              (u.word >= 5e3 || 0 == u.word)) ||
            ("custom" === r.default.mode &&
              !u.isWordRandom &&
              !u.isTimeRandom &&
              u.text.length >= 5e3) ||
            ("custom" === r.default.mode &&
              u.isTimeRandom &&
              (u.time >= 3600 || 0 == u.time)) ||
            ("words" === r.default.mode && r.default.words >= 5e3) ||
            0 === r.default.words ||
            ("time" === r.default.mode &&
              (r.default.time >= 3600 || 0 === r.default.time)) ||
            "zen" == r.default.mode
          );
        }
        const f = [
          {
            id: "bailOut",
            display: "Bail out...",
            icon: "fa-running",
            subgroup: {
              title: "Are you sure...",
              list: [
                { id: "bailOutNo", display: "Nevermind", available: () => p() },
                {
                  id: "bailOutForSure",
                  display: "Yes, I am sure",
                  exec: () => {
                    d.setBailout(!0), l.finish();
                  },
                  available: () => p(),
                },
              ],
            },
            visible: !1,
            available: () => p(),
          },
        ];
        t.default = f;
      },
      4267: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeBlindMode",
              display: "Blind mode...",
              icon: "fa-eye-slash",
              subgroup: {
                title: "Blind mode...",
                configKey: "blindMode",
                list: [
                  {
                    id: "setBlindModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setBlindMode(!1);
                    },
                  },
                  {
                    id: "setBlindModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setBlindMode(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      4846: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = [
            {
              id: "changeBritishEnglish",
              display: "British english...",
              icon: "fa-language",
              subgroup: {
                title: "British english...",
                configKey: "britishEnglish",
                list: [
                  {
                    id: "setBritishEnglishOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setBritishEnglish(!1), r.restart();
                    },
                  },
                  {
                    id: "setBritishEnglishOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setBritishEnglish(!0), r.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      9050: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "capsLockWarning",
              display: "Caps lock warning...",
              icon: "fa-exclamation-triangle",
              subgroup: {
                title: "Caps lock warning...",
                configKey: "capsLockWarning",
                list: [
                  {
                    id: "capsLockWarningOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setCapsLockWarning(!0);
                    },
                  },
                  {
                    id: "capsLockWarningOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setCapsLockWarning(!1);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      2815: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeCaretStyle",
              display: "Caret style...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Caret style...",
                configKey: "caretStyle",
                list: [
                  {
                    id: "setCaretStyleOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setCaretStyle("off");
                    },
                  },
                  {
                    id: "setCaretStyleDefault",
                    display: "line",
                    configValue: "default",
                    exec: () => {
                      s.setCaretStyle("default");
                    },
                  },
                  {
                    id: "setCaretStyleBlock",
                    display: "block",
                    configValue: "block",
                    exec: () => {
                      s.setCaretStyle("block");
                    },
                  },
                  {
                    id: "setCaretStyleOutline",
                    display: "outline-block",
                    configValue: "outline",
                    exec: () => {
                      s.setCaretStyle("outline");
                    },
                  },
                  {
                    id: "setCaretStyleUnderline",
                    display: "underline",
                    configValue: "underline",
                    exec: () => {
                      s.setCaretStyle("underline");
                    },
                  },
                  {
                    id: "setCaretStyleCarrot",
                    display: "carrot",
                    configValue: "carrot",
                    visible: !1,
                    exec: () => {
                      s.setCaretStyle("carrot");
                    },
                  },
                  {
                    id: "setCaretStyleBanana",
                    display: "banana",
                    configValue: "banana",
                    visible: !1,
                    exec: () => {
                      s.setCaretStyle("banana");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      129: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeColorfulMode",
              display: "Colorful mode...",
              icon: "fa-fill-drip",
              subgroup: {
                title: "Colorful mode...",
                configKey: "colorfulMode",
                list: [
                  {
                    id: "setColorfulModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setColorfulMode(!1);
                    },
                  },
                  {
                    id: "setColorfulModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setColorfulMode(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      3635: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeConfidenceMode",
              display: "Confidence mode...",
              icon: "fa-backspace",
              subgroup: {
                title: "Confidence mode...",
                configKey: "confidenceMode",
                list: [
                  {
                    id: "changeConfidenceModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setConfidenceMode("off");
                    },
                  },
                  {
                    id: "changeConfidenceModeOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      s.setConfidenceMode("on");
                    },
                  },
                  {
                    id: "changeConfidenceModeMax",
                    display: "max",
                    configValue: "max",
                    exec: () => {
                      s.setConfidenceMode("max");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      8520: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.subgroup = void 0);
        const s = i(o(6705));
        t.subgroup = {
          title: "Custom theme",
          configKey: "customTheme",
          list: [
            {
              id: "setCustomThemeOff",
              display: "off",
              configValue: !1,
              exec: () => {
                s.setCustomTheme(!1);
              },
            },
            {
              id: "setCustomThemeOn",
              display: "on",
              configValue: !0,
              exec: () => {
                s.setCustomTheme(!0);
              },
            },
          ],
        };
        const r = [
          {
            id: "setCustomTheme",
            display: "Custom theme...",
            icon: "fa-palette",
            subgroup: t.subgroup,
          },
        ];
        t.default = r;
      },
      6649: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = t.subgroup = void 0);
        const s = i(o(6705)),
          r = o(6617),
          u = i(o(6350)),
          l = i(o(743));
        t.subgroup = { title: "Custom themes list...", list: [] };
        const d = [
          {
            id: "setCustomThemeId",
            display: "Custom themes...",
            icon: "fa-palette",
            subgroup: t.subgroup,
            beforeSubgroup: () => c(),
            available: () =>
              !!(null === r.Auth || void 0 === r.Auth
                ? void 0
                : r.Auth.currentUser),
          },
        ];
        function c() {
          var e, o;
          (null === r.Auth || void 0 === r.Auth
            ? void 0
            : r.Auth.currentUser) &&
            ((t.subgroup.list = []),
            u.getSnapshot() &&
              0 !==
                (null === (e = u.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.customThemes.length) &&
              (null === (o = u.getSnapshot()) ||
                void 0 === o ||
                o.customThemes.forEach((e) => {
                  t.subgroup.list.push({
                    id: "setCustomThemeId" + e._id,
                    display: e.name,
                    configValue: e._id,
                    hover: () => {
                      l.preview(e._id, !0);
                    },
                    exec: () => {
                      s.setCustomTheme(!0), l.set(e._id, !0);
                    },
                  });
                })));
        }
        (t.update = c), (t.default = d);
      },
      2745: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeDifficulty",
              display: "Difficulty...",
              icon: "fa-star",
              subgroup: {
                title: "Difficulty...",
                configKey: "difficulty",
                list: [
                  {
                    id: "setDifficultyNormal",
                    display: "normal",
                    configValue: "normal",
                    exec: () => {
                      s.setDifficulty("normal");
                    },
                  },
                  {
                    id: "setDifficultyExpert",
                    display: "expert",
                    configValue: "expert",
                    exec: () => {
                      s.setDifficulty("expert");
                    },
                  },
                  {
                    id: "setDifficultyMaster",
                    display: "master",
                    configValue: "master",
                    exec: () => {
                      s.setDifficulty("master");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      1276: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.subgroup = void 0);
        const s = i(o(6705));
        t.subgroup = {
          title: "Set enable ads...",
          configKey: "ads",
          list: [
            {
              id: "setEnableAdsOff",
              display: "off",
              configValue: "off",
              exec: () => {
                s.setAds("off");
              },
            },
            {
              id: "setEnableAdsOn",
              display: "result",
              configValue: "result",
              exec: () => {
                s.setAds("result");
              },
            },
            {
              id: "setEnableOn",
              display: "on",
              configValue: "on",
              exec: () => {
                s.setAds("on");
              },
            },
            {
              id: "setEnableSellout",
              display: "sellout",
              configValue: "sellout",
              exec: () => {
                s.setAds("sellout");
              },
            },
          ],
        };
        const r = [
          {
            id: "setEnableAds",
            display: "Enable ads...",
            icon: "fa-ad",
            subgroup: t.subgroup,
          },
        ];
        t.default = r;
      },
      5943: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeFlipTestColors",
              display: "Flip test colors...",
              icon: "fa-adjust",
              subgroup: {
                title: "Flip test colors...",
                configKey: "flipTestColors",
                list: [
                  {
                    id: "setFlipTestColorsOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setFlipTestColors(!1);
                    },
                  },
                  {
                    id: "setFlipTestColorsOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setFlipTestColors(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      8638: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const s = i(o(6705)),
          r = s,
          u = { title: "Font family...", configKey: "fontFamily", list: [] },
          l = [
            {
              id: "changeFontFamily",
              display: "Font family...",
              icon: "fa-font",
              subgroup: u,
            },
          ];
        (t.update = function (e) {
          e.forEach((e) => {
            const t = e.name.replace(/ /g, "_");
            u.list.push({
              id: "changeFont" + e.name.replace(/ /g, "_"),
              display: void 0 !== e.display ? e.display : e.name,
              configValue: t,
              hover: () => {
                r.previewFontFamily(e.name);
              },
              exec: () => {
                r.setFontFamily(e.name.replace(/ /g, "_"));
              },
            });
          }),
            u.list.push({
              id: "setFontFamilyCustom",
              display: "custom...",
              input: !0,
              hover: () => {
                r.previewFontFamily(s.default.fontFamily);
              },
              exec: (e) => {
                e && r.setFontFamily(e.replace(/\s/g, "_"));
              },
            });
        }),
          (t.default = l);
      },
      2546: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = s,
          u = i(o(8673)),
          l = [
            {
              id: "changeFontSize",
              display: "Font size...",
              icon: "fa-font",
              input: !0,
              defaultValue: () => s.default.fontSize.toString(),
              exec: (e) => {
                e &&
                  (r.setFontSize(parseFloat(e)),
                  setTimeout(() => {
                    u.updateWordsHeight();
                  }, 0));
              },
            },
          ];
        t.default = l;
      },
      944: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeFreedomMode",
              display: "Freedom mode...",
              subgroup: {
                title: "Freedom mode...",
                configKey: "freedomMode",
                list: [
                  {
                    id: "setfreedomModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setFreedomMode(!1);
                    },
                  },
                  {
                    id: "setfreedomModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setFreedomMode(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      6780: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const s = i(o(8059)),
          r = i(o(3013)),
          u = {
            title: "Funbox...",
            configKey: "funbox",
            list: [
              {
                id: "changeFunboxNone",
                display: "none",
                configValue: "none",
                alias: "off",
                exec: () => {
                  s.setFunbox("none", null) && r.restart();
                },
              },
            ],
          },
          l = [
            {
              id: "changeFunbox",
              display: "Funbox...",
              alias: "fun box",
              icon: "fa-gamepad",
              subgroup: u,
            },
          ];
        (t.update = function (e) {
          e.forEach((e) => {
            u.list.push({
              id: "changeFunbox" + e.name,
              display: e.name.replace(/_/g, " "),
              alias: e.alias,
              configValue: e.name,
              exec: () => {
                s.setFunbox(e.name, e.type) && r.restart();
              },
            });
          });
        }),
          (t.default = l);
      },
      1059: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeHideExtraLetters",
              display: "Hide extra letters...",
              icon: "fa-eye-slash",
              subgroup: {
                title: "Hide extra letters...",
                configKey: "hideExtraLetters",
                list: [
                  {
                    id: "setHideExtraLettersOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setHideExtraLetters(!1);
                    },
                  },
                  {
                    id: "setHideExtraLettersOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setHideExtraLetters(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      9651: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeHighlightMode",
              display: "Highlight mode...",
              icon: "fa-highlighter",
              subgroup: {
                title: "Highlight mode...",
                configKey: "highlightMode",
                list: [
                  {
                    id: "setHighlightModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setHighlightMode("off");
                    },
                  },
                  {
                    id: "setHighlightModeLetter",
                    display: "letter",
                    configValue: "letter",
                    exec: () => {
                      s.setHighlightMode("letter");
                    },
                  },
                  {
                    id: "setHighlightModeWord",
                    display: "word",
                    configValue: "word",
                    exec: () => {
                      s.setHighlightMode("word");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5547: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeIndicateTypos",
              display: "Indicate typos...",
              icon: "fa-exclamation",
              subgroup: {
                title: "Indicate typos...",
                configKey: "indicateTypos",
                list: [
                  {
                    id: "setIndicateTyposOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setIndicateTypos("off");
                    },
                  },
                  {
                    id: "setIndicateTyposBelow",
                    display: "below",
                    configValue: "below",
                    exec: () => {
                      s.setIndicateTypos("below");
                    },
                  },
                  {
                    id: "setIndicateTyposReplace",
                    display: "replace",
                    configValue: "replace",
                    exec: () => {
                      s.setIndicateTypos("replace");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      2132: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeKeyTips",
              display: "Key tips...",
              icon: "fa-question",
              subgroup: {
                title: "Key tips...",
                configKey: "showKeyTips",
                list: [
                  {
                    id: "setKeyTipsOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setKeyTips(!1);
                    },
                  },
                  {
                    id: "setKeyTipsOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setKeyTips(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      1178: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = t.subgroup = void 0);
        const s = i(o(6705)),
          r = i(o(3013)),
          u = o(3388);
        t.subgroup = {
          title: "Change keymap layout...",
          configKey: "keymapLayout",
          list: [
            {
              id: "couldnotload",
              display: "Could not load the layouts list :(",
            },
          ],
        };
        const l = [
          {
            id: "changeKeymapLayout",
            display: "Keymap layout...",
            alias: "keyboard",
            icon: "fa-keyboard",
            subgroup: t.subgroup,
          },
        ];
        (t.update = function (e) {
          (t.subgroup.list = []),
            t.subgroup.list.push({
              id: "changeKeymapLayoutOverrideSync",
              display: "emulator sync",
              configValue: "overrideSync",
              exec: () => {
                s.setKeymapLayout("overrideSync"), r.restart();
              },
            }),
            Object.keys(e).forEach((e) => {
              "default" != e.toString() &&
                t.subgroup.list.push({
                  id:
                    "changeKeymapLayout" +
                    (0, u.capitalizeFirstLetterOfEachWord)(e),
                  display: e.replace(/_/g, " "),
                  configValue: e,
                  exec: () => {
                    s.setKeymapLayout(e), r.restart();
                  },
                });
            });
        }),
          (t.default = l);
      },
      8137: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeKeymapLegendStyle",
              display: "Keymap legend style...",
              alias: "keyboard",
              icon: "fa-keyboard",
              subgroup: {
                title: "Keymap legend style...",
                configKey: "keymapLegendStyle",
                list: [
                  {
                    id: "setKeymapLegendStyleLowercase",
                    display: "lowercase",
                    configValue: "lowercase",
                    exec: () => {
                      s.setKeymapLegendStyle("lowercase");
                    },
                  },
                  {
                    id: "setKeymapLegendStyleUppercase",
                    display: "uppercase",
                    configValue: "uppercase",
                    exec: () => {
                      s.setKeymapLegendStyle("uppercase");
                    },
                  },
                  {
                    id: "setKeymapLegendStyleBlank",
                    display: "blank",
                    configValue: "blank",
                    exec: () => {
                      s.setKeymapLegendStyle("blank");
                    },
                  },
                  {
                    id: "setKeymapLegendStyleDynamic",
                    display: "dynamic",
                    configValue: "dynamic",
                    exec: () => {
                      s.setKeymapLegendStyle("dynamic");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      4580: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "toggleKeymap",
              display: "Keymap mode...",
              icon: "fa-keyboard",
              alias: "keyboard",
              subgroup: {
                title: "Keymap mode...",
                configKey: "keymapMode",
                list: [
                  {
                    id: "setKeymapModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setKeymapMode("off");
                    },
                  },
                  {
                    id: "setKeymapModeStatic",
                    display: "static",
                    configValue: "static",
                    exec: () => {
                      s.setKeymapMode("static");
                    },
                  },
                  {
                    id: "setKeymapModeNext",
                    display: "next",
                    configValue: "next",
                    exec: () => {
                      s.setKeymapMode("next");
                    },
                  },
                  {
                    id: "setKeymapModeReact",
                    display: "react",
                    alias: "flash",
                    configValue: "react",
                    exec: () => {
                      s.setKeymapMode("react");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      6880: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeKeymapShowTopRow",
              display: "Keymap show top row...",
              alias: "keyboard",
              icon: "fa-keyboard",
              subgroup: {
                title: "Keymap show top row...",
                configKey: "keymapShowTopRow",
                list: [
                  {
                    id: "keymapShowTopRowAlways",
                    display: "always",
                    configValue: "always",
                    exec: () => {
                      s.setKeymapShowTopRow("always");
                    },
                  },
                  {
                    id: "keymapShowTopRowLayout",
                    display: "layout dependent",
                    configValue: "layout",
                    exec: () => {
                      s.setKeymapShowTopRow("layout");
                    },
                  },
                  {
                    id: "keymapShowTopRowNever",
                    display: "never",
                    configValue: "never",
                    exec: () => {
                      s.setKeymapShowTopRow("never");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      9937: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeKeymapStyle",
              display: "Keymap style...",
              alias: "keyboard",
              icon: "fa-keyboard",
              subgroup: {
                title: "Keymap style...",
                configKey: "keymapStyle",
                list: [
                  {
                    id: "setKeymapStyleStaggered",
                    display: "staggered",
                    configValue: "staggered",
                    exec: () => {
                      s.setKeymapStyle("staggered");
                    },
                  },
                  {
                    id: "setKeymapStyleAlice",
                    display: "alice",
                    configValue: "alice",
                    exec: () => {
                      s.setKeymapStyle("alice");
                    },
                  },
                  {
                    id: "setKeymapStyleMatrix",
                    display: "matrix",
                    configValue: "matrix",
                    exec: () => {
                      s.setKeymapStyle("matrix");
                    },
                  },
                  {
                    id: "setKeymapStyleSplit",
                    display: "split",
                    configValue: "split",
                    exec: () => {
                      s.setKeymapStyle("split");
                    },
                  },
                  {
                    id: "setKeymapStyleSplitMatrix",
                    display: "split matrix",
                    configValue: "split_matrix",
                    exec: () => {
                      s.setKeymapStyle("split_matrix");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5064: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const s = i(o(6705)),
          r = i(o(3013)),
          u = o(3388),
          l = {
            title: "Language...",
            configKey: "language",
            list: [
              {
                id: "couldnotload",
                display: "Could not load the languages list :(",
              },
            ],
          },
          d = [
            {
              id: "changeLanguage",
              display: "Language...",
              icon: "fa-language",
              subgroup: l,
            },
          ];
        (t.update = function (e) {
          (l.list = []),
            e.forEach((e) => {
              l.list.push({
                id:
                  "changeLanguage" + (0, u.capitalizeFirstLetterOfEachWord)(e),
                display: e.replace(/_/g, " "),
                configValue: e,
                exec: () => {
                  s.setLanguage(e), r.restart();
                },
              });
            });
        }),
          (t.default = d);
      },
      2642: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const s = i(o(6705)),
          r = i(o(3013)),
          u = o(3388),
          l = {
            title: "Layout emulator...",
            configKey: "layout",
            list: [
              {
                id: "couldnotload",
                display: "Could not load the layouts list :(",
              },
            ],
          },
          d = [
            {
              id: "changeLayout",
              display: "Layout emulator...",
              icon: "fa-keyboard",
              subgroup: l,
            },
          ];
        (t.update = function (e) {
          (l.list = []),
            l.list.push({
              id: "changeLayoutDefault",
              display: "off",
              configValue: "default",
              exec: () => {
                s.setLayout("default"), r.restart();
              },
            }),
            Object.keys(e).forEach((e) => {
              l.list.push({
                id: "changeLayout" + (0, u.capitalizeFirstLetterOfEachWord)(e),
                display: "default" === e ? "off" : e.replace(/_/g, " "),
                configValue: e,
                exec: () => {
                  s.setLayout(e), r.restart();
                },
              });
            });
        }),
          (t.default = d);
      },
      8846: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = [
            {
              id: "changeLazyMode",
              display: "Lazy mode...",
              icon: "fa-couch",
              subgroup: {
                title: "Lazy mode...",
                configKey: "lazyMode",
                list: [
                  {
                    id: "setLazyModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setLazyMode(!1), r.restart();
                    },
                  },
                  {
                    id: "setLazyModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setLazyMode(!0), r.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      2291: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeLiveAcc",
              display: "Live accuracy...",
              icon: "fa-percentage",
              subgroup: {
                title: "Live accuracy...",
                configKey: "showLiveAcc",
                list: [
                  {
                    id: "setLiveAccOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setShowLiveAcc(!1);
                    },
                  },
                  {
                    id: "setLiveAccOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setShowLiveAcc(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5989: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeLiveBurst",
              display: "Live burst...",
              icon: "fa-fire-alt",
              subgroup: {
                title: "Live burst...",
                configKey: "showLiveBurst",
                list: [
                  {
                    id: "setLiveBurstOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setShowLiveBurst(!1);
                    },
                  },
                  {
                    id: "setLiveBurstOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setShowLiveBurst(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      8489: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeLiveWpm",
              display: "Live WPM...",
              icon: "fa-tachometer-alt",
              subgroup: {
                title: "Live WPM...",
                configKey: "showLiveWpm",
                list: [
                  {
                    id: "setLiveWpmOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setShowLiveWpm(!1);
                    },
                  },
                  {
                    id: "setLiveWpmOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setShowLiveWpm(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      8351: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = t.subgroup = void 0);
        const r = o(2428),
          u = i(o(7567)),
          l = i(o(3013)),
          d = o(3388);
        t.subgroup = { title: "Load challenge...", list: [] };
        const c = [
          {
            id: "loadChallenge",
            display: "Load challenge...",
            icon: "fa-award",
            subgroup: t.subgroup,
          },
        ];
        (t.update = function (e) {
          e.forEach((e) => {
            t.subgroup.list.push({
              id:
                "loadChallenge" +
                (0, d.capitalizeFirstLetterOfEachWord)(e.name),
              noIcon: !0,
              display: e.display,
              exec: () =>
                s(this, void 0, void 0, function* () {
                  (0, r.navigate)("/"),
                    yield u.setup(e.name),
                    l.restart({ nosave: !0 });
                }),
            });
          });
        }),
          (t.default = c);
      },
      1404: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeMinAcc",
              display: "Minimum accuracy...",
              alias: "minimum",
              icon: "fa-bomb",
              subgroup: {
                title: "Change min accuracy mode...",
                configKey: "minAcc",
                list: [
                  {
                    id: "setMinAccOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setMinAcc("off");
                    },
                  },
                  {
                    id: "setMinAccCustom",
                    display: "custom...",
                    configValue: "custom",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (s.setMinAccCustom(parseInt(e)), s.setMinAcc("custom"));
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      6609: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeMinBurst",
              display: "Minimum burst...",
              alias: "minimum",
              icon: "fa-bomb",
              subgroup: {
                title: "Change min burst mode...",
                configKey: "minBurst",
                list: [
                  {
                    id: "setMinBurstOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setMinBurst("off");
                    },
                  },
                  {
                    id: "setMinBurstFixed",
                    display: "fixed...",
                    configValue: "fixed",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (s.setMinBurst("fixed"),
                        s.setMinBurstCustomSpeed(parseInt(e)));
                    },
                  },
                  {
                    id: "setMinBurstFlex",
                    display: "flex...",
                    configValue: "flex",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (s.setMinBurst("flex"),
                        s.setMinBurstCustomSpeed(parseInt(e)));
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      4981: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeMinWpm",
              display: "Minimum wpm...",
              alias: "minimum",
              icon: "fa-bomb",
              subgroup: {
                title: "Change min wpm mode...",
                configKey: "minWpm",
                list: [
                  {
                    id: "setMinWpmOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setMinWpm("off");
                    },
                  },
                  {
                    id: "setMinWpmCustom",
                    display: "custom...",
                    configValue: "custom",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (s.setMinWpmCustomSpeed(parseInt(e)),
                        s.setMinWpm("custom"));
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      3045: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = i(o(2203)),
          l = [
            {
              id: "changeMode",
              display: "Mode...",
              icon: "fa-bars",
              subgroup: {
                title: "Change mode...",
                configKey: "mode",
                list: [
                  {
                    id: "changeModeTime",
                    display: "time",
                    configValue: "time",
                    exec: () => {
                      s.setMode("time"), r.restart();
                    },
                  },
                  {
                    id: "changeModeWords",
                    display: "words",
                    configValue: "words",
                    exec: () => {
                      s.setMode("words"), r.restart();
                    },
                  },
                  {
                    id: "changeModeQuote",
                    display: "quote",
                    configValue: "quote",
                    exec: () => {
                      s.setMode("quote"), r.restart();
                    },
                  },
                  {
                    id: "changeModeCustom",
                    display: "custom",
                    configValue: "custom",
                    exec: () => {
                      s.setMode("custom"), r.restart();
                    },
                  },
                  {
                    id: "changeModeZen",
                    display: "zen",
                    configValue: "zen",
                    exec: () => {
                      s.setMode("zen"), u.set(), r.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      788: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "monkeyPower",
              display: "Power mode...",
              alias: "powermode",
              icon: "fa-egg",
              visible: !1,
              subgroup: {
                title: "Power mode...",
                configKey: "monkeyPowerLevel",
                list: [
                  {
                    id: "monkeyPowerLevelOff",
                    display: "off",
                    configValue: "off",
                    exec: () => s.setMonkeyPowerLevel("off"),
                  },
                  {
                    id: "monkeyPowerLevel1",
                    display: "mellow",
                    configValue: "1",
                    exec: () => s.setMonkeyPowerLevel("1"),
                  },
                  {
                    id: "monkeyPowerLevel2",
                    display: "high",
                    configValue: "2",
                    exec: () => s.setMonkeyPowerLevel("2"),
                  },
                  {
                    id: "monkeyPowerLevel3",
                    display: "ultra",
                    configValue: "3",
                    exec: () => s.setMonkeyPowerLevel("3"),
                  },
                  {
                    id: "monkeyPowerLevel4",
                    display: "over 9000",
                    configValue: "4",
                    exec: () => s.setMonkeyPowerLevel("4"),
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5093: (e, t, o) => {
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = o(2428),
          a = o(3388),
          i = [
            {
              id: "viewTypingPage",
              display: "View Typing Page",
              alias: "start begin type test",
              icon: "fa-keyboard",
              exec: () => {
                (0, n.navigate)("/");
              },
            },
            {
              id: "viewLeaderboards",
              display: "View Leaderboards",
              icon: "fa-crown",
              exec: () => {
                $("#top #menu .textButton.view-leaderboards").trigger("click");
              },
            },
            {
              id: "viewAbout",
              display: "View About Page",
              icon: "fa-info",
              exec: () => {
                (0, n.navigate)("/about");
              },
            },
            {
              id: "viewSettings",
              display: "View Settings Page",
              icon: "fa-cog",
              exec: () => {
                (0, n.navigate)("/settings");
              },
            },
            {
              id: "viewAccount",
              display: "View Account Page",
              icon: "fa-user",
              alias: "stats",
              exec: () => {
                $("#top #menu .textButton.view-account").hasClass("hidden")
                  ? (0, n.navigate)("/login")
                  : (0, n.navigate)("/account");
              },
            },
            {
              id: "toggleFullscreen",
              display: "Toggle Fullscreen",
              icon: "fa-expand",
              exec: () => {
                (0, a.toggleFullscreen)();
              },
            },
          ];
        t.default = i;
      },
      1453: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = [
            {
              id: "changeNumbers",
              display: "Numbers...",
              icon: "fa-hashtag",
              subgroup: {
                title: "Numbers...",
                configKey: "numbers",
                list: [
                  {
                    id: "changeNumbersOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setNumbers(!0), r.restart();
                    },
                  },
                  {
                    id: "changeNumbersOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setNumbers(!1), r.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      4770: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(2453)),
          u = [
            {
              id: "changeOppositeShiftMode",
              display: "Change opposite shift mode...",
              icon: "fa-exchange-alt",
              subgroup: {
                title: "Change opposite shift mode...",
                configKey: "oppositeShiftMode",
                list: [
                  {
                    id: "setOppositeShiftModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setOppositeShiftMode("off"), r.update();
                    },
                  },
                  {
                    id: "setOppositeShiftModeOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      s.setOppositeShiftMode("on"), r.update();
                    },
                  },
                  {
                    id: "setOppositeShiftModeKeymap",
                    display: "keymap",
                    configValue: "keymap",
                    exec: () => {
                      s.setOppositeShiftMode("keymap"), r.update();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      3054: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeOutOfFocusWarning",
              display: "Out of focus warning...",
              icon: "fa-exclamation",
              subgroup: {
                title: "Colorful mode...",
                configKey: "showOutOfFocusWarning",
                list: [
                  {
                    id: "setShowOutOfFocusWarningOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setShowOutOfFocusWarning(!1);
                    },
                  },
                  {
                    id: "setShowOutOfFocusWarningOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setShowOutOfFocusWarning(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      9950: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changePaceCaretStyle",
              display: "Pace caret style...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Change pace caret style...",
                configKey: "paceCaretStyle",
                list: [
                  {
                    id: "setPaceCaretStyleDefault",
                    display: "line",
                    configValue: "default",
                    exec: () => {
                      s.setPaceCaretStyle("default");
                    },
                  },
                  {
                    id: "setPaceCaretStyleBlock",
                    display: "block",
                    configValue: "block",
                    exec: () => {
                      s.setPaceCaretStyle("block");
                    },
                  },
                  {
                    id: "setPaceCaretStyleOutline",
                    display: "outline-block",
                    configValue: "outline",
                    exec: () => {
                      s.setPaceCaretStyle("outline");
                    },
                  },
                  {
                    id: "setPaceCaretStyleUnderline",
                    display: "underline",
                    configValue: "underline",
                    exec: () => {
                      s.setPaceCaretStyle("underline");
                    },
                  },
                  {
                    id: "setPaceCaretStyleCarrot",
                    display: "carrot",
                    configValue: "carrot",
                    visible: !1,
                    exec: () => {
                      s.setPaceCaretStyle("carrot");
                    },
                  },
                  {
                    id: "setPaceCaretStyleBanana",
                    display: "banana",
                    configValue: "banana",
                    visible: !1,
                    exec: () => {
                      s.setPaceCaretStyle("banana");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      856: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = [
            {
              id: "changePaceCaret",
              display: "Pace caret mode...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Pace caret mode...",
                configKey: "paceCaret",
                list: [
                  {
                    id: "setPaceCaretOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setPaceCaret("off"), r.restart();
                    },
                  },
                  {
                    id: "setPaceCaretPb",
                    display: "pb",
                    configValue: "pb",
                    exec: () => {
                      s.setPaceCaret("pb"), r.restart();
                    },
                  },
                  {
                    id: "setPaceCaretLast",
                    display: "last",
                    configValue: "last",
                    exec: () => {
                      s.setPaceCaret("last"), r.restart();
                    },
                  },
                  {
                    id: "setPaceCaretAverage",
                    display: "average",
                    configValue: "average",
                    exec: () => {
                      s.setPaceCaret("average"), r.restart();
                    },
                  },
                  {
                    id: "setPaceCaretDaily",
                    display: "daily",
                    configValue: "daily",
                    exec: () => {
                      s.setPaceCaret("daily"), r.restart();
                    },
                  },
                  {
                    id: "setPaceCaretCustom",
                    display: "custom...",
                    configValue: "custom",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (s.setPaceCaretCustomSpeed(parseInt(e)),
                        s.setPaceCaret("custom"),
                        r.restart());
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      3049: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changePageWidth",
              display: "Page width...",
              icon: "fa-arrows-alt-h",
              subgroup: {
                title: "Page width...",
                configKey: "pageWidth",
                list: [
                  {
                    id: "setPageWidth100",
                    display: "100",
                    configValue: "100",
                    exec: () => {
                      s.setPageWidth("100");
                    },
                  },
                  {
                    id: "setPageWidth125",
                    display: "125",
                    configValue: "125",
                    exec: () => {
                      s.setPageWidth("125");
                    },
                  },
                  {
                    id: "setPageWidth150",
                    display: "150",
                    configValue: "150",
                    exec: () => {
                      s.setPageWidth("150");
                    },
                  },
                  {
                    id: "setPageWidth200",
                    display: "200",
                    configValue: "200",
                    exec: () => {
                      s.setPageWidth("200");
                    },
                  },
                  {
                    id: "setPageWidthMax",
                    display: "max",
                    configValue: "max",
                    exec: () => {
                      s.setPageWidth("max");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      7103: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const s = i(o(6350)),
          r = i(o(2453)),
          u = i(o(8835)),
          l = i(o(4984)),
          d = i(o(2845)),
          c = o(6617),
          p = { title: "Presets...", list: [] },
          f = [
            {
              visible: !1,
              id: "applyPreset",
              display: "Presets...",
              icon: "fa-sliders-h",
              subgroup: p,
              beforeSubgroup: () => {
                h();
              },
              available: () =>
                !!(null === c.Auth || void 0 === c.Auth
                  ? void 0
                  : c.Auth.currentUser),
            },
          ];
        function h() {
          const e = s.getSnapshot();
          (p.list = []),
            e &&
              e.presets &&
              0 !== e.presets.length &&
              (e.presets.forEach((e) => {
                const t = e.display;
                p.list.push({
                  id: "applyPreset" + e._id,
                  display: t,
                  exec: () => {
                    u.setEventDisabled(!0),
                      l.apply(e._id),
                      u.setEventDisabled(!1),
                      u.update(),
                      r.update();
                  },
                });
              }),
              p.list.push({
                id: "createPreset",
                display: "Create preset",
                icon: "fa-plus",
                exec: () => {
                  d.show("add");
                },
              }));
        }
        (t.update = h), (t.default = f);
      },
      5724: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = [
            {
              id: "changePunctuation",
              display: "Punctuation...",
              icon: "fa-at",
              subgroup: {
                title: "Change punctuation...",
                configKey: "punctuation",
                list: [
                  {
                    id: "changePunctuationOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setPunctuation(!0), r.restart();
                    },
                  },
                  {
                    id: "changePunctuationOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setPunctuation(!1), r.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7087: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeQuickEnd",
              display: "Quick end...",
              icon: "fa-step-forward",
              subgroup: {
                title: "Quick end...",
                configKey: "quickEnd",
                list: [
                  {
                    id: "setQuickEndOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setQuickEnd(!1);
                    },
                  },
                  {
                    id: "setQuickEndOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setQuickEnd(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      3750: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeQuickRestart",
              display: "Quick restart...",
              icon: "fa-redo-alt",
              subgroup: {
                title: "Quick restart...",
                configKey: "quickRestart",
                list: [
                  {
                    id: "changeQuickRestartTab",
                    display: "tab",
                    configValue: "tab",
                    exec: () => {
                      s.setQuickRestartMode("tab");
                    },
                  },
                  {
                    id: "changeQuickRestartEsc",
                    display: "esc",
                    configValue: "esc",
                    exec: () => {
                      s.setQuickRestartMode("esc");
                    },
                  },
                  {
                    id: "changeQuickRestartOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setQuickRestartMode("off");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      4475: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = o(6617),
          l = [
            {
              id: "changeQuoteLength",
              display: "Quote length...",
              icon: "fa-quote-right",
              alias: "quotes",
              subgroup: {
                title: "Change quote length...",
                configKey: "quoteLength",
                list: [
                  {
                    id: "changeQuoteLengthAll",
                    display: "all",
                    configValue: [0, 1, 2, 3],
                    exec: () => {
                      s.setMode("quote"),
                        s.setQuoteLength([0, 1, 2, 3]),
                        r.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthShort",
                    display: "short",
                    configValue: 0,
                    configValueMode: "include",
                    exec: () => {
                      s.setMode("quote"), s.setQuoteLength(0), r.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthMedium",
                    display: "medium",
                    configValue: 1,
                    configValueMode: "include",
                    exec: () => {
                      s.setMode("quote"), s.setQuoteLength(1), r.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthLong",
                    display: "long",
                    configValue: 2,
                    configValueMode: "include",
                    exec: () => {
                      s.setMode("quote"), s.setQuoteLength(2), r.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthThicc",
                    display: "thicc",
                    configValue: 3,
                    configValueMode: "include",
                    exec: () => {
                      s.setMode("quote"), s.setQuoteLength(3), r.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthFavorite",
                    display: "favorite",
                    configValue: -3,
                    configValueMode: "include",
                    available: () =>
                      !!(null === u.Auth || void 0 === u.Auth
                        ? void 0
                        : u.Auth.currentUser),
                    exec: () => {
                      s.setMode("quote"), s.setQuoteLength(-3), r.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      5031: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = o(6617),
          u = i(o(3368)),
          l = [
            {
              id: "changeRandomTheme",
              display: "Random theme...",
              icon: "fa-random",
              subgroup: {
                title: "Random theme...",
                configKey: "randomTheme",
                list: [
                  {
                    id: "setRandomOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setRandomTheme("off");
                    },
                  },
                  {
                    id: "setRandomOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      s.setRandomTheme("on");
                    },
                  },
                  {
                    id: "setRandomFav",
                    display: "fav",
                    configValue: "fav",
                    exec: () => {
                      s.setRandomTheme("fav");
                    },
                  },
                  {
                    id: "setRandomLight",
                    display: "light",
                    configValue: "light",
                    exec: () => {
                      s.setRandomTheme("light");
                    },
                  },
                  {
                    id: "setRandomDark",
                    display: "dark",
                    configValue: "dark",
                    exec: () => {
                      s.setRandomTheme("dark");
                    },
                  },
                  {
                    id: "setRandomCustom",
                    display: "custom",
                    configValue: "custom",
                    exec: () => {
                      (
                        null === r.Auth || void 0 === r.Auth
                          ? void 0
                          : r.Auth.currentUser
                      )
                        ? s.setRandomTheme("custom")
                        : u.add(
                            "Multiple custom themes are available to logged in users only",
                            0
                          );
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      5828: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeRepeatQuotes",
              display: "Repeat quotes...",
              icon: "fa-sync-alt",
              subgroup: {
                title: "Repeat quotes...",
                configKey: "repeatQuotes",
                list: [
                  {
                    id: "setRepeatQuotesOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setRepeatQuotes("off");
                    },
                  },
                  {
                    id: "setRepeatQuotesTyping",
                    display: "typing",
                    configValue: "typing",
                    exec: () => {
                      s.setRepeatQuotes("typing");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5264: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeRepeatedPace",
              display: "Repeated pace...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Repeated pace...",
                configKey: "repeatedPace",
                list: [
                  {
                    id: "setRepeatedPaceOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setRepeatedPace(!1);
                    },
                  },
                  {
                    id: "setRepeatedPaceOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setRepeatedPace(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      2274: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(1322)),
          r = i(o(2453)),
          u = [
            {
              id: "setResultSaving",
              display: "Result saving...",
              icon: "fa-save",
              alias: "results",
              subgroup: {
                title: "Result saving...",
                list: [
                  {
                    id: "setResultSavingOff",
                    display: "off",
                    alias: "disabled",
                    exec: () => {
                      s.setSaving(!1), r.update();
                    },
                  },
                  {
                    id: "setResultSavingOn",
                    display: "on",
                    alias: "enabled",
                    exec: () => {
                      s.setSaving(!0), r.update();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7898: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(3013)),
          r = i(o(8673)),
          u = i(o(9196)),
          l = i(o(3388)),
          d = i(o(3368)),
          c = [
            {
              id: "nextTest",
              display: "Next test",
              alias: "restart start begin type test typing",
              icon: "fa-chevron-right",
              available: () => r.resultVisible,
              exec: () => {
                s.restart();
              },
            },
            {
              id: "repeatTest",
              display: "Repeat test",
              icon: "fa-sync-alt",
              exec: () => {
                s.restart({ withSameWordset: !0 });
              },
              available: () => r.resultVisible,
            },
            {
              id: "practiseWords",
              display: "Practice words...",
              icon: "fa-exclamation-triangle",
              subgroup: {
                title: "Practice words...",
                list: [
                  {
                    id: "practiseWordsMissed",
                    display: "missed",
                    noIcon: !0,
                    exec: () => {
                      u.init(!0, !1), s.restart({ practiseMissed: !0 });
                    },
                  },
                  {
                    id: "practiseWordsSlow",
                    display: "slow",
                    noIcon: !0,
                    exec: () => {
                      u.init(!1, !0), s.restart({ practiseMissed: !0 });
                    },
                  },
                  {
                    id: "practiseWordsBoth",
                    display: "both",
                    noIcon: !0,
                    exec: () => {
                      u.init(!0, !0), s.restart({ practiseMissed: !0 });
                    },
                  },
                ],
              },
              available: () => r.resultVisible,
            },
            {
              id: "toggleWordHistory",
              display: "Toggle word history",
              icon: "fa-align-left",
              exec: () => {
                r.toggleResultWords();
              },
              available: () => r.resultVisible,
            },
            {
              id: "saveScreenshot",
              display: "Save screenshot",
              icon: "fa-image",
              alias: "ss picture",
              exec: () => {
                setTimeout(() => {
                  r.screenshot();
                }, 500);
              },
              available: () => r.resultVisible,
            },
            {
              id: "copyWordsToClipboard",
              display: "Copy words to clipboard",
              icon: "fa-copy",
              subgroup: {
                title: "Are you sure...",
                list: [
                  { id: "copyNo", display: "Nevermind" },
                  {
                    id: "copyYes",
                    display: "Yes, I am sure",
                    exec: () => {
                      const e = l.getWords();
                      navigator.clipboard.writeText(e).then(
                        () => {
                          d.add("Copied to clipboard", 1);
                        },
                        () => {
                          d.add("Failed to copy!", -1);
                        }
                      );
                    },
                  },
                ],
              },
              available: () => r.resultVisible,
            },
          ];
        t.default = c;
      },
      4730: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeShowAllLines",
              display: "Show all lines...",
              icon: "fa-align-left",
              subgroup: {
                title: "Show all lines...",
                configKey: "showAllLines",
                list: [
                  {
                    id: "setShowAllLinesOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setShowAllLines(!1);
                    },
                  },
                  {
                    id: "setShowAllLinesOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setShowAllLines(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5900: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeShowAverage",
              display: "Show average...",
              icon: "fa-chart-bar",
              subgroup: {
                title: "Show average...",
                configKey: "showAverage",
                list: [
                  {
                    id: "setShowAverageOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setShowAverage("off");
                    },
                  },
                  {
                    id: "setShowAverageSpeed",
                    display: "wpm",
                    configValue: "wpm",
                    exec: () => {
                      s.setShowAverage("wpm");
                    },
                  },
                  {
                    id: "setShowAverageAcc",
                    display: "accuracy",
                    configValue: "acc",
                    exec: () => {
                      s.setShowAverage("acc");
                    },
                  },
                  {
                    id: "setShowAverageBoth",
                    display: "both",
                    configValue: "both",
                    exec: () => {
                      s.setShowAverage("both");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      6528: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeShowTimer",
              display: "Timer/progress...",
              icon: "fa-clock",
              subgroup: {
                title: "Timer/progress...",
                configKey: "showTimerProgress",
                list: [
                  {
                    id: "setTimerProgressOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setShowTimerProgress(!1);
                    },
                  },
                  {
                    id: "setTimerProgressOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setShowTimerProgress(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      5504: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeShowWordsHistory",
              display: "Always show words history...",
              icon: "fa-align-left",
              subgroup: {
                title: "Always show words history...",
                configKey: "alwaysShowWordsHistory",
                list: [
                  {
                    id: "setAlwaysShowWordsHistoryOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setAlwaysShowWordsHistory(!1);
                    },
                  },
                  {
                    id: "setAlwaysShowWordsHistoryOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setAlwaysShowWordsHistory(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      1531: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "singleListCommandLine",
              display: "Single list command line...",
              icon: "fa-list",
              subgroup: {
                title: "Single list command line...",
                configKey: "singleListCommandLine",
                list: [
                  {
                    id: "singleListCommandLineManual",
                    display: "manual",
                    configValue: "manual",
                    exec: () => {
                      s.setSingleListCommandLine("manual");
                    },
                  },
                  {
                    id: "singleListCommandLineOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      s.setSingleListCommandLine("on");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      1489: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeSmoothCaret",
              display: "Smooth caret...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Smooth caret...",
                configKey: "smoothCaret",
                list: [
                  {
                    id: "changeSmoothCaretOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setSmoothCaret(!0);
                    },
                  },
                  {
                    id: "changeSmoothCaretOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setSmoothCaret(!1);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      4847: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeSmoothLineScroll",
              display: "Smooth line scroll...",
              icon: "fa-align-left",
              subgroup: {
                title: "Smooth line scroll...",
                configKey: "smoothLineScroll",
                list: [
                  {
                    id: "setSmoothLineScrollOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setSmoothLineScroll(!1);
                    },
                  },
                  {
                    id: "setSmoothLineScrollOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setSmoothLineScroll(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      7357: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(5929)),
          u = [
            {
              id: "changeSoundOnClick",
              display: "Sound on click...",
              icon: "fa-volume-up",
              subgroup: {
                title: "Sound on click...",
                configKey: "playSoundOnClick",
                list: [
                  {
                    id: "setSoundOnClickOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setPlaySoundOnClick("off");
                    },
                  },
                  {
                    id: "setSoundOnClick1",
                    display: "click",
                    configValue: "1",
                    hover: () => {
                      r.previewClick("1");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("1"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick2",
                    display: "beep",
                    configValue: "2",
                    hover: () => {
                      r.previewClick("2");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("2"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick3",
                    display: "pop",
                    configValue: "3",
                    hover: () => {
                      r.previewClick("3");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("3"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick4",
                    display: "nk creams",
                    configValue: "4",
                    hover: () => {
                      r.previewClick("4");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("4"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick5",
                    display: "typewriter",
                    configValue: "5",
                    hover: () => {
                      r.previewClick("5");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("5"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick6",
                    display: "osu",
                    configValue: "6",
                    hover: () => {
                      r.previewClick("6");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("6"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick7",
                    display: "hitmarker",
                    configValue: "7",
                    hover: () => {
                      r.previewClick("7");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("7"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick8",
                    display: "sine",
                    configValue: "8",
                    hover: () => {
                      r.playNote("KeyQ", "sine");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("8"), r.playNote("KeyQ", "sine");
                    },
                  },
                  {
                    id: "setSoundOnClick9",
                    display: "sawtooth",
                    configValue: "9",
                    hover: () => {
                      r.playNote("KeyQ", "sawtooth");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("9"),
                        r.playNote("KeyQ", "sawtooth");
                    },
                  },
                  {
                    id: "setSoundOnClick10",
                    display: "square",
                    configValue: "10",
                    hover: () => {
                      r.playNote("KeyQ", "square");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("10"), r.playNote("KeyQ", "square");
                    },
                  },
                  {
                    id: "setSoundOnClick11",
                    display: "triangle",
                    configValue: "11",
                    hover: () => {
                      r.playNote("KeyQ", "triangle");
                    },
                    exec: () => {
                      s.setPlaySoundOnClick("11"),
                        r.playNote("KeyQ", "triangle");
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7428: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(5929)),
          u = [
            {
              id: "changeSoundOnError",
              display: "Sound on error...",
              icon: "fa-volume-mute",
              subgroup: {
                title: "Sound on error...",
                configKey: "playSoundOnError",
                list: [
                  {
                    id: "setPlaySoundOnErrorOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setPlaySoundOnError(!1);
                    },
                  },
                  {
                    id: "setPlaySoundOnErrorOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setPlaySoundOnError(!0), r.playError();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      8128: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(5929)),
          u = [
            {
              id: "changeSoundVolume",
              display: "Sound volume...",
              icon: "fa-volume-down",
              subgroup: {
                title: "Sound volume...",
                configKey: "soundVolume",
                list: [
                  {
                    id: "setSoundVolume0.1",
                    display: "quiet",
                    configValue: "0.1",
                    exec: () => {
                      s.setSoundVolume("0.1"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundVolume0.5",
                    display: "medium",
                    configValue: "0.5",
                    exec: () => {
                      s.setSoundVolume("0.5"), r.playClick();
                    },
                  },
                  {
                    id: "setSoundVolume1.0",
                    display: "loud",
                    configValue: "1.0",
                    exec: () => {
                      s.setSoundVolume("1.0"), r.playClick();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7941: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeStartGraphsAtZero",
              display: "Start graphs at zero...",
              icon: "fa-chart-line",
              subgroup: {
                title: "Start graphs at zero...",
                configKey: "startGraphsAtZero",
                list: [
                  {
                    id: "setStartGraphsAtZeroOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setStartGraphsAtZero(!1);
                    },
                  },
                  {
                    id: "setStartGraphsAtZeroOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setStartGraphsAtZero(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      1386: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeStopOnError",
              display: "Stop on error...",
              icon: "fa-hand-paper",
              subgroup: {
                title: "Stop on error...",
                configKey: "stopOnError",
                list: [
                  {
                    id: "changeStopOnErrorOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setStopOnError("off");
                    },
                  },
                  {
                    id: "changeStopOnErrorLetter",
                    display: "letter",
                    configValue: "letter",
                    exec: () => {
                      s.setStopOnError("letter");
                    },
                  },
                  {
                    id: "changeStopOnErrorWord",
                    display: "word",
                    configValue: "word",
                    exec: () => {
                      s.setStopOnError("word");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      3553: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeStrictSpace",
              display: "Strict space...",
              icon: "fa-minus",
              subgroup: {
                title: "Strict space...",
                configKey: "strictSpace",
                list: [
                  {
                    id: "setStrictSpaceOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      s.setStrictSpace(!1);
                    },
                  },
                  {
                    id: "setStrictSpaceOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      s.setStrictSpace(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      3487: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const r = i(o(6350)),
          u = i(o(7841)),
          l = i(o(2453)),
          d = i(o(9343)),
          c = s(o(6705)),
          p = i(o(5886)),
          f = o(6617),
          h = { title: "Change tags...", list: [] },
          m = [
            {
              visible: !1,
              id: "changeTags",
              display: "Tags...",
              icon: "fa-tag",
              subgroup: h,
              beforeSubgroup: () => {
                g();
              },
              available: () =>
                !!(null === f.Auth || void 0 === f.Auth
                  ? void 0
                  : f.Auth.currentUser),
            },
          ];
        function g() {
          var e, t;
          const o = r.getSnapshot();
          (h.list = []),
            o && o.tags && 0 !== o.tags.length
              ? (h.list.push({
                  id: "clearTags",
                  display: "Clear tags",
                  icon: "fa-times",
                  exec: () => {
                    var e;
                    const t = r.getSnapshot();
                    t &&
                      ((t.tags =
                        null === (e = t.tags) || void 0 === e
                          ? void 0
                          : e.map((e) => ((e.active = !1), e))),
                      r.setSnapshot(t),
                      l.update(),
                      d.saveActiveToLocalStorage());
                  },
                }),
                null ===
                  (t =
                    null === (e = r.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.tags) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    let t = e.display;
                    (t =
                      !0 === e.active
                        ? '<i class="fas fa-fw fa-check"></i>' + t
                        : '<i class="fas fa-fw"></i>' + t),
                      h.list.push({
                        id: "toggleTag" + e._id,
                        noIcon: !0,
                        display: t,
                        sticky: !0,
                        exec: () => {
                          d.toggle(e._id),
                            l.update(),
                            "average" === c.default.paceCaret &&
                              (p.init(), l.update());
                          let t = e.display;
                          (t =
                            !0 === e.active
                              ? '<i class="fas fa-fw fa-check"></i>' + t
                              : '<i class="fas fa-fw"></i>' + t),
                            $("#commandLine").hasClass("allCommands")
                              ? $(
                                  `#commandLine .suggestions .entry[command='toggleTag${e._id}']`
                                ).html(
                                  '<div class="icon"><i class="fas fa-fw fa-tag"></i></div><div>Tags  > ' +
                                    t
                                )
                              : $(
                                  `#commandLine .suggestions .entry[command='toggleTag${e._id}']`
                                ).html(t);
                        },
                      });
                  }),
                h.list.push({
                  id: "createTag",
                  display: "Create tag",
                  icon: "fa-plus",
                  shouldFocusTestUI: !1,
                  exec: () => {
                    u.show("add");
                  },
                }))
              : h.list.push({
                  id: "createTag",
                  display: "Create tag",
                  icon: "fa-plus",
                  shouldFocusTestUI: !1,
                  exec: () => {
                    u.show("add");
                  },
                });
        }
        (t.update = g), (t.default = m);
      },
      6704: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeTapeMode",
              display: "Tape mode...",
              icon: "fa-tape",
              subgroup: {
                title: "Tape mode...",
                configKey: "tapeMode",
                list: [
                  {
                    id: "setTapeModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setTapeMode("off");
                    },
                  },
                  {
                    id: "setTapeModeLetter",
                    display: "letter",
                    configValue: "letter",
                    exec: () => {
                      s.setTapeMode("letter");
                    },
                  },
                  {
                    id: "setTapeModeWord",
                    display: "word",
                    configValue: "word",
                    exec: () => {
                      s.setTapeMode("word");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      4766: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = t.subgroup = void 0);
        const s = i(o(6705)),
          r = s,
          u = o(3388),
          l = i(o(743));
        t.subgroup = { title: "Theme...", configKey: "theme", list: [] };
        const d = [
          {
            id: "changeTheme",
            display: "Theme...",
            icon: "fa-palette",
            subgroup: t.subgroup,
          },
        ];
        (t.update = function (e) {
          (t.subgroup.list = []),
            s.default.favThemes.length > 0 &&
              s.default.favThemes.forEach((e) => {
                t.subgroup.list.push({
                  id: "changeTheme" + (0, u.capitalizeFirstLetterOfEachWord)(e),
                  display: e.replace(/_/g, " "),
                  configValue: e,
                  hover: () => {
                    l.preview(e, !1);
                  },
                  exec: () => {
                    r.setTheme(e);
                  },
                });
              }),
            e.forEach((e) => {
              s.default.favThemes.includes(e.name) ||
                t.subgroup.list.push({
                  id:
                    "changeTheme" +
                    (0, u.capitalizeFirstLetterOfEachWord)(e.name),
                  display: e.name.replace(/_/g, " "),
                  configValue: e.name,
                  hover: () => {
                    l.preview(e.name, !1);
                  },
                  exec: () => {
                    r.setTheme(e.name);
                  },
                });
            });
        }),
          (t.default = d);
      },
      7589: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = [
            {
              id: "changeTimeConfig",
              display: "Time...",
              icon: "fa-clock",
              subgroup: {
                title: "Change time config...",
                configKey: "time",
                list: [
                  {
                    id: "changeTimeConfig15",
                    display: "15",
                    configValue: 15,
                    exec: () => {
                      s.setMode("time"), s.setTimeConfig(15), r.restart();
                    },
                  },
                  {
                    id: "changeTimeConfig30",
                    display: "30",
                    configValue: 30,
                    exec: () => {
                      s.setMode("time"), s.setTimeConfig(30), r.restart();
                    },
                  },
                  {
                    id: "changeTimeConfig60",
                    display: "60",
                    configValue: 60,
                    exec: () => {
                      s.setMode("time"), s.setTimeConfig(60), r.restart();
                    },
                  },
                  {
                    id: "changeTimeConfig120",
                    display: "120",
                    configValue: 120,
                    exec: () => {
                      s.setMode("time"), s.setTimeConfig(120), r.restart();
                    },
                  },
                  {
                    id: "changeTimeConfigCustom",
                    display: "custom...",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (s.setMode("time"),
                        s.setTimeConfig(parseInt(e)),
                        r.restart());
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      5215: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeTimerColor",
              display: "Timer/progress color...",
              icon: "fa-clock",
              subgroup: {
                title: "Timer/progress color...",
                configKey: "timerColor",
                list: [
                  {
                    id: "setTimerColorBlack",
                    display: "black",
                    configValue: "black",
                    exec: () => {
                      s.setTimerColor("black");
                    },
                  },
                  {
                    id: "setTimerColorSub",
                    display: "sub",
                    configValue: "sub",
                    exec: () => {
                      s.setTimerColor("sub");
                    },
                  },
                  {
                    id: "setTimerColorText",
                    display: "text",
                    configValue: "text",
                    exec: () => {
                      s.setTimerColor("text");
                    },
                  },
                  {
                    id: "setTimerColorMain",
                    display: "main",
                    configValue: "main",
                    exec: () => {
                      s.setTimerColor("main");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      6373: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeTimerOpacity",
              display: "Timer/progress opacity...",
              icon: "fa-clock",
              subgroup: {
                title: "Timer/progress opacity...",
                configKey: "timerOpacity",
                list: [
                  {
                    id: "setTimerOpacity.25",
                    display: ".25",
                    configValue: 0.25,
                    exec: () => {
                      s.setTimerOpacity("0.25");
                    },
                  },
                  {
                    id: "setTimerOpacity.5",
                    display: ".5",
                    configValue: 0.5,
                    exec: () => {
                      s.setTimerOpacity("0.5");
                    },
                  },
                  {
                    id: "setTimerOpacity.75",
                    display: ".75",
                    configValue: 0.75,
                    exec: () => {
                      s.setTimerOpacity("0.75");
                    },
                  },
                  {
                    id: "setTimerOpacity1",
                    display: "1",
                    configValue: 1,
                    exec: () => {
                      s.setTimerOpacity("1");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      554: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = [
            {
              id: "changeTimerStyle",
              display: "Timer/progress style...",
              icon: "fa-clock",
              subgroup: {
                title: "Timer/progress style...",
                configKey: "timerStyle",
                list: [
                  {
                    id: "setTimerStyleBar",
                    display: "bar",
                    configValue: "bar",
                    exec: () => {
                      s.setTimerStyle("bar");
                    },
                  },
                  {
                    id: "setTimerStyleText",
                    display: "text",
                    configValue: "text",
                    exec: () => {
                      s.setTimerStyle("text");
                    },
                  },
                  {
                    id: "setTimerStyleMini",
                    display: "mini",
                    configValue: "mini",
                    exec: () => {
                      s.setTimerStyle("mini");
                    },
                  },
                ],
              },
            },
          ];
        t.default = r;
      },
      2050: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(6705)),
          r = i(o(3013)),
          u = [
            {
              id: "changeWordCount",
              display: "Words...",
              alias: "words",
              icon: "fa-font",
              subgroup: {
                title: "Change word count...",
                configKey: "words",
                list: [
                  {
                    id: "changeWordCount10",
                    display: "10",
                    configValue: 10,
                    exec: () => {
                      s.setMode("words"), s.setWordCount(10), r.restart();
                    },
                  },
                  {
                    id: "changeWordCount25",
                    display: "25",
                    configValue: 25,
                    exec: () => {
                      s.setMode("words"), s.setWordCount(25), r.restart();
                    },
                  },
                  {
                    id: "changeWordCount50",
                    display: "50",
                    configValue: 50,
                    exec: () => {
                      s.setMode("words"), s.setWordCount(50), r.restart();
                    },
                  },
                  {
                    id: "changeWordCount100",
                    display: "100",
                    configValue: 100,
                    exec: () => {
                      s.setMode("words"), s.setWordCount(100), r.restart();
                    },
                  },
                  {
                    id: "changeWordCount200",
                    display: "200",
                    configValue: 200,
                    exec: () => {
                      s.setMode("words"), s.setWordCount(200), r.restart();
                    },
                  },
                  {
                    id: "changeWordCountCustom",
                    display: "custom...",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (s.setMode("words"),
                        s.setWordCount(parseInt(e)),
                        r.restart());
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      4332: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.isConfigValueValidAsync =
            t.isConfigValueValid =
            t.isConfigKeyValid =
              void 0);
        const r = i(o(3388)),
          u = i(o(3368));
        function l(e, t, o) {
          void 0 === o
            ? u.add(
                `Invalid value for ${e} (${t}). Please try to change this setting again.`,
                -1
              )
            : u.add(`Invalid value for ${e} (${t}). ${o}`, -1),
            console.error(`Invalid value key ${e} value ${t} type ${typeof t}`);
        }
        function d(e) {
          return e instanceof Array;
        }
        (t.isConfigKeyValid = function (e) {
          return (
            null != e &&
            "" !== e &&
            !(e.length > 30) &&
            /^[0-9a-zA-Z_.\-#+]+$/.test(e)
          );
        }),
          (t.isConfigValueValid = function (e, t, o) {
            let n = !1;
            for (const e of o)
              switch (e) {
                case "boolean":
                  "boolean" == typeof t && (n = !0);
                  break;
                case "null":
                  null === t && (n = !0);
                  break;
                case "number":
                  "number" != typeof t || isNaN(t) || (n = !0);
                  break;
                case "numberArray":
                  d(t) && t.every((e) => "number" == typeof e) && (n = !0);
                  break;
                case "string":
                  "string" == typeof t && (n = !0);
                  break;
                case "stringArray":
                  d(t) && t.every((e) => "string" == typeof e) && (n = !0);
                  break;
                case "undefined":
                  (void 0 !== t && void 0 !== t) || (n = !0);
                  break;
                default:
                  d(e) && e.includes(t) && (n = !0);
              }
            return n || l(e, t, undefined), n;
          }),
          (t.isConfigValueValidAsync = function (e, t, o) {
            return s(this, void 0, void 0, function* () {
              let n,
                a = !1;
              for (const e of o)
                switch (e) {
                  case "layoutfluid": {
                    if ("string" != typeof t) break;
                    const e = t.split(/[# ]+/);
                    if (e.length < 2 || e.length > 5) break;
                    try {
                      yield r.getLayoutsList();
                    } catch (e) {
                      n = r.createErrorMessage(
                        e,
                        "Failed to validate layoutfluid value"
                      );
                      break;
                    }
                    const o = yield Promise.all(
                      e.map((e) =>
                        s(this, void 0, void 0, function* () {
                          return r.getLayout(e);
                        })
                      )
                    );
                    if (!o.every((e) => void 0 !== e)) {
                      n = `The following inputted layouts do not exist: ${e
                        .map((e, t) => [e, o[t]])
                        .filter(([e, t]) => void 0 === t)
                        .map(([e]) => e)
                        .join(", ")}`;
                      break;
                    }
                    a = !0;
                    break;
                  }
                }
              return a || l(e, t, n), a;
            });
          });
      },
      6705: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setShowLiveBurst =
            t.setShowLiveAcc =
            t.setShowLiveWpm =
            t.setShowTimerProgress =
            t.setPaceCaretStyle =
            t.setCaretStyle =
            t.setPageWidth =
            t.setOppositeShiftMode =
            t.setStrictSpace =
            t.setColorfulMode =
            t.setFlipTestColors =
            t.setRepeatQuotes =
            t.setAds =
            t.setQuickEnd =
            t.setShowAllLines =
            t.setCapsLockWarning =
            t.setSingleListCommandLine =
            t.setAlwaysShowWordsHistory =
            t.setMinBurstCustomSpeed =
            t.setMinBurst =
            t.setMinAccCustom =
            t.setMinAcc =
            t.setMinWpmCustomSpeed =
            t.setMinWpm =
            t.setRepeatedPace =
            t.setPaceCaretCustomSpeed =
            t.setPaceCaret =
            t.setShowOutOfFocusWarning =
            t.setAlwaysShowCPM =
            t.setAlwaysShowDecimalPlaces =
            t.setStopOnError =
            t.setChartStyle =
            t.setChartAccuracy =
            t.setBlindMode =
            t.setFunbox =
            t.setFavThemes =
            t.setDifficulty =
            t.setSoundVolume =
            t.setPlaySoundOnClick =
            t.setPlaySoundOnError =
            t.setMode =
            t.setPunctuation =
            t.setNumbers =
            t.saveFullConfigToLocalStorage =
            t.setChangedBeforeDb =
            t.setDbConfigLoaded =
            t.setLocalStorageConfig =
            t.changedBeforeDb =
            t.dbConfigLoaded =
            t.localStorageConfig =
              void 0),
          (t.loadPromise =
            t.setConfig =
            t.getConfigChanges =
            t.loadFromLocalStorage =
            t.reset =
            t.apply =
            t.setBurstHeatmap =
            t.setMonkeyPowerLevel =
            t.setCustomBackgroundFilter =
            t.setCustomBackgroundSize =
            t.setCustomLayoutfluid =
            t.setCustomBackground =
            t.setFontSize =
            t.setLayout =
            t.setKeymapShowTopRow =
            t.setKeymapLayout =
            t.setKeymapStyle =
            t.setKeymapLegendStyle =
            t.setKeymapMode =
            t.setMonkey =
            t.setLanguage =
            t.setCustomThemeColors =
            t.setLazyMode =
            t.setBritishEnglish =
            t.setRandomTheme =
            t.setThemeDark =
            t.setThemeLight =
            t.setTheme =
            t.setCustomTheme =
            t.setAutoSwitchTheme =
            t.setIndicateTypos =
            t.setConfidenceMode =
            t.setFreedomMode =
            t.setFontFamily =
            t.previewFontFamily =
            t.setQuickRestartMode =
            t.setSmoothLineScroll =
            t.setStartGraphsAtZero =
            t.setSmoothCaret =
            t.setWordCount =
            t.setQuoteLength =
            t.setTimeConfig =
            t.setKeyTips =
            t.setTimerOpacity =
            t.setTimerColor =
            t.setTimerStyle =
            t.setHideExtraLetters =
            t.setTapeMode =
            t.setHighlightMode =
            t.setShowAverage =
              void 0);
        const u = i(o(6350)),
          l = i(o(1333)),
          d = i(o(3368)),
          c = o(4332),
          p = i(o(1446)),
          f = r(o(2191)),
          h = o(6617),
          m = i(o(3326)),
          g = i(o(5344)),
          v = o(2189);
        function y(e) {
          t.changedBeforeDb = e;
        }
        let b;
        (t.dbConfigLoaded = !1),
          (t.changedBeforeDb = !1),
          (t.setLocalStorageConfig = function (e) {
            t.localStorageConfig = e;
          }),
          (t.setDbConfigLoaded = function (e) {
            t.dbConfigLoaded = e;
          }),
          (t.setChangedBeforeDb = y);
        let w = Object.assign({}, f.default),
          C = {};
        const _ = (0, v.debounce)(1e3, () => {
          delete C.resultFilters,
            Object.keys(C).length > 0 &&
              (g.loading(!0),
              u.saveConfig(C).then(() => {
                g.loading(!1);
              })),
            (C = {});
        });
        function S(e, o = !1, n = !1) {
          return s(this, void 0, void 0, function* () {
            if ((t.dbConfigLoaded || n || o || y(!0), o)) return;
            const a = w;
            delete a.resultFilters;
            const i = JSON.stringify(a);
            window.localStorage.setItem("config", i),
              n || ((C[e] = w[e]), yield _()),
              p.dispatch("saveToLocalStorage", i);
          });
        }
        function P(e = !1) {
          return s(this, void 0, void 0, function* () {
            t.dbConfigLoaded || e || y(!0);
            const o = w;
            delete o.resultFilters;
            const n = JSON.stringify(o);
            window.localStorage.setItem("config", n),
              e || (g.loading(!0), yield u.saveConfig(o), g.loading(!1)),
              p.dispatch("saveToLocalStorage", n);
          });
        }
        function x(e, t) {
          return (
            !!(0, c.isConfigValueValid)("numbers", e, ["boolean"]) &&
            ("quote" === w.mode && (e = !1),
            (w.numbers = e),
            S("numbers", t),
            p.dispatch("numbers", w.numbers),
            !0)
          );
        }
        function k(e, t) {
          return (
            !!(0, c.isConfigValueValid)("punctuation", e, ["boolean"]) &&
            ("quote" === w.mode && (e = !1),
            (w.punctuation = e),
            S("punctuation", t),
            p.dispatch("punctuation", w.punctuation),
            !0)
          );
        }
        function T(e, t) {
          if (
            !(0, c.isConfigValueValid)("mode", e, [
              ["time", "words", "quote", "zen", "custom"],
            ])
          )
            return !1;
          if ("words" !== e && "memory" === w.funbox)
            return (
              d.add("Memory funbox can only be used with words mode.", 0), !1
            );
          const o = w.mode;
          return (
            (w.mode = e),
            "custom" == w.mode || "quote" == w.mode
              ? (k(!1, !0), x(!1, !0))
              : "zen" == w.mode &&
                "off" != w.paceCaret &&
                d.add("Pace caret will not work with zen mode.", 0),
            S("mode", t),
            p.dispatch("mode", w.mode, t, o),
            !0
          );
        }
        function O(e, t) {
          return (
            !!(0, c.isConfigValueValid)("play sound on error", e, [
              "boolean",
            ]) &&
            ((w.playSoundOnError = e),
            S("playSoundOnError", t),
            p.dispatch("playSoundOnError", w.playSoundOnError),
            !0)
          );
        }
        function M(e, t) {
          return (
            !!(0, c.isConfigValueValid)("play sound on click", e, [
              ["off", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11"],
            ]) &&
            ((w.playSoundOnClick = e),
            S("playSoundOnClick", t),
            p.dispatch("playSoundOnClick", w.playSoundOnClick),
            !0)
          );
        }
        function A(e, t) {
          return (
            !!(0, c.isConfigValueValid)("sound volume", e, [
              ["0.1", "0.5", "1.0"],
            ]) &&
            ((w.soundVolume = e),
            S("soundVolume", t),
            p.dispatch("soundVolume", w.soundVolume),
            !0)
          );
        }
        function j(e, t) {
          return (
            !!(0, c.isConfigValueValid)("difficulty", e, [
              ["normal", "expert", "master"],
            ]) &&
            ((w.difficulty = e),
            S("difficulty", t),
            p.dispatch("difficulty", w.difficulty, t),
            !0)
          );
        }
        function L(e, t) {
          return (
            !!(0, c.isConfigValueValid)("favorite themes", e, [
              "stringArray",
            ]) &&
            ((w.favThemes = e),
            S("favThemes", t),
            p.dispatch("favThemes", w.favThemes),
            !0)
          );
        }
        function W(e, t) {
          if (!(0, c.isConfigValueValid)("funbox", e, ["string"])) return !1;
          const o = e || "none";
          return (
            (w.funbox = o), S("funbox", t), p.dispatch("funbox", w.funbox), !0
          );
        }
        function B(e, t) {
          return (
            !!(0, c.isConfigValueValid)("blind mode", e, ["boolean"]) &&
            ((w.blindMode = e),
            S("blindMode", t),
            p.dispatch("blindMode", w.blindMode, t),
            !0)
          );
        }
        function E(e, t) {
          return (
            !!(0, c.isConfigValueValid)("chart accuracy", e, ["boolean"]) &&
            ((w.chartAccuracy = e),
            S("chartAccuracy", t),
            p.dispatch("chartAccuracy", w.chartAccuracy),
            !0)
          );
        }
        function I(e, t) {
          return (
            !!(0, c.isConfigValueValid)("chart style", e, [
              ["line", "scatter"],
            ]) &&
            ((w.chartStyle = e),
            S("chartStyle", t),
            p.dispatch("chartStyle", w.chartStyle),
            !0)
          );
        }
        function D(e, t) {
          return (
            !!(0, c.isConfigValueValid)("stop on error", e, [
              ["off", "word", "letter"],
            ]) &&
            ((w.stopOnError = e),
            "off" !== w.stopOnError && (w.confidenceMode = "off"),
            S("stopOnError", t),
            p.dispatch("stopOnError", w.stopOnError, t),
            !0)
          );
        }
        function R(e, t) {
          return (
            !!(0, c.isConfigValueValid)("always show decimal places", e, [
              "boolean",
            ]) &&
            ((w.alwaysShowDecimalPlaces = e),
            S("alwaysShowDecimalPlaces", t),
            p.dispatch("alwaysShowDecimalPlaces", w.alwaysShowDecimalPlaces),
            !0)
          );
        }
        function F(e, t) {
          return (
            !!(0, c.isConfigValueValid)("always show CPM", e, ["boolean"]) &&
            ((w.alwaysShowCPM = e),
            S("alwaysShowCPM", t),
            p.dispatch("alwaysShowCPM", w.alwaysShowCPM),
            !0)
          );
        }
        function q(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show out of focus warning", e, [
              "boolean",
            ]) &&
            ((w.showOutOfFocusWarning = e),
            w.showOutOfFocusWarning || l.hide(),
            S("showOutOfFocusWarning", t),
            p.dispatch("showOutOfFocusWarning", w.showOutOfFocusWarning),
            !0)
          );
        }
        function V(e, t) {
          return (
            !!(0, c.isConfigValueValid)("pace caret", e, [
              ["custom", "off", "average", "pb", "last", "daily"],
            ]) &&
            ("complete" !== document.readyState ||
            "pb" != e ||
            (null === h.Auth || void 0 === h.Auth ? void 0 : h.Auth.currentUser)
              ? ((w.paceCaret = e),
                S("paceCaret", t),
                p.dispatch("paceCaret", w.paceCaret, t),
                !0)
              : (d.add("PB pace caret is unavailable without an account", 0),
                !1))
          );
        }
        function K(e, t) {
          return (
            !!(0, c.isConfigValueValid)("pace caret custom speed", e, [
              "number",
            ]) &&
            ((w.paceCaretCustomSpeed = e),
            S("paceCaretCustomSpeed", t),
            p.dispatch("paceCaretCustomSpeed", w.paceCaretCustomSpeed),
            !0)
          );
        }
        function H(e, t) {
          return (
            !!(0, c.isConfigValueValid)("repeated pace", e, ["boolean"]) &&
            ((w.repeatedPace = e),
            S("repeatedPace", t),
            p.dispatch("repeatedPace", w.repeatedPace),
            !0)
          );
        }
        function N(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min WPM", e, [["off", "custom"]]) &&
            ((w.minWpm = e),
            S("minWpm", t),
            p.dispatch("minWpm", w.minWpm, t),
            !0)
          );
        }
        function z(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min WPM custom speed", e, [
              "number",
            ]) &&
            ((w.minWpmCustomSpeed = e),
            S("minWpmCustomSpeed", t),
            p.dispatch("minWpmCustomSpeed", w.minWpmCustomSpeed),
            !0)
          );
        }
        function U(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min acc", e, [["off", "custom"]]) &&
            ((w.minAcc = e),
            S("minAcc", t),
            p.dispatch("minAcc", w.minAcc, t),
            !0)
          );
        }
        function Q(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min acc custom", e, ["number"]) &&
            ((w.minAccCustom = e),
            S("minAccCustom", t),
            p.dispatch("minAccCustom", w.minAccCustom),
            !0)
          );
        }
        function G(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min burst", e, [
              ["off", "fixed", "flex"],
            ]) &&
            ((w.minBurst = e),
            S("minBurst", t),
            p.dispatch("minBurst", w.minBurst, t),
            !0)
          );
        }
        function J(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min burst custom speed", e, [
              "number",
            ]) &&
            ((w.minBurstCustomSpeed = e),
            S("minBurstCustomSpeed", t),
            p.dispatch("minBurstCustomSpeed", w.minBurstCustomSpeed),
            !0)
          );
        }
        function Y(e, t) {
          return (
            !!(0, c.isConfigValueValid)("always show words history", e, [
              "boolean",
            ]) &&
            ((w.alwaysShowWordsHistory = e),
            S("alwaysShowWordsHistory", t),
            p.dispatch("alwaysShowWordsHistory", w.alwaysShowWordsHistory),
            !0)
          );
        }
        function Z(e, t) {
          return (
            !!(0, c.isConfigValueValid)("single list command line", e, [
              ["manual", "on"],
            ]) &&
            ((w.singleListCommandLine = e),
            S("singleListCommandLine", t),
            p.dispatch("singleListCommandLine", w.singleListCommandLine),
            !0)
          );
        }
        function X(e, t) {
          return (
            !!(0, c.isConfigValueValid)("caps lock warning", e, ["boolean"]) &&
            ((w.capsLockWarning = e),
            S("capsLockWarning", t),
            p.dispatch("capsLockWarning", w.capsLockWarning),
            !0)
          );
        }
        function ee(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show all lines", e, ["boolean"]) &&
            (e && "off" !== w.tapeMode
              ? (d.add("Show all lines doesn't support tape mode", 0), !1)
              : ((w.showAllLines = e),
                S("showAllLines", t),
                p.dispatch("showAllLines", w.showAllLines, t),
                !0))
          );
        }
        function te(e, t) {
          return (
            !!(0, c.isConfigValueValid)("quick end", e, ["boolean"]) &&
            ((w.quickEnd = e),
            S("quickEnd", t),
            p.dispatch("quickEnd", w.quickEnd),
            !0)
          );
        }
        function oe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("ads", e, [
              ["off", "result", "on", "sellout"],
            ]) &&
            ((w.ads = e),
            S("ads", t),
            t ||
              (setTimeout(() => {
                location.reload();
              }, 3e3),
              d.add("Ad settings changed. Refreshing...", 0)),
            p.dispatch("ads", w.ads),
            !0)
          );
        }
        function ne(e, t) {
          return (
            !!(0, c.isConfigValueValid)("repeat quotes", e, [
              ["off", "typing"],
            ]) &&
            ((w.repeatQuotes = e),
            S("repeatQuotes", t),
            p.dispatch("repeatQuotes", w.repeatQuotes),
            !0)
          );
        }
        function ae(e, t) {
          return (
            !!(0, c.isConfigValueValid)("flip test colors", e, ["boolean"]) &&
            ((w.flipTestColors = e),
            S("flipTestColors", t),
            p.dispatch("flipTestColors", w.flipTestColors),
            !0)
          );
        }
        function ie(e, t) {
          return (
            !!(0, c.isConfigValueValid)("colorful mode", e, ["boolean"]) &&
            ((w.colorfulMode = e),
            S("colorfulMode", t),
            p.dispatch("colorfulMode", w.colorfulMode),
            !0)
          );
        }
        function se(e, t) {
          return (
            !!(0, c.isConfigValueValid)("strict space", e, ["boolean"]) &&
            ((w.strictSpace = e),
            S("strictSpace", t),
            p.dispatch("strictSpace", w.strictSpace),
            !0)
          );
        }
        function re(e, t) {
          return (
            !!(0, c.isConfigValueValid)("opposite shift mode", e, [
              ["off", "on", "keymap"],
            ]) &&
            ((w.oppositeShiftMode = e),
            S("oppositeShiftMode", t),
            p.dispatch("oppositeShiftMode", w.oppositeShiftMode),
            !0)
          );
        }
        function ue(e, t) {
          return (
            !!(0, c.isConfigValueValid)("page width", e, [
              ["max", "100", "125", "150", "200"],
            ]) &&
            ((w.pageWidth = e),
            $("#centerContent").removeClass("wide125"),
            $("#centerContent").removeClass("wide150"),
            $("#centerContent").removeClass("wide200"),
            $("#centerContent").removeClass("widemax"),
            $("#app").removeClass("wide125"),
            $("#app").removeClass("wide150"),
            $("#app").removeClass("wide200"),
            $("#app").removeClass("widemax"),
            "100" !== e &&
              ($("#centerContent").addClass("wide" + e),
              $("#app").addClass("wide" + e)),
            S("pageWidth", t),
            p.dispatch("pageWidth", w.pageWidth),
            !0)
          );
        }
        function le(e, t) {
          return (
            !!(0, c.isConfigValueValid)("caret style", e, [
              [
                "off",
                "default",
                "block",
                "outline",
                "underline",
                "carrot",
                "banana",
              ],
            ]) &&
            ((w.caretStyle = e),
            $("#caret").removeClass("off"),
            $("#caret").removeClass("default"),
            $("#caret").removeClass("underline"),
            $("#caret").removeClass("outline"),
            $("#caret").removeClass("block"),
            $("#caret").removeClass("carrot"),
            $("#caret").removeClass("banana"),
            "off" == e
              ? $("#caret").addClass("off")
              : "default" == e
              ? $("#caret").addClass("default")
              : "block" == e
              ? $("#caret").addClass("block")
              : "outline" == e
              ? $("#caret").addClass("outline")
              : "underline" == e
              ? $("#caret").addClass("underline")
              : "carrot" == e
              ? $("#caret").addClass("carrot")
              : "banana" == e && $("#caret").addClass("banana"),
            S("caretStyle", t),
            p.dispatch("caretStyle", w.caretStyle),
            !0)
          );
        }
        function de(e, t) {
          return (
            !!(0, c.isConfigValueValid)("pace caret style", e, [
              [
                "off",
                "default",
                "block",
                "outline",
                "underline",
                "carrot",
                "banana",
              ],
            ]) &&
            ((w.paceCaretStyle = e),
            $("#paceCaret").removeClass("off"),
            $("#paceCaret").removeClass("default"),
            $("#paceCaret").removeClass("underline"),
            $("#paceCaret").removeClass("outline"),
            $("#paceCaret").removeClass("block"),
            $("#paceCaret").removeClass("carrot"),
            $("#paceCaret").removeClass("banana"),
            "default" == e
              ? $("#paceCaret").addClass("default")
              : "block" == e
              ? $("#paceCaret").addClass("block")
              : "outline" == e
              ? $("#paceCaret").addClass("outline")
              : "underline" == e
              ? $("#paceCaret").addClass("underline")
              : "carrot" == e
              ? $("#paceCaret").addClass("carrot")
              : "banana" == e && $("#paceCaret").addClass("banana"),
            S("paceCaretStyle", t),
            p.dispatch("paceCaretStyle", w.paceCaretStyle),
            !0)
          );
        }
        function ce(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show timer progress", e, [
              "boolean",
            ]) &&
            ((w.showTimerProgress = e),
            S("showTimerProgress", t),
            p.dispatch("showTimerProgress", w.showTimerProgress),
            !0)
          );
        }
        function pe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show live WPM", e, ["boolean"]) &&
            ((w.showLiveWpm = e),
            S("showLiveWpm", t),
            p.dispatch("showLiveWpm", w.showLiveWpm),
            !0)
          );
        }
        function fe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show live acc", e, ["boolean"]) &&
            ((w.showLiveAcc = e),
            S("showLiveAcc", t),
            p.dispatch("showLiveAcc", w.showLiveAcc),
            !0)
          );
        }
        function he(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show live burst", e, ["boolean"]) &&
            ((w.showLiveBurst = e),
            S("showLiveBurst", t),
            p.dispatch("showLiveBurst", w.showLiveBurst),
            !0)
          );
        }
        function me(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show average", e, [
              ["off", "wpm", "acc", "both"],
            ]) &&
            ((w.showAverage = e),
            S("showAverage", t),
            p.dispatch("showAverage", w.showAverage, t),
            !0)
          );
        }
        function ge(e, t) {
          return (
            !!(0, c.isConfigValueValid)("highlight mode", e, [
              ["off", "letter", "word"],
            ]) &&
            ("word" !== e ||
            ("nospace" !== w.funbox &&
              "read_ahead" !== w.funbox &&
              "read_ahead_easy" !== w.funbox &&
              "read_ahead_hard" !== w.funbox &&
              "tts" !== w.funbox &&
              "arrows" !== w.funbox)
              ? ((w.highlightMode = e),
                S("highlightMode", t),
                p.dispatch("highlightMode", w.highlightMode),
                !0)
              : (d.add("Can't use word highlight with this funbox", 0), !1))
          );
        }
        function ve(e, t) {
          return (
            !!(0, c.isConfigValueValid)("tape mode", e, [
              ["off", "letter", "word"],
            ]) &&
            ("off" !== e && !0 === w.showAllLines && ee(!1, !0),
            (w.tapeMode = e),
            S("tapeMode", t),
            p.dispatch("tapeMode", w.tapeMode),
            !0)
          );
        }
        function ye(e, t) {
          return (
            !!(0, c.isConfigValueValid)("hide extra letters", e, ["boolean"]) &&
            ((w.hideExtraLetters = e),
            S("hideExtraLetters", t),
            p.dispatch("hideExtraLetters", w.hideExtraLetters),
            !0)
          );
        }
        function be(e, t) {
          return (
            !!(0, c.isConfigValueValid)("timer style", e, [
              ["bar", "text", "mini"],
            ]) &&
            ((w.timerStyle = e),
            S("timerStyle", t),
            p.dispatch("timerStyle", w.timerStyle),
            !0)
          );
        }
        function we(e, t) {
          return (
            !!(0, c.isConfigValueValid)("timer color", e, [
              ["black", "sub", "text", "main"],
            ]) &&
            ((w.timerColor = e),
            $("#timer").removeClass("timerSub"),
            $("#timer").removeClass("timerText"),
            $("#timer").removeClass("timerMain"),
            $("#timerNumber").removeClass("timerSub"),
            $("#timerNumber").removeClass("timerText"),
            $("#timerNumber").removeClass("timerMain"),
            $("#largeLiveWpmAndAcc").removeClass("timerSub"),
            $("#largeLiveWpmAndAcc").removeClass("timerText"),
            $("#largeLiveWpmAndAcc").removeClass("timerMain"),
            $("#miniTimerAndLiveWpm").removeClass("timerSub"),
            $("#miniTimerAndLiveWpm").removeClass("timerText"),
            $("#miniTimerAndLiveWpm").removeClass("timerMain"),
            "main" === e
              ? ($("#timer").addClass("timerMain"),
                $("#timerNumber").addClass("timerMain"),
                $("#largeLiveWpmAndAcc").addClass("timerMain"),
                $("#miniTimerAndLiveWpm").addClass("timerMain"))
              : "sub" === e
              ? ($("#timer").addClass("timerSub"),
                $("#timerNumber").addClass("timerSub"),
                $("#largeLiveWpmAndAcc").addClass("timerSub"),
                $("#miniTimerAndLiveWpm").addClass("timerSub"))
              : "text" === e &&
                ($("#timer").addClass("timerText"),
                $("#timerNumber").addClass("timerText"),
                $("#largeLiveWpmAndAcc").addClass("timerText"),
                $("#miniTimerAndLiveWpm").addClass("timerText")),
            S("timerColor", t),
            p.dispatch("timerColor", w.timerColor),
            !0)
          );
        }
        function $e(e, t) {
          return (
            !!(0, c.isConfigValueValid)("timer opacity", e, [
              ["0.25", "0.5", "0.75", "1"],
            ]) &&
            ((w.timerOpacity = e),
            S("timerOpacity", t),
            p.dispatch("timerOpacity", w.timerOpacity),
            !0)
          );
        }
        function Ce(e, t) {
          return (
            !!(0, c.isConfigValueValid)("key tips", e, ["boolean"]) &&
            ((w.showKeyTips = e),
            w.showKeyTips
              ? $("#bottom .keyTips").removeClass("hidden")
              : $("#bottom .keyTips").addClass("hidden"),
            S("showKeyTips", t),
            p.dispatch("showKeyTips", w.showKeyTips),
            !0)
          );
        }
        function _e(e, t) {
          if (!(0, c.isConfigValueValid)("time", e, ["number"])) return !1;
          const o = isNaN(e) || e < 0 ? f.default.time : e;
          return (w.time = o), S("time", t), p.dispatch("time", w.time), !0;
        }
        function Se(e, t, o) {
          return (
            !!(0, c.isConfigValueValid)("quote length", e, [
              [-3, -2, -1, 0, 1, 2, 3],
              "numberArray",
            ]) &&
            (Array.isArray(e)
              ? (1 === e.length && -1 === e[0] && (e = [1]),
                (w.quoteLength = e))
              : (Array.isArray(w.quoteLength) || (w.quoteLength = []),
                (null === e || isNaN(e) || e < -3 || e > 3) && (e = 1),
                (e = parseInt(e.toString())),
                o
                  ? w.quoteLength.includes(e)
                    ? w.quoteLength.length > 1 &&
                      (w.quoteLength = w.quoteLength.filter((t) => t !== e))
                    : w.quoteLength.push(e)
                  : (w.quoteLength = [e])),
            S("quoteLength", t),
            p.dispatch("quoteLength", w.quoteLength),
            !0)
          );
        }
        function Pe(e, t) {
          if (!(0, c.isConfigValueValid)("words", e, ["number"])) return !1;
          const o = e < 0 || e > 1e5 ? f.default.words : e;
          return (w.words = o), S("words", t), p.dispatch("words", w.words), !0;
        }
        function xe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("smooth caret", e, ["boolean"]) &&
            ((w.smoothCaret = e),
            e
              ? $("#caret").css("animation-name", "caretFlashSmooth")
              : $("#caret").css("animation-name", "caretFlashHard"),
            S("smoothCaret", t),
            p.dispatch("smoothCaret", w.smoothCaret),
            !0)
          );
        }
        function ke(e, t) {
          return (
            !!(0, c.isConfigValueValid)("start graphs at zero", e, [
              "boolean",
            ]) &&
            ((w.startGraphsAtZero = e),
            S("startGraphsAtZero", t),
            p.dispatch("startGraphsAtZero", w.startGraphsAtZero),
            !0)
          );
        }
        function Te(e, t) {
          return (
            !!(0, c.isConfigValueValid)("smooth line scroll", e, ["boolean"]) &&
            ((w.smoothLineScroll = e),
            S("smoothLineScroll", t),
            p.dispatch("smoothLineScroll", w.smoothLineScroll),
            !0)
          );
        }
        function Oe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("quick restart mode", e, [
              ["off", "esc", "tab"],
            ]) &&
            ("off" === e
              ? $(".pageTest #restartTestButton").removeClass("hidden")
              : $(".pageTest #restartTestButton").addClass("hidden"),
            (w.quickRestart = e),
            S("quickRestart", t),
            p.dispatch("quickRestart", w.quickRestart),
            !0)
          );
        }
        function Me(e, t) {
          return (
            !!(0, c.isConfigValueValid)("font family", e, ["string"]) &&
            ("" === e &&
              ((e = "roboto_mono"),
              d.add(
                "Empty input received, reverted to the default font.",
                0,
                3,
                "Custom font"
              )),
            (0, c.isConfigKeyValid)(e)
              ? ((w.fontFamily = e),
                document.documentElement.style.setProperty(
                  "--font",
                  `"${e.replace(/_/g, " ")}", "Roboto Mono", "Vazirmatn"`
                ),
                S("fontFamily", t),
                p.dispatch("fontFamily", w.fontFamily),
                !0)
              : (d.add(
                  `Invalid font name value: "${e}".`,
                  -1,
                  3,
                  "Custom font"
                ),
                !1))
          );
        }
        function Ae(e, t) {
          return (
            !!(0, c.isConfigValueValid)("freedom mode", e, ["boolean"]) &&
            (null == e && (e = !1),
            (w.freedomMode = e),
            w.freedomMode &&
              "off" !== w.confidenceMode &&
              (w.confidenceMode = "off"),
            S("freedomMode", t),
            p.dispatch("freedomMode", w.freedomMode),
            !0)
          );
        }
        function je(e, t) {
          return (
            !!(0, c.isConfigValueValid)("confidence mode", e, [
              ["off", "on", "max"],
            ]) &&
            ((w.confidenceMode = e),
            "off" !== w.confidenceMode &&
              ((w.freedomMode = !1), (w.stopOnError = "off")),
            S("confidenceMode", t),
            p.dispatch("confidenceMode", w.confidenceMode, t),
            !0)
          );
        }
        function Le(e, t) {
          return (
            !!(0, c.isConfigValueValid)("indicate typos", e, [
              ["off", "below", "replace"],
            ]) &&
            ((w.indicateTypos = e),
            S("indicateTypos", t),
            p.dispatch("indicateTypos", w.indicateTypos),
            !0)
          );
        }
        function We(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom theme", e, ["boolean"]) &&
            ((w.customTheme = e),
            S("customTheme", t),
            p.dispatch("customTheme", w.customTheme),
            !0)
          );
        }
        function Be(e, t) {
          return (
            !!(0, c.isConfigValueValid)("theme light", e, ["string"]) &&
            ((w.themeLight = e),
            S("themeLight", t),
            p.dispatch("themeLight", w.themeLight, t),
            !0)
          );
        }
        function Ee(e, t) {
          return (
            !!(0, c.isConfigValueValid)("theme dark", e, ["string"]) &&
            ((w.themeDark = e),
            S("themeDark", t),
            p.dispatch("themeDark", w.themeDark, t),
            !0)
          );
        }
        function Ie(e, t) {
          var o;
          if (
            !(0, c.isConfigValueValid)("random theme", e, [
              ["off", "on", "fav", "light", "dark", "custom"],
            ])
          )
            return !1;
          if ("custom" === e) {
            if (
              !(null === h.Auth || void 0 === h.Auth
                ? void 0
                : h.Auth.currentUser)
            )
              return (w.randomTheme = e), !1;
            if (!u.getSnapshot()) return !0;
            if (
              0 ===
              (null === (o = u.getSnapshot()) || void 0 === o
                ? void 0
                : o.customThemes.length)
            )
              return (
                d.add("You need to create a custom theme first", 0),
                (w.randomTheme = "off"),
                !1
              );
          }
          return (
            (w.randomTheme = e),
            S("randomTheme", t),
            p.dispatch("randomTheme", w.randomTheme),
            !0
          );
        }
        function De(e, t) {
          return (
            !!(0, c.isConfigValueValid)("british english", e, ["boolean"]) &&
            (e || (e = !1),
            (w.britishEnglish = e),
            S("britishEnglish", t),
            p.dispatch("britishEnglish", w.britishEnglish),
            !0)
          );
        }
        function Re(e, t) {
          return (
            !!(0, c.isConfigValueValid)("lazy mode", e, ["boolean"]) &&
            (e || (e = !1),
            (w.lazyMode = e),
            S("lazyMode", t),
            p.dispatch("lazyMode", w.lazyMode, t),
            !0)
          );
        }
        function Fe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("language", e, ["string"]) &&
            ((w.language = e),
            m.log("changedLanguage", { language: e }),
            S("language", t),
            p.dispatch("language", w.language),
            !0)
          );
        }
        function qe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("monkey", e, ["boolean"]) &&
            ((w.monkey = e), S("monkey", t), p.dispatch("monkey", w.monkey), !0)
          );
        }
        function Ve(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap mode", e, [
              ["off", "static", "react", "next"],
            ]) &&
            ($(".activeKey").removeClass("activeKey"),
            $(".keymapKey").attr("style", ""),
            (w.keymapMode = e),
            S("keymapMode", t),
            p.dispatch("keymapMode", w.keymapMode, t),
            !0)
          );
        }
        function Ke(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap legend style", e, [
              ["lowercase", "uppercase", "blank", "dynamic"],
            ]) &&
            (["lowercase", "uppercase", "blank", "dynamic"].forEach((e) => {
              $(".keymapLegendStyle").removeClass(e);
            }),
            (e = e || "lowercase"),
            $(".keymapKey > .letter").css("display", ""),
            $(".keymapKey > .letter").css("text-transform", ""),
            "uppercase" === e &&
              $(".keymapKey > .letter").css("text-transform", "capitalize"),
            "blank" === e && $(".keymapKey > .letter").css("display", "none"),
            $(".keymapLegendStyle").addClass(e),
            (w.keymapLegendStyle = e),
            S("keymapLegendStyle", t),
            p.dispatch("keymapLegendStyle", w.keymapLegendStyle),
            !0)
          );
        }
        function He(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap style", e, [
              ["staggered", "alice", "matrix", "split", "split_matrix"],
            ]) &&
            ((e = e || "staggered"),
            (w.keymapStyle = e),
            S("keymapStyle", t),
            p.dispatch("keymapStyle", w.keymapStyle),
            !0)
          );
        }
        function Ne(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap layout", e, ["string"]) &&
            ((w.keymapLayout = e),
            S("keymapLayout", t),
            p.dispatch("keymapLayout", w.keymapLayout),
            !0)
          );
        }
        function ze(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymapShowTopRow", e, [
              ["always", "layout", "never"],
            ]) &&
            ((w.keymapShowTopRow = e),
            S("keymapShowTopRow", t),
            p.dispatch("keymapShowTopRow", w.keymapShowTopRow),
            !0)
          );
        }
        function Ue(e, t) {
          return (
            !!(0, c.isConfigValueValid)("layout", e, ["string"]) &&
            ((w.layout = e),
            S("layout", t),
            p.dispatch("layout", w.layout, t),
            !0)
          );
        }
        function Qe(e, t) {
          return (
            "string" == typeof e &&
              ["1", "125", "15", "2", "3", "4"].includes(e) &&
              (e = "125" === e ? 1.25 : "15" === e ? 1.5 : parseInt(e)),
            !!(0, c.isConfigValueValid)("font size", e, ["number"]) &&
              (e < 0 && (e = 1),
              15 == e && (e = 1.5),
              (w.fontSize = e),
              $("#words, #caret, #paceCaret, #miniTimerAndLiveWpm").css(
                "fontSize",
                e + "rem"
              ),
              S("fontSize", t),
              p.dispatch("fontSize", w.fontSize),
              !0)
          );
        }
        function Ge(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom background", e, ["string"]) &&
            ((e = e.trim()),
            (/(https|http):\/\/(www\.|).+\..+\/.+(\.png|\.gif|\.jpeg|\.jpg)/gi.test(
              e
            ) &&
              !/[<> "]/.test(e)) ||
            "" == e
              ? ((w.customBackground = e),
                S("customBackground", t),
                p.dispatch("customBackground", w.customBackground))
              : d.add("Invalid custom background URL", 0),
            !0)
          );
        }
        function Je(e, t) {
          return s(this, void 0, void 0, function* () {
            const o = e.trim();
            if (
              !(yield (0, c.isConfigValueValidAsync)("layoutfluid", o, [
                "layoutfluid",
              ]))
            )
              return !1;
            const n = o.replace(/ /g, "#");
            return (
              (w.customLayoutfluid = n),
              $(".pageSettings .section.customLayoutfluid input").val(
                n.replace(/#/g, " ")
              ),
              S("customLayoutfluid", t),
              p.dispatch("customLayoutFluid", w.customLayoutfluid),
              !0
            );
          });
        }
        function Ye(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom background size", e, [
              ["max", "cover", "contain"],
            ]) &&
            ("cover" != e && "contain" != e && "max" != e && (e = "cover"),
            (w.customBackgroundSize = e),
            S("customBackgroundSize", t),
            p.dispatch("customBackgroundSize", w.customBackgroundSize),
            !0)
          );
        }
        function Ze(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom background filter", e, [
              "numberArray",
            ]) &&
            ((w.customBackgroundFilter = e),
            S("customBackgroundFilter", t),
            p.dispatch("customBackgroundFilter", w.customBackgroundFilter),
            !0)
          );
        }
        function Xe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("monkey power level", e, [
              ["off", "1", "2", "3", "4"],
            ]) &&
            (["off", "1", "2", "3", "4"].includes(e) || (e = "off"),
            (w.monkeyPowerLevel = e),
            S("monkeyPowerLevel", t),
            p.dispatch("monkeyPowerLevel", w.monkeyPowerLevel),
            !0)
          );
        }
        function et(e, t) {
          return (
            !!(0, c.isConfigValueValid)("burst heatmap", e, ["boolean"]) &&
            (e || (e = !1),
            (w.burstHeatmap = e),
            S("burstHeatmap", t),
            p.dispatch("burstHeatmap", w.burstHeatmap),
            !0)
          );
        }
        function tt(e) {
          if (!e) return;
          const t = e;
          var o, n, a, i;
          Object.keys(f.default).forEach((e) => {
            if (void 0 === t[e]) {
              const o = f.default[e];
              t[e] = o;
            }
          }),
            null != t &&
              (Be(t.themeLight, !0),
              Ee(t.themeDark, !0),
              (o = t.theme),
              (n = t.customTheme),
              (a = t.customThemeColors),
              (i = t.autoSwitchTheme),
              !0,
              (0, c.isConfigValueValid)("themes", o, ["string"]) &&
                (9 === a.length &&
                  (n &&
                    d.add(
                      "Missing sub alt color. Please edit it in the custom theme settings and save your changes.",
                      0,
                      7
                    ),
                  a.splice(4, 0, "#000000")),
                (w.customThemeColors = a),
                (w.theme = o),
                (w.customTheme = n),
                (w.autoSwitchTheme = i),
                S("theme", true),
                p.dispatch("setThemes", n)),
              Je(t.customLayoutfluid, !0),
              Ge(t.customBackground, !0),
              Ye(t.customBackgroundSize, !0),
              Ze(t.customBackgroundFilter, !0),
              Oe(t.quickRestart, !0),
              Ce(t.showKeyTips, !0),
              _e(t.time, !0),
              Se(t.quoteLength, !0),
              Pe(t.words, !0),
              Fe(t.language, !0),
              Ue(t.layout, !0),
              Qe(t.fontSize, !0),
              Ae(t.freedomMode, !0),
              le(t.caretStyle, !0),
              de(t.paceCaretStyle, !0),
              j(t.difficulty, !0),
              B(t.blindMode, !0),
              te(t.quickEnd, !0),
              ae(t.flipTestColors, !0),
              ie(t.colorfulMode, !0),
              je(t.confidenceMode, !0),
              Le(t.indicateTypos, !0),
              be(t.timerStyle, !0),
              we(t.timerColor, !0),
              $e(t.timerOpacity, !0),
              Ve(t.keymapMode, !0),
              He(t.keymapStyle, !0),
              Ke(t.keymapLegendStyle, !0),
              Ne(t.keymapLayout, !0),
              ze(t.keymapShowTopRow, !0),
              Me(t.fontFamily, !0),
              xe(t.smoothCaret, !0),
              Te(t.smoothLineScroll, !0),
              pe(t.showLiveWpm, !0),
              fe(t.showLiveAcc, !0),
              he(t.showLiveBurst, !0),
              ce(t.showTimerProgress, !0),
              R(t.alwaysShowDecimalPlaces, !0),
              Y(t.alwaysShowWordsHistory, !0),
              Z(t.singleListCommandLine, !0),
              X(t.capsLockWarning, !0),
              O(t.playSoundOnError, !0),
              M(t.playSoundOnClick, !0),
              A(t.soundVolume, !0),
              D(t.stopOnError, !0),
              L(t.favThemes, !0),
              W(t.funbox, !0),
              Ie(t.randomTheme, !0),
              ee(t.showAllLines, !0),
              q(t.showOutOfFocusWarning, !0),
              V(t.paceCaret, !0),
              K(t.paceCaretCustomSpeed, !0),
              H(t.repeatedPace, !0),
              ue(t.pageWidth, !0),
              E(t.chartAccuracy, !0),
              I(t.chartStyle, !0),
              G(t.minBurst, !0),
              J(t.minBurstCustomSpeed, !0),
              N(t.minWpm, !0),
              z(t.minWpmCustomSpeed, !0),
              U(t.minAcc, !0),
              Q(t.minAccCustom, !0),
              x(t.numbers, !0),
              k(t.punctuation, !0),
              ge(t.highlightMode, !0),
              F(t.alwaysShowCPM, !0),
              ye(t.hideExtraLetters, !0),
              ke(t.startGraphsAtZero, !0),
              se(t.strictSpace, !0),
              re(t.oppositeShiftMode, !0),
              T(t.mode, !0),
              qe(t.monkey, !0),
              ne(t.repeatQuotes, !0),
              Xe(t.monkeyPowerLevel, !0),
              et(t.burstHeatmap, !0),
              De(t.britishEnglish, !0),
              Re(t.lazyMode, !0),
              me(t.showAverage, !0),
              ve(t.tapeMode, !0),
              oe(t.ads, !0),
              p.dispatch("configApplied", void 0, void 0, void 0, w));
        }
        function ot() {
          p.dispatch("fullConfigChange"), tt(f.default), P();
        }
        (t.saveFullConfigToLocalStorage = P),
          (t.setNumbers = x),
          (t.setPunctuation = k),
          (t.setMode = T),
          (t.setPlaySoundOnError = O),
          (t.setPlaySoundOnClick = M),
          (t.setSoundVolume = A),
          (t.setDifficulty = j),
          (t.setFavThemes = L),
          (t.setFunbox = W),
          (t.setBlindMode = B),
          (t.setChartAccuracy = E),
          (t.setChartStyle = I),
          (t.setStopOnError = D),
          (t.setAlwaysShowDecimalPlaces = R),
          (t.setAlwaysShowCPM = F),
          (t.setShowOutOfFocusWarning = q),
          (t.setPaceCaret = V),
          (t.setPaceCaretCustomSpeed = K),
          (t.setRepeatedPace = H),
          (t.setMinWpm = N),
          (t.setMinWpmCustomSpeed = z),
          (t.setMinAcc = U),
          (t.setMinAccCustom = Q),
          (t.setMinBurst = G),
          (t.setMinBurstCustomSpeed = J),
          (t.setAlwaysShowWordsHistory = Y),
          (t.setSingleListCommandLine = Z),
          (t.setCapsLockWarning = X),
          (t.setShowAllLines = ee),
          (t.setQuickEnd = te),
          (t.setAds = oe),
          (t.setRepeatQuotes = ne),
          (t.setFlipTestColors = ae),
          (t.setColorfulMode = ie),
          (t.setStrictSpace = se),
          (t.setOppositeShiftMode = re),
          (t.setPageWidth = ue),
          (t.setCaretStyle = le),
          (t.setPaceCaretStyle = de),
          (t.setShowTimerProgress = ce),
          (t.setShowLiveWpm = pe),
          (t.setShowLiveAcc = fe),
          (t.setShowLiveBurst = he),
          (t.setShowAverage = me),
          (t.setHighlightMode = ge),
          (t.setTapeMode = ve),
          (t.setHideExtraLetters = ye),
          (t.setTimerStyle = be),
          (t.setTimerColor = we),
          (t.setTimerOpacity = $e),
          (t.setKeyTips = Ce),
          (t.setTimeConfig = _e),
          (t.setQuoteLength = Se),
          (t.setWordCount = Pe),
          (t.setSmoothCaret = xe),
          (t.setStartGraphsAtZero = ke),
          (t.setSmoothLineScroll = Te),
          (t.setQuickRestartMode = Oe),
          (t.previewFontFamily = function (e) {
            return (
              !!(0, c.isConfigValueValid)("preview font family", e, [
                "string",
              ]) &&
              (document.documentElement.style.setProperty(
                "--font",
                '"' + e.replace(/_/g, " ") + '", "Roboto Mono", "Vazirmatn"'
              ),
              !0)
            );
          }),
          (t.setFontFamily = Me),
          (t.setFreedomMode = Ae),
          (t.setConfidenceMode = je),
          (t.setIndicateTypos = Le),
          (t.setAutoSwitchTheme = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("auto switch theme", e, [
                "boolean",
              ]) &&
              ((e = null != e ? e : f.default.autoSwitchTheme),
              (w.autoSwitchTheme = e),
              S("autoSwitchTheme", t),
              p.dispatch("autoSwitchTheme", w.autoSwitchTheme),
              !0)
            );
          }),
          (t.setCustomTheme = We),
          (t.setTheme = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("theme", e, ["string"]) &&
              ((w.theme = e),
              !0 === w.customTheme && We(!1),
              S("theme", t),
              p.dispatch("theme", w.theme),
              !0)
            );
          }),
          (t.setThemeLight = Be),
          (t.setThemeDark = Ee),
          (t.setRandomTheme = Ie),
          (t.setBritishEnglish = De),
          (t.setLazyMode = Re),
          (t.setCustomThemeColors = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("custom theme colors", e, [
                "stringArray",
              ]) &&
              (9 === e.length &&
                (d.add(
                  "Missing sub alt color. Please edit it in the custom theme settings and save your changes.",
                  0,
                  7
                ),
                e.splice(4, 0, "#000000")),
              void 0 !== e && (w.customThemeColors = e),
              S("customThemeColors", t),
              p.dispatch("customThemeColors", w.customThemeColors, t),
              !0)
            );
          }),
          (t.setLanguage = Fe),
          (t.setMonkey = qe),
          (t.setKeymapMode = Ve),
          (t.setKeymapLegendStyle = Ke),
          (t.setKeymapStyle = He),
          (t.setKeymapLayout = Ne),
          (t.setKeymapShowTopRow = ze),
          (t.setLayout = Ue),
          (t.setFontSize = Qe),
          (t.setCustomBackground = Ge),
          (t.setCustomLayoutfluid = Je),
          (t.setCustomBackgroundSize = Ye),
          (t.setCustomBackgroundFilter = Ze),
          (t.setMonkeyPowerLevel = Xe),
          (t.setBurstHeatmap = et),
          (t.apply = tt),
          (t.reset = ot),
          (t.loadFromLocalStorage = function () {
            console.log("loading localStorage config");
            const e = window.localStorage.getItem("config");
            let o;
            if (null != e && "" !== e) {
              try {
                o = JSON.parse(e);
              } catch (e) {
                o = {};
              }
              tt(o),
                console.log("applying localStorage config"),
                (t.localStorageConfig = o),
                P(!0),
                console.log("saving localStorage config");
            } else ot();
            b();
          }),
          (t.getConfigChanges = function () {
            const e = {};
            return (
              Object.keys(w)
                .filter((e) => w[e] != f.default[e])
                .forEach((t) => {
                  e[t] = w[t];
                }),
              e
            );
          }),
          (t.setConfig = function (e) {
            w = e;
          }),
          (t.loadPromise = new Promise((e) => {
            b = e;
          })),
          (t.default = w);
      },
      2191: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.default = {
            theme: "serika_dark",
            themeLight: "serika",
            themeDark: "serika_dark",
            autoSwitchTheme: !1,
            customTheme: !1,
            customThemeColors: [
              "#323437",
              "#e2b714",
              "#e2b714",
              "#646669",
              "#2c2e31",
              "#d1d0c5",
              "#ca4754",
              "#7e2a33",
              "#ca4754",
              "#7e2a33",
            ],
            favThemes: [],
            showKeyTips: !0,
            showLiveWpm: !1,
            showTimerProgress: !0,
            smoothCaret: !0,
            quickRestart: "off",
            punctuation: !1,
            numbers: !1,
            words: 50,
            time: 30,
            mode: "time",
            quoteLength: [1],
            language: "english",
            fontSize: 1.5,
            freedomMode: !1,
            resultFilters: null,
            difficulty: "normal",
            blindMode: !1,
            quickEnd: !1,
            caretStyle: "default",
            paceCaretStyle: "default",
            flipTestColors: !1,
            layout: "default",
            funbox: "none",
            confidenceMode: "off",
            indicateTypos: "off",
            timerStyle: "mini",
            colorfulMode: !1,
            randomTheme: "off",
            timerColor: "main",
            timerOpacity: "1",
            stopOnError: "off",
            showAllLines: !1,
            keymapMode: "off",
            keymapStyle: "staggered",
            keymapLegendStyle: "lowercase",
            keymapLayout: "overrideSync",
            keymapShowTopRow: "layout",
            fontFamily: "Roboto_Mono",
            smoothLineScroll: !1,
            alwaysShowDecimalPlaces: !1,
            alwaysShowWordsHistory: !1,
            singleListCommandLine: "manual",
            capsLockWarning: !0,
            playSoundOnError: !1,
            playSoundOnClick: "off",
            soundVolume: "0.5",
            startGraphsAtZero: !0,
            showOutOfFocusWarning: !0,
            paceCaret: "off",
            paceCaretCustomSpeed: 100,
            repeatedPace: !0,
            pageWidth: "125",
            chartAccuracy: !0,
            chartStyle: "line",
            minWpm: "off",
            minWpmCustomSpeed: 100,
            highlightMode: "letter",
            alwaysShowCPM: !1,
            ads: "result",
            hideExtraLetters: !1,
            strictSpace: !1,
            minAcc: "off",
            minAccCustom: 90,
            showLiveAcc: !1,
            showLiveBurst: !1,
            monkey: !1,
            repeatQuotes: "off",
            oppositeShiftMode: "off",
            customBackground: "",
            customBackgroundSize: "cover",
            customBackgroundFilter: [0, 1, 1, 1, 1],
            customLayoutfluid: "qwerty#dvorak#colemak",
            monkeyPowerLevel: "off",
            minBurst: "off",
            minBurstCustomSpeed: 100,
            burstHeatmap: !1,
            britishEnglish: !1,
            lazyMode: !1,
            showAverage: "off",
            tapeMode: "off",
          });
      },
      8361: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.defaultSnap = void 0),
          (t.defaultSnap = {
            results: void 0,
            personalBests: {
              time: {},
              words: {},
              zen: { zen: [] },
              quote: { custom: [] },
              custom: { custom: [] },
            },
            name: "",
            customThemes: [],
            presets: [],
            tags: [],
            favouriteThemes: [],
            banned: void 0,
            verified: void 0,
            emailVerified: void 0,
            lbMemory: { time: { 15: { english: 0 }, 60: { english: 0 } } },
            typingStats: { timeTyping: 0, startedTests: 0, completedTests: 0 },
            quoteRatings: void 0,
            quoteMod: !1,
            favoriteQuotes: {},
            addedAt: 0,
            filterPresets: [],
            xp: 0,
            inboxUnreadSize: 0,
            streak: 0,
            maxStreak: 0,
          });
      },
      3660: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.firebaseConfig = void 0),
          (t.firebaseConfig = {
            apiKey: "AIzaSyB5m_AnO575kvWriahcF1SFIWp8Fj3gQno",
            authDomain: "monkey-type.firebaseapp.com",
            databaseURL: "https://monkey-type.firebaseio.com",
            projectId: "monkey-type",
            storageBucket: "monkey-type.appspot.com",
            messagingSenderId: "789788471140",
            appId: "1:789788471140:web:7e31b15959d68ac0a51471",
            measurementId: "G-PFV65WPEWF",
          });
      },
      4674: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.signOut =
            t.addPasswordAuth =
            t.addGoogleAuth =
            t.signInWithGoogle =
            t.forgotPassword =
            t.signIn =
            t.loadUser =
            t.getDataAndInit =
            t.sendVerificationEmail =
            t.gmailProvider =
              void 0);
        const u = r(o(7355)),
          l = i(o(3368)),
          d = i(o(6705)),
          c = d,
          p = i(o(5344)),
          f = i(o(3388)),
          h = i(o(8835)),
          m = i(o(2681)),
          g = i(o(6350)),
          v = i(o(3013)),
          y = i(o(9817)),
          b = i(o(5705)),
          w = i(o(7346)),
          C = i(o(6443)),
          _ = i(o(4335)),
          S = i(o(2588)),
          P = i(o(1329)),
          x = i(o(5886)),
          k = i(o(9343)),
          T = i(o(3875)),
          O = i(o(7058)),
          M = i(o(9608)),
          A = i(o(7520)),
          j = i(o(6001)),
          L = o(522),
          W = o(6617),
          B = o(5701),
          E = o(5513),
          I = o(2428),
          D = o(3487),
          R = i(o(3285));
        t.gmailProvider = new L.GoogleAuthProvider();
        let F,
          q = !0;
        function V() {
          if (void 0 === W.Auth)
            return void l.add("Authentication uninitialized", -1, 3);
          y.show();
          const e = W.Auth.currentUser;
          null !== e &&
            (0, L.sendEmailVerification)(e)
              .then(() => {
                y.hide(), l.add("Email sent to " + e.email, 4e3);
              })
              .catch((e) => {
                y.hide(),
                  l.add("Error: " + e.message, 3e3),
                  console.error(e.message);
              });
        }
        function K() {
          return s(this, void 0, void 0, function* () {
            try {
              console.log("getting account data"),
                "/account" !== window.location.pathname
                  ? _.updateBar(90)
                  : _.updateBar(45),
                _.updateText("Downloading user data..."),
                yield _.showBar(),
                yield g.initSnapshot();
            } catch (e) {
              const t = e;
              p.loading(!1),
                429 === t.responseCode &&
                  (l.add(
                    "Doing so will save you bandwidth, make the next test be ready faster and will not sign you out (which could mean your new personal best would not save to your account).",
                    0,
                    0
                  ),
                  l.add(
                    "You will run into this error if you refresh the website to restart the test. It is NOT recommended to do that. Instead, use tab + enter or just tab (with quick tab mode enabled) to restart the test.",
                    0,
                    0
                  ));
              const o = t.message || t;
              return (
                l.add("Failed to get user data: " + o, -1),
                $("#top #menu .account").css("opacity", 1),
                !1
              );
            }
            "loading" == w.get() ? _.updateBar(100) : _.updateBar(45),
              _.updateText("Applying settings...");
            const e = g.getSnapshot();
            if (
              ($("#menu .textButton.account > .text").text(e.name),
              (0, E.showFavoriteQuoteLength)(),
              P.loadTags(e.tags),
              Promise.all([f.getLanguageList(), f.getFunboxList()])
                .then((e) => {
                  const [t, o] = e;
                  t.forEach((e) => {
                    P.defaultResultFilters.language[e] = !0;
                  }),
                    o.forEach((e) => {
                      P.defaultResultFilters.funbox[e.name] = !0;
                    }),
                    P.load();
                })
                .catch((e) => {
                  console.log(
                    f.createErrorMessage(
                      e,
                      "Something went wrong while loading the filters"
                    )
                  );
                }),
              e.needsToChangeName &&
                l.addBanner(
                  "Your name was reset. <a class='openNameChange'>Click here</a> to change it and learn more about why.",
                  -1,
                  void 0,
                  !0,
                  void 0,
                  !0
                ),
              c.changedBeforeDb)
            )
              console.log("config changed before db"), p.loading(!1);
            else {
              if (null === c.localStorageConfig && e.config)
                console.log("no local config, applying db"),
                  p.loading(!1),
                  c.apply(e.config),
                  h.update(),
                  c.saveFullConfigToLocalStorage(!0),
                  v.restart({ nosave: !0 });
              else if (void 0 !== e.config) {
                let t = !1;
                Object.keys(d.default).forEach((o) => {
                  var n, a;
                  const i = o;
                  if (!t)
                    try {
                      "resultFilters" !== i &&
                        (Array.isArray(d.default[i])
                          ? d.default[i].forEach((o, n) => {
                              var a;
                              const s = (
                                null === (a = null == e ? void 0 : e.config) ||
                                void 0 === a
                                  ? void 0
                                  : a[i]
                              )[n];
                              o != s &&
                                ((t = !0),
                                console.log(
                                  `.config is different: ${o} != ${s}`
                                ));
                            })
                          : d.default[i] !=
                              (null === (n = null == e ? void 0 : e.config) ||
                              void 0 === n
                                ? void 0
                                : n[i]) &&
                            ((t = !0),
                            console.log(
                              `..config is different ${i}: ${d.default[i]} != ${
                                null === (a = null == e ? void 0 : e.config) ||
                                void 0 === a
                                  ? void 0
                                  : a[i]
                              }`
                            )));
                    } catch (e) {
                      console.log(e),
                        (t = !0),
                        console.log("...config is different");
                    }
                }),
                  t &&
                    (console.log(
                      "configs are different, applying config from db"
                    ),
                    p.loading(!1),
                    c.apply(e.config),
                    h.update(),
                    c.saveFullConfigToLocalStorage(!0),
                    "test" == w.get() && v.restart({ nosave: !0 }),
                    p.loading(!0),
                    g.saveConfig(d.default).then(() => {
                      p.loading(!1);
                    }));
              }
              c.setDbConfigLoaded(!0);
            }
            return (
              ("pb" !== d.default.paceCaret &&
                "average" !== d.default.paceCaret) ||
                C.get() ||
                x.init(),
              p.loading(!1),
              P.updateTags(),
              (0, D.update)(),
              k.loadActiveFromLocalStorage(),
              T.updateButtons(),
              h.showAccountSection(),
              "/account" === window.location.pathname &&
                (_.updateBar(90), yield A.downloadResults()),
              "/login" === window.location.pathname
                ? (0, I.navigate)("/account")
                : (0, I.navigate)(),
              !0
            );
          });
        }
        function H(e) {
          return s(this, void 0, void 0, function* () {
            $(".pageAccount .content p.accountVerificatinNotice").remove(),
              !1 === e.emailVerified &&
                $(".pageAccount .content").prepend(
                  '<p class="accountVerificatinNotice" style="text-align:center">Your account is not verified. <a class="sendVerificationEmail">Send the verification email again</a>.'
                ),
              b.set(!1),
              p.loading(!0),
              !1 === (yield K()) && G();
            const {
              discordId: t,
              discordAvatar: o,
              xp: n,
              inboxUnreadSize: a,
            } = g.getSnapshot();
            if (
              (p.update(n, t, o),
              j.setNotificationBubbleVisible(a > 0),
              S.hidePreloader(),
              $("#top .signInOut .icon").html(
                '<i class="fas fa-fw fa-sign-out-alt"></i>'
              ),
              null !== v.notSignedInLastResult)
            ) {
              v.setNotSignedInUid(e.uid);
              const t = yield u.default.results.save(v.notSignedInLastResult);
              if (200 !== t.status)
                return l.add("Failed to save last result: " + t.message, -1);
              v.clearNotSignedInResult(), l.add("Last test result saved", 1);
            }
          });
        }
        function N() {
          return s(this, void 0, void 0, function* () {
            if (void 0 === W.Auth)
              return void l.add("Authentication uninitialized", -1, 3);
            if (!R.get()) return void l.add("You are offline", 0, 2);
            c.setChangedBeforeDb(!1),
              F(),
              S.showPreloader(),
              S.disableInputs(),
              S.disableSignUpButton(),
              S.disableSignInButton();
            const e = $(".pageLogin .login input")[0].value,
              t = $(".pageLogin .login input")[1].value,
              o = $(".pageLogin .login #rememberMe input").prop("checked")
                ? L.browserLocalPersistence
                : L.browserSessionPersistence;
            return (
              yield (0, L.setPersistence)(W.Auth, o),
              (0, L.signInWithEmailAndPassword)(W.Auth, e, t)
                .then((e) =>
                  s(this, void 0, void 0, function* () {
                    yield H(e.user);
                  })
                )
                .catch(function (e) {
                  let t = e.message;
                  "auth/wrong-password" === e.code
                    ? (t = "Incorrect password")
                    : "auth/user-not-found" === e.code
                    ? (t = "User not found")
                    : "auth/invalid-email" === e.code &&
                      (t =
                        "Invalid email format (make sure you are using your email to login - not your username)"),
                    l.add(t, -1),
                    S.hidePreloader(),
                    S.enableInputs(),
                    S.enableSignInButton(),
                    S.updateSignupButton();
                })
            );
          });
        }
        function z(e) {
          return s(this, void 0, void 0, function* () {
            if (void 0 !== W.Auth) {
              if (!q)
                return l.add(
                  "Please wait before requesting another password reset link",
                  0,
                  5e3
                );
              if (!e) return l.add("Please enter an email!", -1);
              try {
                yield (0, L.sendPasswordResetEmail)(W.Auth, e),
                  l.add("Email sent", 1, 2);
              } catch (e) {
                l.add(f.createErrorMessage(e, "Failed to send email"), -1);
              }
              (q = !1),
                setTimeout(function () {
                  q = !0;
                }, 1e4);
            } else l.add("Authentication uninitialized", -1, 3);
          });
        }
        function U() {
          return s(this, void 0, void 0, function* () {
            if (void 0 === W.Auth)
              return void l.add("Authentication uninitialized", -1, 3);
            if (!R.get()) return void l.add("You are offline", 0, 2);
            c.setChangedBeforeDb(!1),
              S.showPreloader(),
              S.disableInputs(),
              S.disableSignUpButton(),
              S.disableSignInButton(),
              F();
            const e = $(".pageLogin .login #rememberMe input").prop("checked")
              ? L.browserLocalPersistence
              : L.browserSessionPersistence;
            yield (0, L.setPersistence)(W.Auth, e),
              (0, L.signInWithPopup)(W.Auth, t.gmailProvider)
                .then((e) =>
                  s(this, void 0, void 0, function* () {
                    var t;
                    (
                      null === (t = (0, L.getAdditionalUserInfo)(e)) ||
                      void 0 === t
                        ? void 0
                        : t.isNewUser
                    )
                      ? (0, B.dispatch)(e, !0)
                      : yield H(e.user);
                  })
                )
                .catch((e) => {
                  let t = e.message;
                  "auth/wrong-password" === e.code
                    ? (t = "Incorrect password")
                    : "auth/user-not-found" === e.code
                    ? (t = "User not found")
                    : "auth/invalid-email" === e.code
                    ? (t =
                        "Invalid email format (make sure you are using your email to login - not your username)")
                    : "auth/popup-closed-by-user" === e.code &&
                      (t = "Popup closed by user"),
                    l.add(t, -1),
                    S.hidePreloader(),
                    S.enableInputs(),
                    S.enableSignInButton(),
                    S.updateSignupButton();
                });
          });
        }
        function Q() {
          return s(this, void 0, void 0, function* () {
            void 0 !== W.Auth
              ? (y.show(),
                null !== W.Auth.currentUser &&
                  (0, L.linkWithPopup)(W.Auth.currentUser, t.gmailProvider)
                    .then(function () {
                      y.hide(),
                        l.add("Google authentication added", 1),
                        h.updateAuthSections();
                    })
                    .catch(function (e) {
                      y.hide(),
                        l.add(
                          "Failed to add Google authentication: " + e.message,
                          -1
                        );
                    }))
              : l.add("Authentication uninitialized", -1, 3);
          });
        }
        function G() {
          void 0 !== W.Auth
            ? W.Auth.currentUser &&
              W.Auth.signOut()
                .then(function () {
                  l.add("Signed out", 0, 2),
                    m.clear(),
                    h.hideAccountSection(),
                    p.update(),
                    (0, I.navigate)("/login"),
                    g.setSnapshot(void 0),
                    $(".pageLogin .button").removeClass("disabled"),
                    $(".pageLogin input").prop("disabled", !1),
                    $("#top .signInOut .icon").html(
                      '<i class="far fa-fw fa-user"></i>'
                    ),
                    setTimeout(() => {
                      (0, E.hideFavoriteQuoteLength)();
                    }, 125);
                })
                .catch(function (e) {
                  l.add(e.message, -1);
                })
            : l.add("Authentication uninitialized", -1, 3);
        }
        function J() {
          return s(this, void 0, void 0, function* () {
            if (void 0 === W.Auth)
              return void l.add("Authentication uninitialized", -1, 3);
            if (!R.get()) return void l.add("You are offline", 0, 2);
            O.show();
            const e = yield O.promise;
            if (!e) return void l.add("Please complete the captcha", -1);
            S.disableInputs(), S.disableSignUpButton(), S.showPreloader();
            const t = $(".pageLogin .register input")[0].value,
              o = $(".pageLogin .register input")[1].value,
              n = $(".pageLogin .register input")[2].value,
              a = $(".pageLogin .register input")[3].value,
              i = $(".pageLogin .register input")[4].value;
            if ("" === t || "" === o || "" === n || "" === a)
              return (
                S.hidePreloader(),
                S.enableInputs(),
                S.updateSignupButton(),
                void l.add("Please fill in all fields", 0)
              );
            if (a.length > 25)
              return (
                S.hidePreloader(),
                S.enableInputs(),
                S.updateSignupButton(),
                void l.add("Password is too long", 0)
              );
            if (
              !o.match(
                /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
              )
            )
              return (
                l.add("Invalid email", 0, 3),
                S.hidePreloader(),
                S.enableInputs(),
                void S.updateSignupButton()
              );
            if (o !== n)
              return (
                l.add("Emails do not match", 0, 3),
                S.hidePreloader(),
                S.enableInputs(),
                void S.updateSignupButton()
              );
            if (a !== i)
              return (
                l.add("Passwords do not match", 0, 3),
                S.hidePreloader(),
                S.enableInputs(),
                void S.updateSignupButton()
              );
            if (
              "localhost" !== window.location.hostname &&
              !f.isPasswordStrong(a)
            )
              return (
                l.add(
                  "Password must contain at least one capital letter, number, a special character and at least 8 characters long",
                  0,
                  4
                ),
                S.hidePreloader(),
                S.enableInputs(),
                void S.updateSignupButton()
              );
            let s;
            F();
            try {
              s = yield (0, L.createUserWithEmailAndPassword)(W.Auth, o, a);
              const n = yield u.default.users.create(t, e, o, s.user.uid);
              if (200 !== n.status) throw n;
              if (
                (yield (0, L.updateProfile)(s.user, { displayName: t }),
                yield (0, L.sendEmailVerification)(s.user),
                m.clear(),
                $("#menu .textButton.account .text").text(t),
                $(".pageLogin .button").removeClass("disabled"),
                $(".pageLogin input").prop("disabled", !1),
                S.hidePreloader(),
                yield H(s.user),
                null !== v.notSignedInLastResult &&
                  (v.setNotSignedInUid(s.user.uid),
                  200 ===
                    (yield u.default.results.save(v.notSignedInLastResult))
                      .status))
              ) {
                const e = v.notSignedInLastResult;
                g.saveLocalResult(e),
                  g.updateLocalStats(
                    1,
                    e.testDuration + e.incompleteTestSeconds - e.afkDuration
                  );
              }
              l.add("Account created", 1, 3);
            } catch (e) {
              if (s) {
                try {
                  yield u.default.users.delete();
                } catch (e) {}
                try {
                  yield s.user.delete();
                } catch (e) {}
              }
              console.log(e);
              const t = f.createErrorMessage(e, "Failed to create account");
              return (
                l.add(t, -1),
                S.hidePreloader(),
                S.enableInputs(),
                S.updateSignupButton(),
                void G()
              );
            }
          });
        }
        (t.sendVerificationEmail = V),
          (t.getDataAndInit = K),
          (t.loadUser = H),
          W.Auth && R.get()
            ? (F =
                null === W.Auth || void 0 === W.Auth
                  ? void 0
                  : W.Auth.onAuthStateChanged(function (e) {
                      return s(this, void 0, void 0, function* () {
                        const t = window.location.search,
                          o = window.location.hash;
                        console.log(`auth state changed, user ${!!e}`),
                          e
                            ? ($("#top .signInOut .icon").html(
                                '<i class="fas fa-fw fa-sign-out-alt"></i>'
                              ),
                              yield H(e))
                            : ($("#top .signInOut .icon").html(
                                '<i class="far fa-fw fa-user"></i>'
                              ),
                              "/account" == window.location.pathname &&
                                window.history.replaceState("", "", "/login"),
                              b.set(!1)),
                          e || (0, I.navigate)(),
                          M.loadCustomThemeFromUrl(t),
                          M.loadTestSettingsFromUrl(t),
                          M.linkDiscord(o),
                          /challenge_.+/g.test(window.location.pathname) &&
                            l.add(
                              "Challenge links temporarily disabled. Please use the command line to load the challenge manually",
                              0,
                              7
                            );
                      });
                    }))
            : ($("#menu .signInOut").addClass("hidden"),
              $("document").ready(() =>
                s(void 0, void 0, void 0, function* () {
                  const e = window.location.search,
                    t = window.location.hash;
                  $("#top .signInOut .icon").html(
                    '<i class="far fa-fw fa-user"></i>'
                  ),
                    "/account" == window.location.pathname &&
                      window.history.replaceState("", "", "/login"),
                    b.set(!1),
                    (0, I.navigate)(),
                    M.loadCustomThemeFromUrl(e),
                    M.loadTestSettingsFromUrl(e),
                    M.linkDiscord(t),
                    /challenge_.+/g.test(window.location.pathname) &&
                      l.add(
                        "Challenge links temporarily disabled. Please use the command line to load the challenge manually",
                        0,
                        7
                      );
                })
              )),
          (t.signIn = N),
          (t.forgotPassword = z),
          (t.signInWithGoogle = U),
          (t.addGoogleAuth = Q),
          (t.addPasswordAuth = function (e, o) {
            return s(this, void 0, void 0, function* () {
              if (void 0 === W.Auth)
                return void l.add("Authentication uninitialized", -1, 3);
              y.show();
              const n = W.Auth.currentUser;
              if (null === n) return;
              if (n.providerData.find((e) => "google.com" === e.providerId))
                try {
                  yield (0, L.reauthenticateWithPopup)(n, t.gmailProvider);
                } catch (e) {
                  y.hide();
                  const t = f.createErrorMessage(e, "Failed to reauthenticate");
                  return l.add(t, -1);
                }
              const a = L.EmailAuthProvider.credential(e, o);
              (0, L.linkWithCredential)(n, a)
                .then(function () {
                  y.hide(),
                    l.add("Password authentication added", 1),
                    h.updateAuthSections();
                })
                .catch(function (e) {
                  y.hide(),
                    l.add(
                      "Failed to add password authentication: " + e.message,
                      -1
                    );
                });
            });
          }),
          (t.signOut = G),
          $(".pageLogin #forgotPasswordButton").on("click", () => {
            const e = $(".pageLogin .login input")[0].value || "";
            z(prompt("Email address", e));
          }),
          $(".pageLogin .login input").keyup((e) => {
            "Enter" === e.key && (c.setChangedBeforeDb(!1), N());
          }),
          $(".pageLogin .login .button.signIn").on("click", () => {
            c.setChangedBeforeDb(!1), N();
          }),
          $(".pageLogin .login .button.signInWithGoogle").on("click", () => {
            c.setChangedBeforeDb(!1), U();
          }),
          $("#top .signInOut").on("click", () => {
            void 0 !== W.Auth
              ? W.Auth.currentUser
                ? G()
                : (0, I.navigate)("/login")
              : l.add("Authentication uninitialized", -1, 3);
          }),
          $(".pageLogin .register input").keyup((e) => {
            $(".pageLogin .register .button").hasClass("disabled") ||
              ("Enter" === e.key && J());
          }),
          $(".pageLogin .register .button").on("click", () => {
            $(".pageLogin .register .button").hasClass("disabled") || J();
          }),
          $(".pageSettings #addGoogleAuth").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              R.get() ? Q() : l.add("You are offline", 0, 2);
            })
          ),
          $(".pageAccount").on("click", ".sendVerificationEmail", () => {
            R.get() ? V() : l.add("You are offline", 0, 2);
          });
      },
      1493: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.destroyResult =
            t.updateTestPageAds =
            t.renderResult =
            t.reinstate =
            t.checkCookieblocker =
            t.checkAdblock =
            t.refreshVisible =
            t.removeResult =
            t.removeOn =
            t.removeSellout =
            t.removeAll =
            t.init =
            t.cookieBlocker =
            t.adBlock =
              void 0);
        const u = o(2189),
          l = i(o(3388)),
          d = i(o(1446)),
          c = i(o(6389)),
          p = r(o(6705)),
          f = i(o(6443));
        let h = !0,
          m = !1;
        function g() {
          $("head").append(
            "<script>\n!function(e){var s=new XMLHttpRequest;s.open(\"GET\",\"https://api.enthusiastgaming.net/scripts/cdn.enthusiast.gg/script/eg-aps/release/eg-aps-bootstrap-v2.0.0.bundle.js?site=monkeytype.com\",!0),s.onreadystatechange=function(){var t;4==s.readyState&&(200<=s.status&&s.status<300||304==s.status)&&((t=e.createElement(\"script\")).type=\"text/javascript\",t.text=s.responseText,e.head.appendChild(t))},s.send(null)}(document);\n(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-W7WN5QV');\n</script>"
          ),
            $("body").prepend(
              '<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W7WN5QV"\nheight="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>'
            ),
            setInterval(() => {
              f.get() || S();
            }, 6e4),
            (m = !0);
        }
        function v() {
          y(), b(), w();
        }
        function y() {
          $("#ad-footer-wrapper").remove(),
            $("#ad-footer-small-wrapper").remove(),
            $("#ad-about-1-wrapper").remove(),
            $("#ad-about-1-small-wrapper").remove(),
            $("#ad-about-2-wrapper").remove(),
            $("#ad-about-2-small-wrapper").remove(),
            $("#ad-settings-1-wrapper").remove(),
            $("#ad-settings-1-small-wrapper").remove(),
            $("#ad-settings-2-wrapper").remove(),
            $("#ad-settings-2-small-wrapper").remove(),
            $("#ad-settings-3-wrapper").remove(),
            $("#ad-settings-3-small-wrapper").remove(),
            $("#ad-account-1-wrapper").remove(),
            $("#ad-account-1-small-wrapper").remove(),
            $("#ad-account-2-wrapper").remove(),
            $("#ad-account-2-small-wrapper").remove();
        }
        function b() {
          $("#ad-vertical-right-wrapper").remove(),
            $("#ad-vertical-left-wrapper").remove();
        }
        function w() {
          $("#ad-result-wrapper").remove(),
            $("#ad-result-small-wrapper").remove();
        }
        function C() {
          const e =
            $("#bannerCenter").height() + l.convertRemToPixels(2) + "px";
          $("#ad-vertical-left-wrapper").css("margin-top", e),
            $("#ad-vertical-right-wrapper").css("margin-top", e);
        }
        function _(e = !1) {
          const t = h;
          (h = window.innerWidth > 900), e || (t !== h && k());
        }
        function S() {
          return s(this, void 0, void 0, function* () {
            const e = Object.keys(window.egAdPack.gptAdSlots),
              t = [];
            for (let o = 0; o < e.length; o++) {
              const n = document.querySelectorAll(
                "[data-adunit-name='" + e[o] + "']"
              )[0];
              if (!n) continue;
              const a = n.parentElement;
              "none" !=
                window.getComputedStyle(a).getPropertyValue("display") &&
                t.push(e[o]);
            }
            window.egAps.refreshAds(t);
          });
        }
        function P() {
          return s(this, void 0, void 0, function* () {
            return new Promise((e) => {
              void 0 === t.adBlock &&
                (void 0 === window.egAdPack
                  ? (t.adBlock = !0)
                  : (t.adBlock = !1)),
                e();
            });
          });
        }
        function x() {
          return s(this, void 0, void 0, function* () {
            return new Promise((e) => {
              void 0 === t.cookieBlocker
                ? (void 0 === window.__tcfapi && ((t.cookieBlocker = !0), e()),
                  window.__tcfapi("getTCData", 2, (o, n) => {
                    n
                      ? "cmpuishown" === o.eventStatus
                        ? (t.cookieBlocker = !0)
                        : (t.cookieBlocker = !1)
                      : (t.cookieBlocker = !0),
                      e();
                  }))
                : e();
            });
          });
        }
        function k() {
          return s(this, void 0, void 0, function* () {
            if ("off" === p.default.ads) return !1;
            if (!m) return g(), !0;
            if ((yield P(), yield x(), t.adBlock || t.cookieBlocker)) return !1;
            try {
              return window.egAps.reinstate(), !0;
            } catch (e) {
              return console.error(e), !1;
            }
          });
        }
        (t.init = g),
          (t.removeAll = v),
          (t.removeSellout = y),
          (t.removeOn = b),
          (t.removeResult = w),
          (t.refreshVisible = S),
          (t.checkAdblock = P),
          (t.checkCookieblocker = x),
          (t.reinstate = k),
          (t.renderResult = function () {
            return s(this, void 0, void 0, function* () {
              "off" !== p.default.ads &&
                (m || g(),
                yield P(),
                yield x(),
                t.adBlock
                  ? $("#ad-result-wrapper .iconAndText .text").html(
                      '\n    Using an ad blocker? No worries\n    <div class="smalltext">\n      We understand ads can be annoying\n      <br />\n      You can\n      <i>disable all ads</i>\n      in the settings\n    </div>\n    '
                    )
                  : t.cookieBlocker
                  ? $("#ad-result-wrapper .iconAndText .text").html(
                      '\n    Ads not working? Ooops\n    <div class="smalltext">\n      You may have a cookie popup blocker enabled - ads will not show without your consent\n      <br />\n      You can also \n      <i>disable all ads</i>\n      in the settings if you wish\n    </div>\n    '
                    )
                  : h
                  ? window.egAps.refreshAds([
                      "ad-result",
                      "ad-vertical-left",
                      "ad-vertical-right",
                      "ad-footer",
                    ])
                  : window.egAps.refreshAds([
                      "ad-result-small",
                      "ad-vertical-left",
                      "ad-vertical-right",
                      "ad-footer-small",
                    ]));
            });
          }),
          (t.updateTestPageAds = function (e) {
            e
              ? ($("#ad-vertical-left-wrapper").removeClass("testPage"),
                $("#ad-vertical-right-wrapper").removeClass("testPage"),
                $("#ad-footer-wrapper").removeClass("testPage"),
                $("#ad-footer-small-wrapper").removeClass("testPage"))
              : ($("#ad-vertical-left-wrapper").addClass("testPage"),
                $("#ad-vertical-right-wrapper").addClass("testPage"),
                $("#ad-footer-wrapper").addClass("testPage"),
                $("#ad-footer-small-wrapper").addClass("testPage"));
          }),
          (t.destroyResult = function () {});
        const T = (0, u.debounce)(100, C),
          O = (0, u.debounce)(100, _);
        $(window).on("resize", () => {
          T(), O();
        }),
          d.subscribe((e, t) => {
            "ads" === e &&
              ("off" == t
                ? v()
                : "result" == t
                ? (y(), b())
                : "on" == t && y());
          }),
          c.subscribe(() => {
            C();
          }),
          $(document).ready(() => {
            _(!0);
          }),
          (window.onerror = function (e) {
            "string" == typeof e &&
              "EG APS" === e.substring(0, 6) &&
              $("#ad-result-wrapper .iconAndText").addClass("withLeft");
          });
      },
      3326: function (e, t, o) {
        var n =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.activateAnalytics = t.log = t.Analytics = void 0);
        const a = o(5296),
          i = o(6617),
          s = o(3388);
        t.log = function (e, o) {
          return n(this, void 0, void 0, function* () {
            try {
              (0, a.logEvent)(t.Analytics, e, o);
            } catch (e) {
              console.log("Analytics unavailable");
            }
          });
        };
        const r = localStorage.getItem("acceptedCookies");
        let u;
        function l() {
          try {
            (t.Analytics = (0, a.getAnalytics)(i.app)),
              (0, a.setAnalyticsCollectionEnabled)(t.Analytics, !0),
              $("body").append(
                '\n    <script\n    async\n    src="https://www.googletagmanager.com/gtag/js?id=UA-165993088-1"\n  ></script>\n  <script>\n    window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n    gtag("js", new Date());\n\n    gtag("config", "UA-165993088-1");\n  </script>'
              );
          } catch (e) {
            console.error(
              (0, s.createErrorMessage)(e, "Failed to activate analytics")
            );
          }
        }
        (u = r ? JSON.parse(r) : null),
          null !== u && !0 === u.analytics && l(),
          (t.activateAnalytics = l);
      },
      7401: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getById = t.getHTMLById = void 0);
        const o = {
          1: {
            id: 1,
            name: "Developer",
            description: "I made this",
            icon: "fa-rocket",
            color: "white",
            customStyle: "animation: rgb-bg 10s linear infinite;",
          },
          2: {
            id: 2,
            name: "Collaborator",
            description: "I helped make this",
            icon: "fa-code",
            color: "white",
            customStyle: "animation: rgb-bg 10s linear infinite;",
          },
          3: {
            id: 3,
            name: "Server Mod",
            description: "Discord server moderator",
            icon: "fa-hammer",
            color: "white",
            customStyle: "animation: rgb-bg 10s linear infinite;",
          },
          4: {
            id: 4,
            name: "OG Account",
            description: "First 1000 users on the site",
            icon: "fa-baby",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          5: {
            id: 5,
            name: "OG Discordian",
            description: "First 1000 Discord server members",
            icon: "fa-baby",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          6: {
            id: 6,
            name: "Supporter",
            description: "Donated money",
            icon: "fa-heart",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
          7: {
            id: 7,
            name: "Sugar Daddy",
            description: "Donated a lot of money",
            icon: "fa-gem",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          8: {
            id: 8,
            name: "Monkey Supporter",
            description: "Donated more money",
            icon: "fa-heart",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          9: {
            id: 9,
            name: "White Hat",
            description: "Reported critical vulnerabilities on the site",
            icon: "fa-user-secret",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          10: {
            id: 10,
            name: "Bug Hunter",
            description: "Reported bugs on the site",
            icon: "fa-bug",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
          11: {
            id: 11,
            name: "Content Creator",
            description: "Verified content creator",
            icon: "fa-video",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
          12: {
            id: 12,
            name: "Contributor",
            description: "Contributed to the site",
            icon: "fa-hands-helping",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
        };
        (t.getHTMLById = function (e, t = !1, n = !1) {
          const a = o[e];
          if (!a) return "";
          let i = "";
          a.background && (i += `background: ${a.background};`),
            a.color && (i += `color: ${a.color};`),
            a.customStyle && (i += a.customStyle);
          const s = (t ? a.name + ": " : "") + a.description;
          let r = "";
          return (
            n || (r = `aria-label="${s}" data-balloon-pos="right"`),
            `<div class="badge" ${r} style="${i}">${
              a.icon ? `<i class="fas ${a.icon}"></i>` : ""
            }${t ? "" : `<div class="text">${a.name}</div>`}</div>`
          );
        }),
          (t.getById = function (e) {
            return o[e];
          });
      },
      6953: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getResponse = t.reset = t.render = void 0);
        const o = {};
        (t.render = function (e, t, n) {
          if (void 0 !== o[t] && null !== o[t]) return;
          const a = grecaptcha.render(e, {
            sitekey: "6Lc-V8McAAAAAJ7s6LGNe7MBZnRiwbsbiWts87aj",
            callback: n,
          });
          o[t] = a;
        }),
          (t.reset = function (e) {
            void 0 !== o[e] && null !== o[e] && grecaptcha.reset(o[e]);
          }),
          (t.getResponse = function (e) {
            return void 0 === o[e] || null === o[e]
              ? ""
              : grecaptcha.getResponse(o[e]);
          });
      },
      7567: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setup = t.verify = t.clearActive = void 0);
        const r = i(o(3388)),
          u = i(o(3368)),
          l = i(o(2203)),
          d = i(o(8248)),
          c = i(o(8059)),
          p = i(o(6705)),
          f = p,
          h = i(o(8673)),
          m = i(o(1446)),
          g = i(o(1322)),
          v = i(o(9817));
        let y = !1;
        function b() {
          !g.activeChallenge ||
            y ||
            h.testRestarting ||
            (u.add("Challenge cleared", 0), g.setActiveChallenge(null));
        }
        (t.clearActive = b),
          (t.verify = function (e) {
            try {
              if (g.activeChallenge) {
                const t = (e.afkDuration / e.testDuration) * 100;
                if (t > 10)
                  return (
                    u.add("Challenge failed: AFK time is greater than 10%", 0),
                    null
                  );
                if (g.activeChallenge.requirements) {
                  let o = !0;
                  const n = [];
                  for (const a in g.activeChallenge.requirements) {
                    if (0 == o) return null;
                    const i = g.activeChallenge.requirements[a];
                    if ("wpm" == a) {
                      const t = Object.keys(i)[0];
                      "exact" == t
                        ? Math.round(e.wpm) != i.exact &&
                          ((o = !1), n.push(`WPM not ${i.exact}`))
                        : "min" == t &&
                          e.wpm < i.min &&
                          ((o = !1), n.push(`WPM below ${i.min}`));
                    } else if ("acc" == a) {
                      const t = Object.keys(i)[0];
                      "exact" == t
                        ? e.acc != i.exact &&
                          ((o = !1), n.push(`Accuracy not ${i.exact}`))
                        : "min" == t &&
                          e.acc < i.min &&
                          ((o = !1), n.push(`Accuracy below ${i.min}`));
                    } else if ("afk" == a)
                      "max" == Object.keys(i)[0] &&
                        Math.round(t) > i.max &&
                        ((o = !1), n.push(`AFK percentage above ${i.max}`));
                    else if ("time" == a)
                      "min" == Object.keys(i)[0] &&
                        Math.round(e.testDuration) < i.min &&
                        ((o = !1), n.push(`Test time below ${i.min}`));
                    else if ("funbox" == a) {
                      const t = i.exact;
                      t != e.funbox &&
                        ((o = !1), n.push(`${t} funbox not active`));
                    } else if ("raw" == a)
                      "exact" == Object.keys(i)[0] &&
                        Math.round(e.rawWpm) != i.exact &&
                        ((o = !1), n.push(`Raw WPM not ${i.exact}`));
                    else if ("con" == a)
                      "exact" == Object.keys(i)[0] &&
                        Math.round(e.consistency) != i.exact &&
                        ((o = !1), n.push(`Consistency not ${i.exact}`));
                    else if ("config" == a)
                      for (const e in i) {
                        const t = i[e];
                        p.default[e] != t &&
                          ((o = !1), n.push(`${e} not set to ${t}`));
                      }
                  }
                  return o
                    ? (g.activeChallenge.autoRole &&
                        u.add(
                          "You will receive a role shortly. Please don't post a screenshot in challenge submissions.",
                          1,
                          5
                        ),
                      u.add(
                        `${g.activeChallenge.display} challenge passed!`,
                        1
                      ),
                      g.activeChallenge.name)
                    : (u.add(
                        `${
                          g.activeChallenge.display
                        } challenge failed: ${n.join(", ")}`,
                        0
                      ),
                      null);
                }
                return (
                  u.add(`${g.activeChallenge.display} challenge passed!`, 1),
                  g.activeChallenge.name
                );
              }
              return null;
            } catch (e) {
              return (
                console.error(e),
                u.add(
                  `Something went wrong when verifying challenge: ${e.message}`,
                  0
                ),
                null
              );
            }
          }),
          (t.setup = function (e) {
            return s(this, void 0, void 0, function* () {
              let t;
              (y = !0), f.setFunbox("none");
              try {
                t = yield r.getChallengeList();
              } catch (e) {
                const t = r.createErrorMessage(e, "Failed to setup challenge");
                return (
                  u.add(t, -1),
                  l.set(),
                  setTimeout(() => {
                    $("#top .config").removeClass("hidden"),
                      $(".page.pageTest").removeClass("hidden");
                  }, 250),
                  !1
                );
              }
              const o = t.filter((t) => t.name === e)[0];
              let n;
              try {
                if (void 0 === o)
                  return (
                    u.add("Challenge not found", 0),
                    l.set(),
                    setTimeout(() => {
                      $("#top .config").removeClass("hidden"),
                        $(".page.pageTest").removeClass("hidden");
                    }, 250),
                    !1
                  );
                if ("customTime" === o.type)
                  f.setTimeConfig(o.parameters[0], !0),
                    f.setMode("time", !0),
                    f.setDifficulty("normal", !0),
                    "englishMaster" === o.name &&
                      (f.setLanguage("english_10k", !0),
                      f.setNumbers(!0, !0),
                      f.setPunctuation(!0, !0));
                else if ("customWords" === o.type)
                  f.setWordCount(o.parameters[0], !0),
                    f.setMode("words", !0),
                    f.setDifficulty("normal", !0);
                else if ("customText" === o.type)
                  d.setText(o.parameters[0].split(" ")),
                    d.setIsTimeRandom(!1),
                    d.setIsWordRandom(o.parameters[1]),
                    d.setWord(o.parameters[2]),
                    d.setTime(-1),
                    f.setMode("custom", !0),
                    f.setDifficulty("normal", !0);
                else if ("script" === o.type) {
                  v.show();
                  const e = yield fetch("/challenges/" + o.parameters[0]);
                  v.hide();
                  let t = (yield e.text()).trim();
                  (t = t.replace(/[\n\r\t ]/gm, " ")),
                    (t = t.replace(/ +/gm, " ")),
                    d.setText(t.split(" ")),
                    d.setIsWordRandom(!1),
                    d.setTime(-1),
                    d.setWord(-1),
                    f.setMode("custom", !0),
                    f.setDifficulty("normal", !0),
                    null != o.parameters[1] && f.setTheme(o.parameters[1]),
                    null != o.parameters[2] && c.activate(o.parameters[2]);
                } else
                  "accuracy" === o.type
                    ? (f.setTimeConfig(0, !0),
                      f.setMode("time", !0),
                      f.setDifficulty("master", !0))
                    : "funbox" === o.type
                    ? (f.setFunbox(o.parameters[0], !0),
                      f.setDifficulty("normal", !0),
                      "words" === o.parameters[1]
                        ? f.setWordCount(o.parameters[2], !0)
                        : "time" === o.parameters[1] &&
                          f.setTimeConfig(o.parameters[2], !0),
                      f.setMode(o.parameters[1], !0),
                      void 0 !== o.parameters[3] &&
                        f.setDifficulty(o.parameters[3], !0))
                    : "special" === o.type &&
                      "semimak" === o.name &&
                      (f.setMode("time", !0),
                      f.setTimeConfig(120, !0),
                      f.setLanguage("english_10k", !0),
                      f.setPunctuation(!0, !0),
                      f.setStopOnError("word", !0),
                      f.setLayout("semimak", !0),
                      f.setKeymapLayout("overrideSync", !0),
                      f.setKeymapMode("static", !0));
                return (
                  l.set(),
                  (n = o.message),
                  $("#top .config").removeClass("hidden"),
                  $(".page.pageTest").removeClass("hidden"),
                  void 0 === n
                    ? u.add(`Challenge '${o.display}' loaded.`, 0)
                    : u.add("Challenge loaded. " + n, 0),
                  g.setActiveChallenge(o),
                  (y = !1),
                  !0
                );
              } catch (e) {
                return u.add("Something went wrong: " + e, -1), !1;
              }
            });
          }),
          m.subscribe((e) => {
            [
              "difficulty",
              "numbers",
              "punctuation",
              "mode",
              "funbox",
              "paceCaret",
              "showAllLines",
              "showLiveWpm",
              "highlightMode",
              "time",
              "words",
              "keymapMode",
              "keymapLayout",
              "layout",
            ].includes(e) && b();
          });
      },
      1833: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateAllChartColors =
            t.setDefaultFontFamily =
            t.updateColors =
            t.miniResult =
            t.globalSpeedHistogram =
            t.accountHistogram =
            t.accountActivity =
            t.accountHistory =
            t.accountHistoryActiveIndex =
            t.result =
              void 0);
        const u = o(3328),
          l = r(o(6679)),
          d = r(o(2341));
        u.Chart.register(
          u.BarController,
          u.BarElement,
          u.CategoryScale,
          u.Filler,
          u.LinearScale,
          u.LineController,
          u.LineElement,
          u.PointElement,
          u.ScatterController,
          u.TimeScale,
          u.TimeSeriesScale,
          u.Tooltip,
          l.default,
          d.default
        ),
          (u.Chart.defaults.animation.duration = 0),
          (u.Chart.defaults.elements.line.tension = 0.3),
          (u.Chart.defaults.elements.line.fill = "origin");
        const c = i(o(4897)),
          p = i(o(4203)),
          f = i(o(3388)),
          h = r(o(6705)),
          m = i(o(1446)),
          g = r(o(9546));
        o(6980);
        class v extends u.Chart {
          constructor(e, t) {
            super(e, t);
          }
          updateColors() {
            y(this);
          }
        }
        function y(e) {
          return s(this, void 0, void 0, function* () {
            const t = yield p.get("bg"),
              o = yield p.get("sub"),
              n = yield p.get("main"),
              a = yield p.get("error"),
              i = yield p.get("text");
            if (e.data.datasets.every((e) => 0 === e.data.length)) return;
            (e.data.datasets[0].borderColor = (e) => {
              var t;
              return (null === (t = e.raw) || void 0 === t ? void 0 : t.isPb)
                ? i
                : n;
            }),
              e.data.datasets[1] && (e.data.datasets[1].borderColor = o),
              e.data.datasets[2] && (e.data.datasets[2].borderColor = a),
              void 0 === e.data.datasets[0].type
                ? "line" === e.config.type
                  ? (e.data.datasets[0].pointBackgroundColor = (e) => {
                      var t;
                      return (
                        null === (t = e.raw) || void 0 === t ? void 0 : t.isPb
                      )
                        ? i
                        : n;
                    })
                  : "bar" === e.config.type &&
                    (e.data.datasets[0].backgroundColor = n)
                : "bar" === e.data.datasets[0].type
                ? (e.data.datasets[0].backgroundColor = n)
                : "line" === e.data.datasets[0].type &&
                  (e.data.datasets[0].pointBackgroundColor = n),
              e.data.datasets[1] &&
                (void 0 === e.data.datasets[1].type
                  ? "line" === e.config.type
                    ? (e.data.datasets[1].pointBackgroundColor = o)
                    : "bar" === e.config.type &&
                      (e.data.datasets[1].backgroundColor = o)
                  : "bar" === e.data.datasets[1].type
                  ? (e.data.datasets[1].backgroundColor = o)
                  : "line" === e.data.datasets[1].type &&
                    (e.data.datasets[1].pointBackgroundColor = o));
            const s = e.options;
            Object.keys(s.scales).forEach((e) => {
              const t = s.scales[e];
              (t.ticks.color = o), (t.title.color = o);
            });
            try {
              (e.data.datasets[0].trendlineLinear.style = o),
                (e.data.datasets[1].trendlineLinear.style = o);
            } catch (e) {}
            e.options.plugins.annotation.annotations.forEach((e) => {
              "funbox-label" !== e.id && (e.borderColor = o),
                (e.label.backgroundColor = o),
                (e.label.color = t);
            }),
              e.update("none");
          });
        }
        function b(e) {
          u.Chart.defaults.font.family = e.replace(/_/g, " ");
        }
        (t.result = new v($("#wpmChart"), {
          type: "line",
          data: {
            labels: [],
            datasets: [
              {
                clip: !1,
                label: "wpm",
                data: [],
                borderColor: "rgba(125, 125, 125, 1)",
                borderWidth: 2,
                yAxisID: "wpm",
                order: 2,
                pointRadius: 2,
              },
              {
                clip: !1,
                label: "raw",
                data: [],
                borderColor: "rgba(125, 125, 125, 1)",
                borderWidth: 2,
                yAxisID: "raw",
                order: 3,
                pointRadius: 2,
              },
              {
                clip: !1,
                label: "errors",
                data: [],
                borderColor: "rgba(255, 125, 125, 1)",
                pointBackgroundColor: "rgba(255, 125, 125, 1)",
                borderWidth: 2,
                order: 1,
                yAxisID: "error",
                type: "scatter",
                pointStyle: "crossRot",
                pointRadius: function (e) {
                  const t = e.dataIndex,
                    o = e.dataset.data[t];
                  return (null != o ? o : 0) <= 0 ? 0 : 3;
                },
                pointHoverRadius: function (e) {
                  const t = e.dataIndex,
                    o = e.dataset.data[t];
                  return (null != o ? o : 0) <= 0 ? 0 : 5;
                },
              },
            ],
          },
          options: {
            responsive: !0,
            maintainAspectRatio: !1,
            scales: {
              x: {
                axis: "x",
                ticks: { autoSkip: !0, autoSkipPadding: 20 },
                display: !0,
                title: { display: !1, text: "Seconds" },
              },
              wpm: {
                axis: "y",
                display: !0,
                title: { display: !0, text: "Words per Minute" },
                beginAtZero: !0,
                min: 0,
                ticks: { autoSkip: !0, autoSkipPadding: 20 },
                grid: { display: !0 },
              },
              raw: {
                axis: "y",
                display: !1,
                title: { display: !0, text: "Raw Words per Minute" },
                beginAtZero: !0,
                min: 0,
                ticks: { autoSkip: !0, autoSkipPadding: 20 },
                grid: { display: !1 },
              },
              error: {
                axis: "y",
                display: !0,
                position: "right",
                title: { display: !0, text: "Errors" },
                beginAtZero: !0,
                ticks: { precision: 0, autoSkip: !0, autoSkipPadding: 20 },
                grid: { display: !1 },
              },
            },
            plugins: {
              annotation: { annotations: [] },
              tooltip: {
                animation: { duration: 250 },
                mode: "index",
                intersect: !1,
                callbacks: {
                  afterLabel: function (e) {
                    try {
                      $(".wordInputAfter").remove();
                      const t =
                        c.keypressPerSecond[parseInt(e.label) - 1].words;
                      [...new Set(t)].forEach((e) => {
                        const t = $($("#resultWordsHistory .words .word")[e]),
                          o = t.attr("input");
                        null != o &&
                          t.append(
                            `<div class="wordInputAfter">${o
                              .replace(/\t/g, "_")
                              .replace(/\n/g, "_")
                              .replace(/</g, "&lt")
                              .replace(/>/g, "&gt")}</div>`
                          );
                      });
                    } catch (e) {}
                    return "";
                  },
                },
              },
            },
          },
        })),
          (t.accountHistory = new v($(".pageAccount #accountHistoryChart"), {
            type: "line",
            data: {
              labels: [],
              datasets: [
                {
                  yAxisID: "wpm",
                  label: "wpm",
                  fill: !1,
                  data: [],
                  borderColor: "#f44336",
                  borderWidth: 2,
                  trendlineLinear: {
                    style: "rgba(255,105,180, .8)",
                    lineStyle: "dotted",
                    width: 4,
                  },
                },
                {
                  yAxisID: "acc",
                  label: "acc",
                  fill: !1,
                  data: [],
                  borderColor: "#cccccc",
                  borderWidth: 2,
                },
              ],
            },
            options: {
              responsive: !0,
              maintainAspectRatio: !1,
              hover: { mode: "nearest", intersect: !1 },
              scales: {
                x: {
                  axis: "x",
                  type: "timeseries",
                  bounds: "ticks",
                  display: !1,
                  offset: !0,
                  title: { display: !1, text: "Date" },
                },
                wpm: {
                  axis: "y",
                  beginAtZero: !0,
                  min: 0,
                  ticks: { stepSize: 10 },
                  display: !0,
                  title: { display: !0, text: "Words per Minute" },
                  position: "right",
                },
                acc: {
                  axis: "y",
                  beginAtZero: !0,
                  max: 100,
                  display: !0,
                  position: "left",
                  title: { display: !0, text: "Error rate (100 - accuracy)" },
                  grid: { display: !1 },
                },
              },
              plugins: {
                annotation: { annotations: [] },
                tooltip: {
                  animation: { duration: 250 },
                  enabled: !0,
                  intersect: !1,
                  external: function (e) {
                    e && (e.tooltip.options.displayColors = !1);
                  },
                  callbacks: {
                    title: function () {
                      return "";
                    },
                    beforeLabel: function (e) {
                      if (0 !== e.datasetIndex) {
                        const t = e.dataset.data[e.dataIndex];
                        return `error rate: ${f.roundTo2(
                          t.errorRate
                        )}%\nacc: ${f.roundTo2(100 - t.errorRate)}%`;
                      }
                      const t = e.dataset.data[e.dataIndex];
                      let o = `${h.default.alwaysShowCPM ? "cpm" : "wpm"}: ${
                        t.wpm
                      }\nraw: ${t.raw}\nacc: ${t.acc}\n\nmode: ${t.mode} `;
                      ("time" == t.mode || "words" == t.mode) && (o += t.mode2);
                      let n = t.difficulty;
                      return (
                        null == n && (n = "normal"),
                        (o += `\ndifficulty: ${n}`),
                        (o +=
                          `\npunctuation: ${t.punctuation}\nlanguage: ${t.language}` +
                          (t.isPb ? "\n\nnew personal best" : "") +
                          "\n\n" +
                          `date: ${(0, g.default)(
                            new Date(t.timestamp),
                            "dd MMM yyyy HH:mm"
                          )}`),
                        o
                      );
                    },
                    label: function () {
                      return "";
                    },
                    afterLabel: function (e) {
                      return (t.accountHistoryActiveIndex = e.dataIndex), "";
                    },
                  },
                },
              },
            },
          })),
          (t.accountActivity = new v($(".pageAccount #accountActivityChart"), {
            type: "bar",
            data: {
              labels: [],
              datasets: [
                {
                  yAxisID: "count",
                  label: "Seconds",
                  data: [],
                  trendlineLinear: {
                    style: "rgba(255,105,180, .8)",
                    lineStyle: "dotted",
                    width: 2,
                  },
                  order: 3,
                },
                {
                  yAxisID: "avgWpm",
                  label: "Average Wpm",
                  data: [],
                  type: "line",
                  order: 2,
                  tension: 0,
                  fill: !1,
                },
              ],
            },
            options: {
              responsive: !0,
              maintainAspectRatio: !1,
              hover: { mode: "nearest", intersect: !1 },
              scales: {
                x: {
                  axis: "x",
                  ticks: { autoSkip: !0, autoSkipPadding: 20 },
                  type: "time",
                  time: { unit: "day", displayFormats: { day: "d MMM" } },
                  bounds: "ticks",
                  display: !0,
                  title: { display: !1, text: "Date" },
                  offset: !0,
                },
                count: {
                  axis: "y",
                  beginAtZero: !0,
                  min: 0,
                  ticks: { autoSkip: !0, autoSkipPadding: 20, stepSize: 10 },
                  display: !0,
                  title: { display: !0, text: "Time Typing" },
                },
                avgWpm: {
                  axis: "y",
                  beginAtZero: !0,
                  min: 0,
                  ticks: { autoSkip: !0, autoSkipPadding: 20, stepSize: 10 },
                  display: !0,
                  position: "right",
                  title: { display: !0, text: "Average Wpm" },
                  grid: { display: !1 },
                },
              },
              plugins: {
                annotation: { annotations: [] },
                tooltip: {
                  animation: { duration: 250 },
                  intersect: !1,
                  mode: "index",
                  callbacks: {
                    title: function (e) {
                      const t = e[0].dataset.data[e[0].dataIndex];
                      return (0, g.default)(new Date(t.x), "dd MMM yyyy");
                    },
                    beforeLabel: function (e) {
                      const t = e.dataset.data[e.dataIndex];
                      switch (e.datasetIndex) {
                        case 0:
                          return `Time Typing: ${f.secondsToString(
                            Math.round(t.y),
                            !0,
                            !0
                          )}\nTests Completed: ${t.amount}`;
                        case 1:
                          return `Average ${
                            h.default.alwaysShowCPM ? "Cpm" : "Wpm"
                          }: ${f.roundTo2(t.y)}`;
                        default:
                          return "";
                      }
                    },
                    label: function () {
                      return "";
                    },
                  },
                },
              },
            },
          })),
          (t.accountHistogram = new v(
            $(".pageAccount #accountHistogramChart"),
            {
              type: "bar",
              data: {
                labels: [],
                datasets: [{ yAxisID: "count", label: "Tests", data: [] }],
              },
              options: {
                responsive: !0,
                maintainAspectRatio: !1,
                hover: { mode: "nearest", intersect: !1 },
                scales: {
                  x: {
                    axis: "x",
                    bounds: "ticks",
                    display: !0,
                    title: { display: !1, text: "Bucket" },
                    offset: !0,
                  },
                  count: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: { autoSkip: !0, autoSkipPadding: 20, stepSize: 10 },
                    display: !0,
                    title: { display: !0, text: "Tests" },
                  },
                },
                plugins: {
                  annotation: { annotations: [] },
                  tooltip: {
                    animation: { duration: 250 },
                    intersect: !1,
                    mode: "index",
                  },
                },
              },
            }
          )),
          (t.globalSpeedHistogram = new v(
            $(".pageAbout #publicStatsHistogramChart"),
            {
              type: "bar",
              data: {
                labels: [],
                datasets: [{ yAxisID: "count", label: "Users", data: [] }],
              },
              options: {
                responsive: !0,
                maintainAspectRatio: !1,
                hover: { mode: "nearest", intersect: !1 },
                scales: {
                  x: {
                    axis: "x",
                    bounds: "ticks",
                    display: !0,
                    title: { display: !1, text: "Bucket" },
                    offset: !0,
                  },
                  count: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: { autoSkip: !0, autoSkipPadding: 20, stepSize: 10 },
                    display: !0,
                    title: { display: !0, text: "Users" },
                  },
                },
                plugins: {
                  annotation: { annotations: [] },
                  tooltip: {
                    animation: { duration: 250 },
                    intersect: !1,
                    mode: "index",
                  },
                },
              },
            }
          )),
          (t.miniResult = new v($(".pageAccount #miniResultChart"), {
            type: "line",
            data: {
              labels: [],
              datasets: [
                {
                  label: "wpm",
                  data: [],
                  borderColor: "rgba(125, 125, 125, 1)",
                  borderWidth: 2,
                  yAxisID: "wpm",
                  order: 2,
                  pointRadius: 2,
                },
                {
                  label: "raw",
                  data: [],
                  borderColor: "rgba(125, 125, 125, 1)",
                  borderWidth: 2,
                  yAxisID: "raw",
                  order: 3,
                  pointRadius: 2,
                },
                {
                  label: "errors",
                  data: [],
                  borderColor: "rgba(255, 125, 125, 1)",
                  pointBackgroundColor: "rgba(255, 125, 125, 1)",
                  borderWidth: 2,
                  order: 1,
                  yAxisID: "error",
                  type: "scatter",
                  pointStyle: "crossRot",
                  pointRadius: function (e) {
                    const t = e.dataIndex,
                      o = e.dataset.data[t];
                    return (null != o ? o : 0) <= 0 ? 0 : 3;
                  },
                  pointHoverRadius: function (e) {
                    const t = e.dataIndex,
                      o = e.dataset.data[t];
                    return (null != o ? o : 0) <= 0 ? 0 : 5;
                  },
                },
              ],
            },
            options: {
              responsive: !0,
              maintainAspectRatio: !1,
              scales: {
                x: {
                  axis: "x",
                  ticks: { autoSkip: !0, autoSkipPadding: 20 },
                  display: !0,
                  title: { display: !1, text: "Seconds" },
                },
                wpm: {
                  axis: "y",
                  display: !0,
                  title: { display: !0, text: "Words per Minute" },
                  beginAtZero: !0,
                  min: 0,
                  ticks: { autoSkip: !0, autoSkipPadding: 20 },
                  grid: { display: !0 },
                },
                raw: {
                  axis: "y",
                  display: !1,
                  title: { display: !0, text: "Raw Words per Minute" },
                  beginAtZero: !0,
                  min: 0,
                  ticks: { autoSkip: !0, autoSkipPadding: 20 },
                  grid: { display: !1 },
                },
                error: {
                  display: !0,
                  position: "right",
                  title: { display: !0, text: "Errors" },
                  beginAtZero: !0,
                  ticks: { precision: 0, autoSkip: !0, autoSkipPadding: 20 },
                  grid: { display: !1 },
                },
              },
              plugins: {
                annotation: { annotations: [] },
                tooltip: {
                  animation: { duration: 250 },
                  mode: "index",
                  intersect: !1,
                },
              },
            },
          })),
          (t.updateColors = y),
          (t.setDefaultFontFamily = b),
          (t.updateAllChartColors = function () {
            p.update(),
              t.accountHistory.updateColors(),
              t.globalSpeedHistogram.updateColors(),
              t.result.updateColors(),
              t.accountActivity.updateColors(),
              t.miniResult.updateColors();
          }),
          m.subscribe((e, o) => {
            "chartAccuracy" === e &&
              ((t.accountHistory.data.datasets[1].hidden =
                !h.default.chartAccuracy),
              (t.accountHistory.options.scales.acc.display =
                h.default.chartAccuracy),
              t.accountHistory.update()),
              "chartStyle" === e &&
                ("scatter" == h.default.chartStyle
                  ? ((t.accountHistory.data.datasets[0].showLine = !1),
                    (t.accountHistory.data.datasets[1].showLine = !1))
                  : ((t.accountHistory.data.datasets[0].showLine = !0),
                    (t.accountHistory.data.datasets[1].showLine = !0)),
                t.accountHistory.updateColors()),
              "fontFamily" === e && b(o);
          });
      },
      8553: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const r = i(o(3013)),
          u = i(o(8673)),
          l = i(o(2474)),
          d = i(o(7353)),
          c = i(o(6705)),
          p = c,
          f = i(o(2148)),
          h = i(o(3388)),
          m = i(o(2331)),
          g = i(o(8700)),
          v = i(o(8059)),
          y = i(o(5929)),
          b = i(o(4292)),
          w = i(o(2203)),
          C = i(o(3368)),
          _ = i(o(8248)),
          S = i(o(8835)),
          P = i(o(4583)),
          x = i(o(5886)),
          k = i(o(8824)),
          T = i(o(8911)),
          O = i(o(5578)),
          M = i(o(4626)),
          A = i(o(6578)),
          j = i(o(5708)),
          L = i(o(7346)),
          W = i(o(6443)),
          B = i(o(8526)),
          E = i(o(4897)),
          I = i(o(9470)),
          D = i(o(6943)),
          R = i(o(7717)),
          F = o(2428);
        let q,
          V = !1,
          K = !0,
          H = !1;
        const N = document.getElementById("wordsInput"),
          z = document.getElementById("koInputVisual");
        function U(e) {
          e !== N.value && (N.value = e);
        }
        function Q() {
          var e;
          const t = h.roundTo2(l.calculateAccuracy());
          if (
            (isNaN(t) || m.update(t),
            "next" === c.default.keymapMode && "zen" !== c.default.mode)
          )
            if (c.default.language.startsWith("korean")) {
              const t = D.disassemble(I.words.getCurrent(), !0),
                o = D.disassemble(E.input.current, !0),
                n = o.length - 1;
              if (o[n]) {
                const a = o[n].length;
                try {
                  const i =
                    null !== (e = t[n][a]) && void 0 !== e
                      ? e
                      : t[o.length][a - t[n].length];
                  f.highlightKey(i);
                } catch (e) {
                  f.highlightKey("");
                }
              } else f.highlightKey(t[0][0]);
            } else
              f.highlightKey(
                I.words.getCurrent().charAt(E.input.current.length).toString()
              );
        }
        function G() {
          W.get() &&
            0 !== E.input.history.length &&
            0 !== u.currentWordElementIndex &&
            ((E.input.history[I.words.currentIndex - 1] ==
              I.words.get(I.words.currentIndex - 1) &&
              !c.default.freedomMode) ||
              $($(".word")[I.words.currentIndex - 1]).hasClass("hidden") ||
              ("on" !== c.default.confidenceMode &&
                "max" !== c.default.confidenceMode &&
                ((E.input.current = E.input.popHistory()),
                E.corrected.popHistory(),
                ("nospace" !== c.default.funbox &&
                  "arrows" !== c.default.funbox) ||
                  ((E.input.current = E.input.current.slice(0, -1)),
                  U(" " + E.input.current + " ")),
                I.words.decreaseCurrentIndex(),
                u.setCurrentWordElementIndex(u.currentWordElementIndex - 1),
                u.updateActiveElement(!0),
                v.toggleScript(I.words.getCurrent()),
                u.updateWordElement(),
                b.updatePosition(),
                M.addReplayEvent("backWord"))));
        }
        function J() {
          var e;
          if (!W.get()) return;
          if ("" === E.input.current) return;
          "zen" == c.default.mode &&
            ($("#words .word.active").removeClass("active"),
            $("#words").append("<div class='word active'></div>"));
          const t = I.words.getCurrent();
          if ("layoutfluid" === c.default.funbox && "time" !== c.default.mode) {
            const t = c.default.customLayoutfluid
              ? c.default.customLayoutfluid.split("#")
              : ["qwerty", "dvorak", "colemak"];
            let o = 0;
            const n = I.words.length;
            (o = Math.floor((E.input.history.length + 1) / (n / t.length))),
              c.default.layout !== t[o] &&
                void 0 !== t[o] &&
                C.add(`--- !!! ${t[o]} !!! ---`, 0),
              p.setLayout(t[o]),
              p.setKeymapLayout(t[o]),
              f.highlightKey(
                I.words.getCurrent().charAt(E.input.current.length).toString()
              ),
              null === (e = S.groups.layout) || void 0 === e || e.updateInput();
          }
          V = !0;
          const o = l.calculateBurst();
          g.update(Math.round(o)), E.pushBurstToHistory(o);
          const n = t === E.input.current || "zen" == c.default.mode;
          if ((A.addPower(n, !0), E.incrementAccuracy(n), n))
            x.handleSpace(!0, t),
              E.input.pushHistory(),
              I.words.increaseCurrentIndex(),
              u.setCurrentWordElementIndex(u.currentWordElementIndex + 1),
              u.updateActiveElement(),
              v.toggleScript(I.words.getCurrent()),
              b.updatePosition(),
              E.incrementKeypressCount(),
              E.pushKeypressWord(I.words.currentIndex),
              "nospace" !== c.default.funbox &&
                "arrows" !== c.default.funbox &&
                y.playClick(),
              M.addReplayEvent("submitCorrectWord");
          else {
            "nospace" !== c.default.funbox &&
              "arrows" !== c.default.funbox &&
              (!c.default.playSoundOnError || c.default.blindMode
                ? y.playClick()
                : y.playError()),
              E.pushMissedWord(I.words.getCurrent()),
              E.incrementKeypressErrors();
            const e = E.input.current.length;
            if (
              (e <= I.words.getCurrent().length &&
                (e >= E.corrected.current.length
                  ? (E.corrected.current += "_")
                  : (E.corrected.current =
                      E.corrected.current.substring(0, e) +
                      "_" +
                      E.corrected.current.substring(e + 1))),
              "off" != c.default.stopOnError)
            )
              return "expert" == c.default.difficulty ||
                "master" == c.default.difficulty
                ? void r.fail("difficulty")
                : void (
                    "word" == c.default.stopOnError &&
                    ((V = !1),
                    M.addReplayEvent("incorrectLetter", "_"),
                    u.updateWordElement(!0),
                    b.updatePosition())
                  );
            if (
              (x.handleSpace(!1, t),
              c.default.blindMode &&
                "off" !== c.default.highlightMode &&
                $("#words .word.active letter").addClass("correct"),
              E.input.pushHistory(),
              u.highlightBadWord(
                u.currentWordElementIndex,
                !c.default.blindMode
              ),
              I.words.increaseCurrentIndex(),
              u.setCurrentWordElementIndex(u.currentWordElementIndex + 1),
              u.updateActiveElement(),
              v.toggleScript(I.words.getCurrent()),
              b.updatePosition(),
              E.incrementKeypressCount(),
              E.pushKeypressWord(I.words.currentIndex),
              E.updateLastKeypress(),
              "expert" == c.default.difficulty ||
                "master" == c.default.difficulty)
            )
              return void r.fail("difficulty");
            if (I.words.currentIndex === I.words.length) return void r.finish();
            M.addReplayEvent("submitErrorWord");
          }
          let a;
          a =
            "zen" === c.default.mode
              ? E.input.current.length
              : I.words.getCurrent().length;
          const i = h.whorf(c.default.minBurstCustomSpeed, a);
          if (
            ("fixed" === c.default.minBurst &&
              o < c.default.minBurstCustomSpeed) ||
            ("flex" === c.default.minBurst && o < i)
          )
            r.fail("min burst");
          else {
            if (
              (E.corrected.pushHistory(),
              !c.default.showAllLines ||
                "time" == c.default.mode ||
                (_.isWordRandom && 0 === _.word) ||
                _.isTimeRandom)
            ) {
              const e = Math.floor(
                document.querySelectorAll("#words .word")[
                  u.currentWordElementIndex - 1
                ].offsetTop
              );
              let t;
              try {
                t = Math.floor(
                  document.querySelectorAll("#words .word")[
                    u.currentWordElementIndex
                  ].offsetTop
                );
              } catch (e) {
                t = 0;
              }
              t > e && u.lineJump(e);
            }
            "react" === c.default.keymapMode && f.flashKey(" ", !0),
              ("words" !== c.default.mode &&
                "custom" !== c.default.mode &&
                "quote" !== c.default.mode &&
                "zen" !== c.default.mode) ||
                k.update(),
              ("time" != c.default.mode &&
                "words" != c.default.mode &&
                "custom" != c.default.mode &&
                "quote" != c.default.mode) ||
                r.addWord();
          }
        }
        function Y(e, t, o) {
          var n, a, i, s;
          if (u.resultCalculating || u.resultVisible) return;
          const l = E.input.getKoreanStatus();
          if ("" === e) {
            for (let e = 0; e < 3; e++) Y(".", t + e);
            return;
          }
          if (
            ("\n" === e && "58008" === c.default.funbox && (e = " "),
            "\n" !== e && "\t" !== e && /\s/.test(e))
          ) {
            if ("nospace" === c.default.funbox || "arrows" === c.default.funbox)
              return;
            if (
              (J(),
              !(
                "normal" !== c.default.difficulty ||
                (c.default.strictSpace && "zen" !== c.default.mode) ||
                "word" === c.default.stopOnError
              ))
            )
              return;
            if (V) return void (V = !1);
          }
          if (
            "zen" !== c.default.mode &&
            "\n" !== I.words.getCurrent()[t] &&
            "\n" === e
          )
            return;
          if (!W.get() && !r.startTest()) return;
          T.set(!0), b.stopAnimation();
          const d = (function (e, t) {
            if (!K) return !1;
            if ("zen" == c.default.mode) return !0;
            if (E.input.getKoreanStatus())
              return D.disassemble(I.words.getCurrent())[t] === e;
            const o = I.words.getCurrent()[t];
            if (o === e) return !0;
            if (c.default.language.startsWith("russian")) {
              if (("" === e || "e" === e) && "" === o) return !0;
              if ("" === e && ("" === o || "e" === o)) return !0;
            }
            if ("arrows" === c.default.funbox) {
              if (("w" === e || "ArrowUp" === e) && "" === o) return !0;
              if (("s" === e || "ArrowDown" === e) && "" === o) return !0;
              if (("a" === e || "ArrowLeft" === e) && "" === o) return !0;
              if (("d" === e || "ArrowRight" === e) && "" === o) return !0;
            }
            return (
              !(
                ("" !== e && "" !== e && "'" !== e) ||
                ("" !== o && "" !== o && "'" !== o)
              ) ||
              !(
                ('"' !== e && "" !== e && "" != e && "" !== e) ||
                ('"' !== o && "" !== o && "" !== o && "" !== o)
              ) ||
              !(
                ("" !== e && "" !== e && "-" !== e) ||
                ("-" !== o && "" !== o && "" !== o)
              )
            );
          })(e, t);
          let p;
          if (
            (d &&
              "zen" !== c.default.mode &&
              (e = l
                ? D.disassemble(I.words.getCurrent())[t]
                : I.words.getCurrent().charAt(t)),
            !d && "\n" === e)
          ) {
            if ("" === E.input.current) return;
            e = " ";
          }
          if (
            ("" === E.input.current && E.setBurstStart(performance.now()),
            l || c.default.language.startsWith("korean")
              ? ((p = (null != o ? o : "").slice(1)),
                (z.innerText = p.slice(-1)))
              : (p =
                  E.input.current.substring(0, t) +
                  e +
                  E.input.current.substring(t + 1)),
            !d && B.getComposing() && !c.default.language.startsWith("korean"))
          )
            return (
              (E.input.current = p),
              u.updateWordElement(),
              void b.updatePosition()
            );
          if (
            (A.addPower(d),
            E.incrementAccuracy(d),
            d ||
              (E.incrementKeypressErrors(),
              E.pushMissedWord(I.words.getCurrent())),
            j.updateScore(
              "zen" === c.default.mode ? e : I.words.getCurrent()[t],
              d
            ),
            d || !c.default.playSoundOnError || c.default.blindMode
              ? y.playClick()
              : y.playError(),
            "react" === c.default.keymapMode && f.flashKey(e, d),
            !K && "master" != c.default.difficulty)
          )
            return;
          if (
            ("" === E.corrected.current
              ? (E.corrected.current += l ? D.disassemble(p).join("") : p)
              : t >=
                (l
                  ? D.disassemble(E.corrected.current).length
                  : E.corrected.current.length)
              ? (E.corrected.current += l ? D.disassemble(e).concat() : e)
              : d ||
                (E.corrected.current =
                  E.corrected.current.substring(0, t) +
                  e +
                  E.corrected.current.substring(t + 1)),
            E.incrementKeypressCount(),
            E.updateLastKeypress(),
            E.pushKeypressWord(I.words.currentIndex),
            "master" !== c.default.difficulty &&
              "letter" == c.default.stopOnError &&
              !d)
          )
            return;
          if (
            (M.addReplayEvent(d ? "correctLetter" : "incorrectLetter", e),
            1 ===
              (l
                ? D.disassemble(E.input.current).length
                : E.input.current.length) &&
              0 === I.words.currentIndex &&
              u.setActiveWordTop(
                null === (n = document.querySelector("#words .active")) ||
                  void 0 === n
                  ? void 0
                  : n.offsetTop
              ),
            (("zen" === c.default.mode && t < 30) ||
              ("zen" !== c.default.mode &&
                t < I.words.getCurrent().length + 20)) &&
              (E.input.current = p),
            !d && "master" == c.default.difficulty)
          )
            return (
              E.input.pushHistory(),
              E.corrected.pushHistory(),
              void r.fail("difficulty")
            );
          if ("zen" != c.default.mode) {
            const e = I.words.getCurrent(),
              t = I.words.currentIndex;
            if (
              (e === E.input.current ||
                (c.default.quickEnd &&
                  !c.default.language.startsWith("korean") &&
                  e.length === E.input.current.length &&
                  "off" == c.default.stopOnError)) &&
              t === I.words.length - 1
            )
              return (
                E.input.pushHistory(),
                E.corrected.pushHistory(),
                void r.finish()
              );
          }
          const h =
            null === (a = document.querySelector("#words .word.active")) ||
            void 0 === a
              ? void 0
              : a.offsetTop;
          if (
            (u.updateWordElement(),
            !c.default.hideExtraLetters &&
              h <
                (null === (i = document.querySelector("#words .word.active")) ||
                void 0 === i
                  ? void 0
                  : i.offsetTop) &&
              !u.lineTransition &&
              E.input.current.length > 1)
          )
            if ("zen" == c.default.mode) {
              const e = Math.floor(
                null ===
                  (s =
                    document.querySelectorAll("#words .word")[
                      u.currentWordElementIndex - 1
                    ]) || void 0 === s
                  ? void 0
                  : s.offsetTop
              );
              c.default.showAllLines || u.lineJump(e);
            } else
              (E.input.current = E.input.current.slice(0, -1)),
                u.updateWordElement();
          ((("nospace" === c.default.funbox || "arrows" === c.default.funbox) &&
            E.input.current.length === I.words.getCurrent().length) ||
            ("\n" === e && d)) &&
            J(),
            "\n" !== e && b.updatePosition();
        }
        $(document).keydown((e) =>
          s(void 0, void 0, void 0, function* () {
            var t, o;
            if ("loading" == L.get()) return;
            const n = $("#wordsInput").is(":focus"),
              a = "test" === L.get(),
              i = !$("#commandLineWrapper").hasClass("hidden"),
              s = !$("#leaderboardsWrapper").hasClass("hidden"),
              l = h.isAnyPopupVisible(),
              p =
                a &&
                !i &&
                !s &&
                !l &&
                !u.resultVisible &&
                (n || "Enter" !== e.key);
            if (
              (p &&
                !n &&
                "Enter" !== e.key &&
                (u.focusWords(),
                c.default.showOutOfFocusWarning && e.preventDefault()),
              "Tab" == e.key &&
                (function (e, t) {
                  if (u.resultCalculating) return void e.preventDefault();
                  if ($("#customTextPopup .textarea").is(":focus")) {
                    e.preventDefault();
                    const t = $("#customTextPopup .textarea")[0],
                      o = t.selectionStart,
                      n = t.selectionEnd;
                    return (
                      (t.value =
                        t.value.substring(0, o) + "\t" + t.value.substring(n)),
                      void (t.selectionStart = t.selectionEnd = o + 1)
                    );
                  }
                  let o = !1;
                  (("zen" == c.default.mode && !e.shiftKey) ||
                    (I.hasTab && !e.shiftKey)) &&
                    (o = !0);
                  const n = !$("#commandLineWrapper").hasClass("hidden") || t;
                  if ("esc" === c.default.quickRestart) {
                    if (n) return;
                    if ("login" === L.get()) return;
                    e.preventDefault(),
                      !u.resultVisible &&
                        o &&
                        (Y("\t", E.input.current.length),
                        U(" " + E.input.current));
                  } else if ("tab" === c.default.quickRestart) {
                    if (n) return;
                    if ("login" === L.get()) return;
                    if ("test" !== L.get()) return void (0, F.navigate)("/");
                    if (
                      (e.shiftKey ? w.set() : w.reset(), !u.resultVisible && o)
                    )
                      return (
                        e.preventDefault(),
                        Y("\t", E.input.current.length),
                        void U(" " + E.input.current)
                      );
                    r.restart({ event: e });
                  } else {
                    if ("test" !== L.get()) return;
                    if (u.resultVisible) return;
                    if (o)
                      return (
                        e.preventDefault(),
                        Y("\t", E.input.current.length),
                        void U(" " + E.input.current)
                      );
                    e.preventDefault(),
                      $("#restartTestButton").trigger("focus");
                  }
                })(e, l),
              "Escape" === e.key && "esc" === c.default.quickRestart)
            ) {
              if (!$("#commandLineWrapper").hasClass("hidden") || l) return;
              if ("test" !== L.get()) return void (0, F.navigate)("/");
              e.shiftKey ? w.set() : w.reset(), r.restart({ event: e });
            }
            if (p)
              if (
                (null === (t = e.originalEvent) || void 0 === t
                  ? void 0
                  : t.isTrusted) &&
                !u.testRestarting
              ) {
                if (
                  (E.spacingDebug &&
                    console.log(
                      "spacing debug",
                      "keypress",
                      e.key,
                      "length",
                      E.keypressTimings.spacing.array.length
                    ),
                  E.recordKeypressSpacing(),
                  E.setKeypressDuration(performance.now()),
                  E.setKeypressNotAfk(),
                  "Backspace" === e.key &&
                    (y.playClick(),
                    /INPUT|SELECT|TEXTAREA/i.test(e.target.tagName) ||
                      e.preventDefault(),
                    "max" === c.default.confidenceMode))
                )
                  return void e.preventDefault();
                if ("arrows" !== c.default.funbox && /Arrow/i.test(e.key))
                  e.preventDefault();
                else {
                  if (
                    (d.type(),
                    "Backspace" === e.key &&
                      0 === E.input.current.length &&
                      (G(), E.input.current && U(" " + E.input.current + " ")),
                    "Enter" === e.key &&
                      (e.shiftKey
                        ? "zen" == c.default.mode
                          ? r.finish()
                          : h.canQuickRestart(
                              c.default.mode,
                              c.default.words,
                              c.default.time,
                              _,
                              null !== (o = R.isCustomTextLong()) &&
                                void 0 !== o &&
                                o
                            ) || (E.setBailout(!0), r.finish())
                        : (Y("\n", E.input.current.length),
                          U(" " + E.input.current))),
                    "Dead" === e.key && !B.getComposing())
                  ) {
                    y.playClick();
                    const e = document.querySelector("#words .word.active"),
                      t = E.input.current.length,
                      o = null == e ? void 0 : e.querySelectorAll("letter")[t];
                    o && o.classList.toggle("dead");
                  }
                  if (
                    ("off" !== c.default.oppositeShiftMode &&
                      (K = !1 !== (yield O.isUsingOppositeShift(e))),
                    "arrows" === c.default.funbox)
                  ) {
                    let t = e.key;
                    [
                      "ArrowLeft",
                      "ArrowUp",
                      "ArrowRight",
                      "ArrowDown",
                    ].includes(t) &&
                      ("ArrowLeft" === t && (t = "a"),
                      "ArrowRight" === t && (t = "d"),
                      "ArrowDown" === t && (t = "s"),
                      "ArrowUp" === t && (t = "w"),
                      e.preventDefault(),
                      Y(t, E.input.current.length),
                      Q(),
                      U(" " + E.input.current),
                      "off" !== c.default.tapeMode && u.scrollTape());
                  } else if (
                    "default" !== c.default.layout &&
                    !(
                      e.ctrlKey ||
                      (e.altKey &&
                        window.navigator.platform.search("Linux") > -1)
                    )
                  ) {
                    const t = yield P.getCharFromEvent(e);
                    null !== t &&
                      (e.preventDefault(),
                      Y(t, E.input.current.length),
                      Q(),
                      U(" " + E.input.current)),
                      "off" !== c.default.tapeMode && u.scrollTape();
                  }
                  q = "Backspace" === e.key || "delete" === e.key;
                }
              } else e.preventDefault();
          })
        ),
          $("#wordsInput").keyup((e) => {
            var t;
            if (
              !(null === (t = e.originalEvent) || void 0 === t
                ? void 0
                : t.isTrusted) ||
              u.testRestarting
            )
              return void e.preventDefault();
            if (u.resultVisible) return;
            const o = performance.now();
            if (-1 !== E.keypressTimings.duration.current) {
              const e = Math.abs(E.keypressTimings.duration.current - o);
              E.pushKeypressDuration(e);
            }
            E.setKeypressDuration(o), d.stop();
          }),
          $("#wordsInput").on("beforeinput", (e) => {
            var t;
            (null === (t = e.originalEvent) || void 0 === t
              ? void 0
              : t.isTrusted) &&
              "" === e.target.value &&
              (e.target.value = " ");
          }),
          $("#wordsInput").on("input", (e) => {
            var t;
            if (
              !(null === (t = e.originalEvent) || void 0 === t
                ? void 0
                : t.isTrusted) ||
              u.testRestarting
            )
              return void (e.target.value = " ");
            if (h.isAnyPopupVisible()) return;
            E.setKeypressNotAfk(),
              ("default" != c.default.layout && "korean" != c.default.layout) ||
                !e.target.value
                  .normalize()
                  .match(
                    /[\uac00-\ud7af]|[\u1100-\u11ff]|[\u3130-\u318f]|[\ua960-\ua97f]|[\ud7b0-\ud7ff]/g
                  ) ||
                E.input.setKoreanStatus(!0);
            const o = E.input.getKoreanStatus(),
              n = e.target.value.normalize(),
              a = o ? D.disassemble(n).join("").slice(1) : n.slice(1),
              i = o ? D.disassemble(E.input.current).join("") : E.input.current;
            if (
              o &&
              !q &&
              (H ||
                (n.slice(1).length < E.input.current.length &&
                  D.disassemble(E.input.current.slice(-1)).length > 1))
            )
              return void (H = !H);
            if ("default" !== c.default.layout && a.length >= i.length)
              return void U(" " + i);
            if (0 === n.length && 0 === i.length) G();
            else if (a.length < i.length) {
              if (o) {
                const t = e.target.value.normalize().slice(1);
                (E.input.current = t), (z.innerText = t.slice(-1));
              } else E.input.current = a;
              u.updateWordElement(),
                b.updatePosition(),
                B.getComposing() ||
                  M.addReplayEvent("setLetterIndex", i.length);
            } else if (a !== i) {
              let e = 0;
              for (; a[e] === i[e]; ) e++;
              for (let t = e; t < a.length; t++) Y(a[t], t, n);
            }
            U(" " + E.input.current),
              Q(),
              "off" !== c.default.tapeMode && u.scrollTape();
            const s = B.getComposing();
            setTimeout(() => {
              var t;
              const o = B.getComposing();
              s !== o && u.updateWordElement(),
                e.target.selectionStart !== e.target.value.length &&
                  (!h.trailingComposeChars.test(e.target.value) ||
                    (null !== (t = e.target.selectionStart) && void 0 !== t
                      ? t
                      : 0) < e.target.value.search(h.trailingComposeChars)) &&
                  (e.target.selectionStart = e.target.selectionEnd =
                    e.target.value.length);
            }, 0);
          }),
          $("#wordsInput").on("focus", (e) => {
            e.target.selectionStart = e.target.selectionEnd =
              e.target.value.length;
          }),
          $("#wordsInput").on("copy paste", (e) => {
            e.preventDefault();
          }),
          $("#wordsInput").on("compositionstart", () => {
            "default" === c.default.layout &&
              (B.setComposing(!0), B.setStartPos(E.input.current.length));
          }),
          $("#wordsInput").on("compositionend", () => {
            "default" === c.default.layout && B.setComposing(!1);
          });
      },
      9033: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.change = void 0);
        const r = i(o(3388)),
          u = i(o(7346)),
          l = i(o(8835)),
          d = i(o(7520)),
          c = i(o(9011)),
          p = i(o(5331)),
          f = i(o(2588)),
          h = i(o(4335)),
          m = i(o(4471)),
          g = i(o(8949)),
          v = i(o(5973)),
          y = i(o(5705)),
          b = i(o(1493)),
          w = i(o(8911));
        t.change = function (e, t = {}) {
          return s(this, void 0, void 0, function* () {
            return (
              (t = Object.assign(Object.assign({}, { force: !1 }), t)),
              new Promise((o) => {
                if (y.get())
                  return console.log(`change page ${e.name} stopped`), o(!1);
                if (
                  (console.log(`change page ${e.name}`),
                  !t.force && u.get() === e.name)
                )
                  return console.log(`page ${e.name} already active`), o(!1);
                const n = {
                    loading: h.page,
                    test: c.page,
                    settings: l.page,
                    about: p.page,
                    account: d.page,
                    login: f.page,
                    profile: m.page,
                    profileSearch: g.page,
                    404: v.page,
                  }[u.get()],
                  a = e;
                null == n || n.beforeHide(),
                  y.set(!0),
                  $(".page").removeClass("active"),
                  r.swapElements(
                    n.element,
                    a.element,
                    250,
                    () =>
                      s(this, void 0, void 0, function* () {
                        y.set(!1),
                          a.element.addClass("active"),
                          o(!0),
                          null == a || a.afterShow(),
                          b.reinstate();
                      }),
                    () =>
                      s(this, void 0, void 0, function* () {
                        w.set(!1),
                          u.set(a.name),
                          null == n || n.afterHide(),
                          yield null == a
                            ? void 0
                            : a.beforeShow({ params: t.params, data: t.data });
                      })
                  );
              })
            );
          });
        };
      },
      4984: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.apply = void 0);
        const s = i(o(6705)),
          r = i(o(6350)),
          u = i(o(3368)),
          l = i(o(3013)),
          d = i(o(9343));
        t.apply = function (e) {
          var t;
          const o = r.getSnapshot();
          o &&
            (null === (t = o.presets) ||
              void 0 === t ||
              t.forEach((t) => {
                t._id == e &&
                  (s.apply(t.config),
                  d.clear(!0),
                  t.config.tags &&
                    (t.config.tags.forEach((e) => {
                      d.set(e, !0, !1);
                    }),
                    d.saveActiveToLocalStorage()),
                  l.restart(),
                  u.add("Preset applied", 1, 2),
                  s.saveFullConfigToLocalStorage());
              }));
        };
      },
      6750: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const r = o(3388),
          u = o(1446),
          l = i(o(6350)),
          d = { quotes: [], length: 0, language: null, groups: [] };
        function c(e) {
          return e.replace(/_\d*k$/g, "");
        }
        const p = new (class {
          constructor() {
            (this.quoteCollection = d),
              (this.quoteQueue = []),
              (this.queueIndex = 0);
          }
          getQuotes(e, t) {
            return s(this, void 0, void 0, function* () {
              const o = c(e);
              if (this.quoteCollection.language !== o)
                try {
                  const e = yield $.getJSON(`quotes/${o}.json`);
                  if (void 0 === e.quotes || 0 === e.quotes.length) return d;
                  (this.quoteCollection = {
                    quotes: [],
                    length: e.quotes.length,
                    groups: [],
                    language: e.language,
                  }),
                    e.quotes.forEach((t) => {
                      const o = {
                        text: t.text,
                        source: t.source,
                        length: t.length,
                        id: t.id,
                        language: e.language,
                        group: 0,
                      };
                      this.quoteCollection.quotes.push(o);
                    }),
                    e.groups.forEach((e, t) => {
                      const o = e[0],
                        n = e[1];
                      this.quoteCollection.groups[t] =
                        this.quoteCollection.quotes.filter(
                          (e) =>
                            e.length >= o &&
                            e.length <= n &&
                            ((e.group = t), !0)
                        );
                    }),
                    void 0 !== t && this.updateQuoteQueue(t);
                } catch (e) {
                  return d;
                }
              return this.quoteCollection;
            });
          }
          getQuoteById(e) {
            return this.quoteCollection.quotes.find((t) => t.id === e);
          }
          updateQuoteQueue(e) {
            (this.quoteQueue = []),
              e.forEach((e) => {
                var t;
                e < 0 ||
                  null === (t = this.quoteCollection.groups[e]) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    this.quoteQueue.push(e);
                  });
              }),
              (0, r.shuffle)(this.quoteQueue),
              (this.queueIndex = 0);
          }
          getRandomQuote() {
            if (0 === this.quoteQueue.length) return null;
            this.queueIndex >= this.quoteQueue.length &&
              ((this.queueIndex = 0), (0, r.shuffle)(this.quoteQueue));
            const e = this.quoteQueue[this.queueIndex];
            return (this.queueIndex += 1), e;
          }
          getCurrentQuote() {
            return 0 === this.quoteQueue.length
              ? null
              : this.quoteQueue[this.queueIndex];
          }
          getRandomFavoriteQuote(e) {
            const t = l.getSnapshot();
            if (!t) return null;
            const o = c(e),
              n = [],
              { favoriteQuotes: a } = t;
            if (
              (Object.keys(a).forEach((e) => {
                c(e) === o && n.push(...a[e]);
              }),
              0 === n.length)
            )
              return null;
            const i = (0, r.randomElementFromArray)(n),
              s = this.getQuoteById(parseInt(i, 10));
            return null != s ? s : null;
          }
          isQuoteFavorite({ language: e, id: t }) {
            const o = l.getSnapshot();
            if (!o) return !1;
            const { favoriteQuotes: n } = o,
              a = c(e);
            return (
              void 0 !==
              Object.keys(n).find(
                (e) => a === c(e) && n[e].includes(t.toString())
              )
            );
          }
        })();
        (0, u.subscribe)((e, t) => {
          "quoteLength" === e && p.updateQuoteQueue(t);
        }),
          (t.default = p);
      },
      7193: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const r = i(o(9033)),
          u = i(o(9011)),
          l = i(o(5331)),
          d = i(o(8835)),
          c = i(o(7520)),
          p = i(o(2588)),
          f = i(o(5973)),
          h = i(o(4471)),
          m = i(o(8949)),
          g = i(o(41)),
          v = i(o(8673)),
          y = i(o(5705)),
          b = i(o(2428)),
          w = o(6617),
          C = [
            {
              path: "/",
              load: () => {
                r.change(u.page);
              },
            },
            {
              path: "/verify",
              load: () => {
                r.change(u.page);
              },
            },
            {
              path: "/about",
              load: () => {
                r.change(l.page);
              },
            },
            {
              path: "/settings",
              load: () => {
                r.change(d.page);
              },
            },
            {
              path: "/login",
              load: () => {
                w.Auth ? r.change(p.page) : _("/");
              },
            },
            {
              path: "/account",
              load: (e, t) => {
                w.Auth ? r.change(c.page, { data: t.data }) : _("/");
              },
            },
            {
              path: "/profile",
              load: (e) => {
                r.change(m.page);
              },
            },
            {
              path: "/profile/:uidOrName",
              load: (e, t) => {
                r.change(h.page, {
                  force: !0,
                  params: { uidOrName: e.uidOrName },
                  data: t.data,
                });
              },
            },
          ];
        function _(
          e = window.location.pathname + window.location.search,
          t = {}
        ) {
          v.testRestarting ||
            v.resultCalculating ||
            y.get() ||
            ("" === (e = e.replace(/\/$/, "")) && (e = "/"),
            history.pushState(null, "", e),
            S(t));
        }
        function S(e = {}) {
          return s(this, void 0, void 0, function* () {
            const t = C.map((e) => {
              return {
                route: e,
                result: location.pathname.match(
                  ((t = e.path),
                  new RegExp(
                    "^" + t.replace(/\//g, "\\/").replace(/:\w+/g, "(.+)") + "$"
                  ))
                ),
              };
              var t;
            }).find((e) => null !== e.result);
            t
              ? t.route.load(
                  (function (e) {
                    const t = e.result.slice(1),
                      o = Array.from(e.route.path.matchAll(/:(\w+)/g)).map(
                        (e) => e[1]
                      );
                    return Object.fromEntries(o.map((e, o) => [e, t[o]]));
                  })(t),
                  e
                )
              : r.change(f.page);
          });
        }
        window.addEventListener("popstate", () => {
          S();
        }),
          document.addEventListener("DOMContentLoaded", () => {
            document.body.addEventListener("click", (e) => {
              const t = null == e ? void 0 : e.target;
              t.matches("[router-link]") &&
                (null == t ? void 0 : t.href) &&
                (e.preventDefault(), _(t.href));
            });
          }),
          $("#top .logo").on("click", () => {
            _("/");
          }),
          $("#popups").on("click", "#leaderboards a.entryName", () => {
            g.hide();
          }),
          b.subscribe((e, t) => {
            _(e, t);
          });
      },
      5929: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setVolume =
            t.playError =
            t.playClick =
            t.playNote =
            t.previewClick =
            t.init =
            t.initErrorSound =
              void 0);
        const r = s(o(6705)),
          u = i(o(1766)),
          l = i(o(1446)),
          d = o(3388),
          c = o(5578),
          p = o(4173),
          f = i(o(3368));
        let h = null,
          m = null;
        function g() {
          null === h && (h = new u.Howl({ src: ["../sound/error.wav"] }));
        }
        function v() {
          null === m &&
            (m = {
              1: [
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click1/click1_1.wav" }),
                    new u.Howl({ src: "../sound/click1/click1_1.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click1/click1_2.wav" }),
                    new u.Howl({ src: "../sound/click1/click1_2.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click1/click1_3.wav" }),
                    new u.Howl({ src: "../sound/click1/click1_3.wav" }),
                  ],
                  counter: 0,
                },
              ],
              2: [
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click2/click2_1.wav" }),
                    new u.Howl({ src: "../sound/click2/click2_1.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click2/click2_2.wav" }),
                    new u.Howl({ src: "../sound/click2/click2_2.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click2/click2_3.wav" }),
                    new u.Howl({ src: "../sound/click2/click2_3.wav" }),
                  ],
                  counter: 0,
                },
              ],
              3: [
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click3/click3_1.wav" }),
                    new u.Howl({ src: "../sound/click3/click3_1.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click3/click3_2.wav" }),
                    new u.Howl({ src: "../sound/click3/click3_2.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click3/click3_3.wav" }),
                    new u.Howl({ src: "../sound/click3/click3_3.wav" }),
                  ],
                  counter: 0,
                },
              ],
              4: [
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click4/click4_1.wav" }),
                    new u.Howl({ src: "../sound/click4/click4_11.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click4/click4_2.wav" }),
                    new u.Howl({ src: "../sound/click4/click4_22.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click4/click4_3.wav" }),
                    new u.Howl({ src: "../sound/click4/click4_33.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click4/click4_4.wav" }),
                    new u.Howl({ src: "../sound/click4/click4_44.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click4/click4_5.wav" }),
                    new u.Howl({ src: "../sound/click4/click4_55.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click4/click4_6.wav" }),
                    new u.Howl({ src: "../sound/click4/click4_66.wav" }),
                  ],
                  counter: 0,
                },
              ],
              5: [
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click5/click5_1.wav" }),
                    new u.Howl({ src: "../sound/click5/click5_11.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click5/click5_2.wav" }),
                    new u.Howl({ src: "../sound/click5/click5_22.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click5/click5_3.wav" }),
                    new u.Howl({ src: "../sound/click5/click5_33.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click5/click5_4.wav" }),
                    new u.Howl({ src: "../sound/click5/click5_44.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click5/click5_5.wav" }),
                    new u.Howl({ src: "../sound/click5/click5_55.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click5/click5_6.wav" }),
                    new u.Howl({ src: "../sound/click5/click5_66.wav" }),
                  ],
                  counter: 0,
                },
              ],
              6: [
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click6/click6_1.wav" }),
                    new u.Howl({ src: "../sound/click6/click6_11.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click6/click6_2.wav" }),
                    new u.Howl({ src: "../sound/click6/click6_22.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click6/click6_3.wav" }),
                    new u.Howl({ src: "../sound/click6/click6_33.wav" }),
                  ],
                  counter: 0,
                },
              ],
              7: [
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click7/click7_1.wav" }),
                    new u.Howl({ src: "../sound/click7/click7_11.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click7/click7_2.wav" }),
                    new u.Howl({ src: "../sound/click7/click7_22.wav" }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({ src: "../sound/click7/click7_3.wav" }),
                    new u.Howl({ src: "../sound/click7/click7_33.wav" }),
                  ],
                  counter: 0,
                },
              ],
            });
        }
        (t.initErrorSound = g),
          (t.init = v),
          (t.previewClick = function (e) {
            null === m && v(),
              m[e][0].sounds[0].seek(0),
              m[e][0].sounds[0].play();
          });
        let y = "KeyA";
        $(document).on("keydown", (e) => {
          y = e.code || "KeyA";
        });
        const b = [
            16.35, 32.7, 65.41, 130.81, 261.63, 523.25, 1046.5, 2093, 4186.01,
          ],
          w = [
            17.32, 34.65, 69.3, 138.59, 277.18, 554.37, 1108.73, 2217.46,
            4434.92,
          ],
          C = [
            18.35, 36.71, 73.42, 146.83, 293.66, 587.33, 1174.66, 2349.32,
            4698.64,
          ],
          _ = [
            19.45, 38.89, 77.78, 155.56, 311.13, 622.25, 1244.51, 2489.02,
            4978.03,
          ],
          S = [20.6, 41.2, 82.41, 164.81, 329.63, 659.26, 1318.51, 2637.02],
          P = [21.83, 43.65, 87.31, 174.61, 349.23, 698.46, 1396.91, 2793.83],
          x = [23.12, 46.25, 92.5, 185, 369.99, 739.99, 1479.98, 2959.96],
          k = [24.5, 49, 98, 196, 392, 783.99, 1567.98, 3135.96],
          T = [25.96, 51.91, 103.83, 207.65, 415.3, 830.61, 1661.22, 3322.44],
          O = [27.5, 55, 110, 220, 440, 880, 1760, 3520],
          M = [29.14, 58.27, 116.54, 233.08, 466.16, 932.33, 1864.66, 3729.31],
          A = [30.87, 61.74, 123.47, 246.94, 493.88, 987.77, 1975.53, 3951.07];
        function j(e, t = 0) {
          return (o) => e[o + t];
        }
        const L = {
            KeyZ: j(b),
            KeyS: j(w),
            KeyX: j(C),
            KeyD: j(_),
            KeyC: j(S),
            KeyV: j(P),
            KeyG: j(x),
            KeyB: j(k),
            KeyH: j(T),
            KeyN: j(O),
            KeyJ: j(M),
            KeyM: j(A),
            Comma: j(b, 1),
            KeyL: j(w, 1),
            Period: j(C, 1),
            Semicolon: j(_, 1),
            Slash: j(S, 1),
            KeyQ: j(b, 1),
            Digit2: j(w, 1),
            KeyW: j(C, 1),
            Digit3: j(_, 1),
            KeyE: j(S, 1),
            KeyR: j(P, 1),
            Digit5: j(x, 1),
            KeyT: j(k, 1),
            Digit6: j(T, 1),
            KeyY: j(O, 1),
            Digit7: j(M, 1),
            KeyU: j(A, 1),
            KeyI: j(b, 2),
            Digit9: j(w, 2),
            KeyO: j(C, 2),
            Digit0: j(_, 2),
            KeyP: j(S, 2),
            BracketLeft: j(P, 2),
            Equal: j(x, 2),
            BracketRight: j(k, 2),
          },
          W = { 8: "sine", 9: "sawtooth", 10: "square", 11: "triangle" };
        let B;
        function E(e, t) {
          if (
            (void 0 === B &&
              (function () {
                if (null !== B)
                  try {
                    B = new AudioContext();
                  } catch (e) {
                    (B = null),
                      console.error(e),
                      f.add(
                        (0, d.createErrorMessage)(
                          e,
                          "Error initializing audio context"
                        ) + ". Notes will not play.",
                        -1
                      );
                  }
              })(),
            !B)
          )
            return;
          if (((y = null != e ? e : y), !(y in L))) return;
          const o = 3 + (c.leftState || c.rightState || p.capsState ? 1 : 0),
            n = L[y](o),
            a = B.createOscillator(),
            i = B.createGain();
          (a.type = null != t ? t : W[r.default.playSoundOnClick]),
            (i.gain.value = parseFloat(r.default.soundVolume) / 10),
            a.connect(i),
            i.connect(B.destination),
            (a.frequency.value = n),
            a.start(B.currentTime),
            a.stop(B.currentTime + 0.15);
        }
        function I(e) {
          u.default.Howler.volume(e);
        }
        (t.playNote = E),
          (t.playClick = function () {
            if ("off" === r.default.playSoundOnClick) return;
            if (r.default.playSoundOnClick in W) return void E();
            null === m && v();
            const e = (0, d.randomElementFromArray)(
              m[r.default.playSoundOnClick]
            );
            e.counter++,
              2 === e.counter && (e.counter = 0),
              e.sounds[e.counter].seek(0),
              e.sounds[e.counter].play();
          }),
          (t.playError = function () {
            r.default.playSoundOnError &&
              (null === h && g(), h.seek(0), h.play());
          }),
          (t.setVolume = I),
          l.subscribe((e, t) => {
            "playSoundOnClick" === e && "off" !== t && v(),
              "soundVolume" === e && I(t);
          });
      },
      9343: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.loadActiveFromLocalStorage =
            t.toggle =
            t.set =
            t.clear =
            t.saveActiveToLocalStorage =
              void 0);
        const s = i(o(6350)),
          r = i(o(2453));
        function u() {
          var e, t;
          const o = [];
          try {
            null ===
              (t =
                null === (e = s.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.tags) ||
              void 0 === t ||
              t.forEach((e) => {
                !0 === e.active && o.push(e._id);
              }),
              window.localStorage.setItem("activeTags", JSON.stringify(o));
          } catch (e) {}
        }
        function l(e, t = !1) {
          var o, n;
          null ===
            (n =
              null === (o = s.getSnapshot()) || void 0 === o
                ? void 0
                : o.tags) ||
            void 0 === n ||
            n.forEach((t) => {
              t._id === e &&
                (void 0 === t.active
                  ? (t.active = !0)
                  : (t.active = !t.active));
            }),
            r.update(),
            t || u();
        }
        (t.saveActiveToLocalStorage = u),
          (t.clear = function (e = !1) {
            var t;
            const o = s.getSnapshot();
            o &&
              ((o.tags =
                null === (t = o.tags) || void 0 === t
                  ? void 0
                  : t.map((e) => ((e.active = !1), e))),
              s.setSnapshot(o),
              r.update(),
              e || u());
          }),
          (t.set = function (e, t, o = !1) {
            var n;
            const a = s.getSnapshot();
            a &&
              ((a.tags =
                null === (n = a.tags) || void 0 === n
                  ? void 0
                  : n.map((o) => (o._id === e && (o.active = t), o))),
              s.setSnapshot(a),
              r.update(),
              o || u());
          }),
          (t.toggle = l),
          (t.loadActiveFromLocalStorage = function () {
            var e;
            let t = window.localStorage.getItem("activeTags");
            if (null != t && "" !== t) {
              try {
                t = null !== (e = JSON.parse(t)) && void 0 !== e ? e : [];
              } catch (e) {
                t = [];
              }
              t.forEach((e) => {
                l(e, !0);
              }),
                u();
            }
          });
      },
      743: function (e, t, o) {
        var n,
          a,
          i =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          s =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          r =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    i(t, e, o);
              return s(t, e), t;
            },
          u =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.applyCustomBackground =
            t.applyCustomBackgroundSize =
            t.clearRandom =
            t.randomizeTheme =
            t.clearPreview =
            t.set =
            t.preview =
            t.loadStyle =
            t.colorVars =
            t.randomThemeIndex =
            t.randomTheme =
              void 0);
        const l = r(o(4203)),
          d = r(o(1833)),
          c = r(o(3388)),
          p = r(o(6705)),
          f = p,
          h = r(o(2183)),
          m = r(o(1446)),
          g = r(o(6350)),
          v = r(o(3368)),
          y = r(o(9817)),
          b = r(o(3326)),
          w = o(2189);
        let C = !1;
        (t.randomTheme = null),
          (t.randomThemeIndex = 0),
          (t.colorVars = [
            "--bg-color",
            "--main-color",
            "--caret-color",
            "--sub-color",
            "--sub-alt-color",
            "--text-color",
            "--error-color",
            "--error-extra-color",
            "--colorful-error-color",
            "--colorful-error-extra-color",
          ]);
        let _ = [];
        function S(e) {
          return u(this, void 0, void 0, function* () {
            return new Promise((t) => {
              _.push(
                setTimeout(() => {
                  y.show();
                }, 100)
              ),
                $("#nextTheme").remove();
              const o = document.querySelector("#currentTheme"),
                n = document.createElement("link");
              (n.type = "text/css"),
                (n.rel = "stylesheet"),
                (n.id = "nextTheme"),
                (n.onload = () => {
                  y.hide(),
                    $("#currentTheme").remove(),
                    $("#nextTheme").attr("id", "currentTheme"),
                    _.map((e) => clearTimeout(e)),
                    (_ = []),
                    $("#keymap .keymapKey").stop(!0, !0).removeAttr("style"),
                    t();
                }),
                (n.onerror = () => {
                  y.hide(),
                    v.add("Failed to load theme", 0),
                    $("#currentTheme").remove(),
                    $("#nextTheme").attr("id", "currentTheme"),
                    _.map((e) => clearTimeout(e)),
                    (_ = []),
                    $("#keymap .keymapKey").stop(!0, !0).removeAttr("style"),
                    t();
                }),
                (n.href =
                  "custom" === e
                    ? "/./themes/serika_dark.css"
                    : `/./themes/${e}.css`),
                o ? o.after(n) : document.head.appendChild(n);
            });
          });
        }
        function P(e, o, n = !1) {
          t.colorVars.forEach((e) => {
            document.documentElement.style.setProperty(e, "");
          });
          let a = "serika_dark";
          (a = o ? "custom" : e),
            l.reset(),
            $(".keymapKey").attr("style", ""),
            S(a).then(() => {
              var a, i;
              if ((l.update(), o)) {
                let s = p.default.customThemeColors;
                const r = g.getSnapshot();
                if (o && !n && r) {
                  const t =
                    null !==
                      (i =
                        null ===
                          (a = r.customThemes.find((t) => t._id === e)) ||
                        void 0 === a
                          ? void 0
                          : a.colors) && void 0 !== i
                      ? i
                      : [];
                  t.length > 0 && f.setCustomThemeColors(t);
                }
                if ("custom" !== e && r) {
                  const t = r.customThemes.find((t) => t._id === e);
                  s = null == t ? void 0 : t.colors;
                }
                t.colorVars.forEach((e, t) => {
                  document.documentElement.style.setProperty(e, s[t]);
                });
              }
              b.log("changedTheme", { theme: e }),
                n ||
                  l.getAll().then((e) => {
                    $(".keymapKey").attr("style", ""),
                      d.updateAllChartColors(),
                      (function (e, t) {
                        u(this, void 0, void 0, function* () {
                          setTimeout(
                            () =>
                              u(this, void 0, void 0, function* () {
                                let o, n;
                                if (
                                  ((n = yield l.get("bg")),
                                  (o = yield l.get("main")),
                                  "localhost" === window.location.hostname)
                                ) {
                                  const e = o;
                                  (o = n), (n = e);
                                }
                                n == o && ((n = "#111"), (o = "#eee"));
                                const a = document.createElement("canvas");
                                (a.width = e), (a.height = e);
                                const i = a.getContext("2d");
                                i.beginPath(),
                                  i.moveTo(0, t),
                                  i.quadraticCurveTo(0, 0, t, 0),
                                  i.lineTo(96, 0),
                                  i.quadraticCurveTo(e, 0, e, t),
                                  i.lineTo(e, 96),
                                  i.quadraticCurveTo(e, e, 96, e),
                                  i.lineTo(t, e),
                                  i.quadraticCurveTo(0, e, 0, 96),
                                  (i.fillStyle = n),
                                  i.fill(),
                                  (i.font = "900 76.8px Lexend Deca"),
                                  (i.textAlign = "center"),
                                  (i.fillStyle = o),
                                  i.fillText("mt", 65, 89.6),
                                  $("#favicon").attr(
                                    "href",
                                    a.toDataURL("image/png")
                                  );
                              }),
                            125
                          );
                        });
                      })(128, 32),
                      $("#metaThemeColor").attr("content", e.bg);
                  }),
                $(".current-theme .text").text(
                  o ? "custom" : e.replace(/_/g, " ")
                );
            });
        }
        function x(e, t, o = !1) {
          k(e, t, o);
        }
        (t.loadStyle = S), (t.preview = x);
        const k = (0, w.debounce)(100, (e, t, o) => {
          (C = !0), P(e, t, !o);
        });
        function T(e, t) {
          P(e, t);
        }
        function O(e = !0) {
          C &&
            ((C = !1),
            (t.randomTheme = null),
            e &&
              (p.default.customTheme
                ? P("custom", !0)
                : P(p.default.theme, !1)));
        }
        (t.set = T), (t.clearPreview = O);
        let M = [];
        function A() {
          var e, o;
          return u(this, void 0, void 0, function* () {
            let n;
            try {
              n = yield c.getThemesList();
            } catch (e) {
              return void console.error(
                c.createErrorMessage(e, "Failed to update random theme list")
              );
            }
            "fav" === p.default.randomTheme && p.default.favThemes.length > 0
              ? (M = p.default.favThemes)
              : "light" === p.default.randomTheme
              ? (M = n
                  .filter((e) => c.isColorLight(e.bgColor))
                  .map((e) => e.name))
              : "dark" === p.default.randomTheme
              ? (M = n
                  .filter((e) => c.isColorDark(e.bgColor))
                  .map((e) => e.name))
              : "on" === p.default.randomTheme
              ? (M = n.map((e) => e.name))
              : "custom" === p.default.randomTheme &&
                g.getSnapshot() &&
                (M =
                  null !==
                    (o =
                      null === (e = g.getSnapshot()) || void 0 === e
                        ? void 0
                        : e.customThemes.map((e) => e._id)) && void 0 !== o
                    ? o
                    : []),
              c.shuffle(M),
              (t.randomThemeIndex = 0);
          });
        }
        function j() {
          null !== t.randomTheme &&
            ((t.randomTheme = null),
            p.default.customTheme ? P("custom", !0) : P(p.default.theme, !1));
        }
        function L() {
          "max" == p.default.customBackgroundSize
            ? $(".customBackground img").css({ objectFit: "" })
            : $(".customBackground img").css({
                objectFit: p.default.customBackgroundSize,
              });
        }
        function W() {
          "" === p.default.customBackground
            ? ($("#words").removeClass("noErrorBorder"),
              $("#resultWordsHistory").removeClass("noErrorBorder"),
              $(".customBackground img").remove())
            : ($("#words").addClass("noErrorBorder"),
              $("#resultWordsHistory").addClass("noErrorBorder"),
              $(".customBackground").html(
                `<img src="${p.default.customBackground}" alt="" />`
              ),
              h.apply(),
              L());
        }
        (t.randomizeTheme = function () {
          var e, o, n;
          return u(this, void 0, void 0, function* () {
            if (
              (0 !== M.length || (yield A(), 0 !== M.length)) &&
              ((t.randomTheme = M[t.randomThemeIndex]),
              t.randomThemeIndex++,
              t.randomThemeIndex >= M.length &&
                (c.shuffle(M), (t.randomThemeIndex = 0)),
              x(t.randomTheme, "custom" === p.default.randomTheme),
              t.randomThemeIndex >= M.length)
            ) {
              let a = t.randomTheme.replace(/_/g, " ");
              "custom" === p.default.randomTheme &&
                (a = (
                  null !==
                    (n =
                      null ===
                        (o =
                          null === (e = g.getSnapshot()) || void 0 === e
                            ? void 0
                            : e.customThemes.find(
                                (e) => e._id === t.randomTheme
                              )) || void 0 === o
                        ? void 0
                        : o.name) && void 0 !== n
                    ? n
                    : "custom"
                ).replace(/_/g, " ")),
                v.add(a, 0);
            }
          });
        }),
          (t.clearRandom = j),
          (t.applyCustomBackgroundSize = L),
          (t.applyCustomBackground = W),
          null ===
            (a =
              null === (n = window.matchMedia) || void 0 === n
                ? void 0
                : n.call(window, "(prefers-color-scheme: dark)")) ||
            void 0 === a ||
            a.addEventListener("change", (e) => {
              p.default.autoSwitchTheme &&
                !p.default.customTheme &&
                (e.matches
                  ? T(p.default.themeDark, !1)
                  : T(p.default.themeLight, !1));
            }),
          m.subscribe((e, t, o) => {
            "randomTheme" === e && A(),
              "customTheme" === e &&
                (t ? T("custom", !0) : T(p.default.theme, !1)),
              "customThemeColors" === e &&
                (o ? x("custom", !0) : T("custom", !0)),
              "theme" === e && (O(!1), T(t, !1)),
              "setThemes" === e &&
                (O(!1),
                t
                  ? T("custom", !0)
                  : p.default.autoSwitchTheme
                  ? window.matchMedia &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? T(p.default.themeDark, !1)
                    : T(p.default.themeLight, !1)
                  : T(p.default.theme, !1)),
              "randomTheme" === e && "off" === t && j(),
              "customBackground" === e && W(),
              "customBackgroundSize" === e && L(),
              "autoSwitchTheme" === e &&
                (t
                  ? window.matchMedia &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? T(p.default.themeDark, !1)
                    : T(p.default.themeLight, !1)
                  : T(p.default.theme, !1)),
              "themeLight" !== e ||
                !p.default.autoSwitchTheme ||
                (window.matchMedia &&
                  window.matchMedia("(prefers-color-scheme: dark)").matches) ||
                o ||
                T(p.default.themeLight, !1),
              "themeDark" === e &&
                p.default.autoSwitchTheme &&
                window.matchMedia &&
                window.matchMedia("(prefers-color-scheme: dark)").matches &&
                !o &&
                T(p.default.themeDark, !1);
          });
      },
      6350: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setStreak =
            t.addBadge =
            t.addXp =
            t.updateLocalStats =
            t.saveLocalResult =
            t.saveConfig =
            t.updateLbMemory =
            t.saveLocalTagPB =
            t.getLocalTagPB =
            t.saveLocalPB =
            t.getLocalPB =
            t.getUserDailyBest =
            t.getUserAverage10 =
            t.getUserHighestWpm =
            t.deleteCustomTheme =
            t.editCustomTheme =
            t.addCustomTheme =
            t.getCustomThemeById =
            t.getUserResults =
            t.initSnapshot =
            t.setSnapshot =
            t.getSnapshot =
              void 0);
        const u = r(o(7355)),
          l = i(o(3368)),
          d = i(o(4335)),
          c = r(o(2191)),
          p = o(6617),
          f = o(8361),
          h = i(o(3285));
        let m;
        function g() {
          return m;
        }
        function v(e) {
          try {
            null == e || delete e.banned;
          } catch (e) {}
          try {
            null == e || delete e.verified;
          } catch (e) {}
          m = e;
        }
        function y() {
          return s(this, void 0, void 0, function* () {
            if (
              !(null === p.Auth || void 0 === p.Auth
                ? void 0
                : p.Auth.currentUser)
            )
              return !1;
            if (!m) return !1;
            if (!h.get()) return !1;
            if (void 0 !== m.results) return !0;
            {
              d.updateText("Downloading results..."), d.updateBar(90);
              const e = yield u.default.results.get();
              if (200 !== e.status)
                return l.add("Error getting results: " + e.message, -1), !1;
              const t = e.data;
              return (
                t.forEach((e) => {
                  void 0 === e.bailedOut && (e.bailedOut = !1),
                    void 0 === e.blindMode && (e.blindMode = !1),
                    void 0 === e.lazyMode && (e.lazyMode = !1),
                    void 0 === e.difficulty && (e.difficulty = "normal"),
                    void 0 === e.funbox && (e.funbox = "none"),
                    (void 0 !== e.language && null !== e.language) ||
                      (e.language = "english"),
                    void 0 === e.numbers && (e.numbers = !1),
                    void 0 === e.punctuation && (e.punctuation = !1),
                    void 0 === e.quoteLength && (e.quoteLength = -1),
                    void 0 === e.restartCount && (e.restartCount = 0),
                    void 0 === e.incompleteTestSeconds &&
                      (e.incompleteTestSeconds = 0),
                    void 0 === e.afkDuration && (e.afkDuration = 0),
                    void 0 === e.tags && (e.tags = []);
                }),
                (m.results =
                  null == t
                    ? void 0
                    : t.sort((e, t) => t.timestamp - e.timestamp)),
                !0
              );
            }
          });
        }
        (t.getSnapshot = g),
          (t.setSnapshot = v),
          (t.initSnapshot = function () {
            var e, t, o, n, a, i, r, l, d, h, g, v, y, b;
            return s(this, void 0, void 0, function* () {
              const s = f.defaultSnap;
              try {
                if (
                  !(null === p.Auth || void 0 === p.Auth
                    ? void 0
                    : p.Auth.currentUser)
                )
                  return !1;
                const [f, w, $, C] = yield Promise.all([
                  u.default.users.getData(),
                  u.default.configs.get(),
                  u.default.users.getTags(),
                  u.default.presets.get(),
                ]);
                if (200 !== f.status)
                  throw {
                    message: `${f.message} (user)`,
                    responseCode: f.status,
                  };
                if (200 !== w.status)
                  throw {
                    message: `${w.message} (config)`,
                    responseCode: w.status,
                  };
                if (200 !== $.status)
                  throw {
                    message: `${$.message} (tags)`,
                    responseCode: $.status,
                  };
                if (200 !== C.status)
                  throw {
                    message: `${C.message} (presets)`,
                    responseCode: C.status,
                  };
                const [_, S, P, x] = [f, w, $, C].map((e) => e.data);
                if (
                  ((s.name = _.name),
                  (s.personalBests = _.personalBests),
                  (s.banned = _.banned),
                  (s.verified = _.verified),
                  (s.discordId = _.discordId),
                  (s.discordAvatar = _.discordAvatar),
                  (s.needsToChangeName = _.needsToChangeName),
                  (s.typingStats = {
                    timeTyping: _.timeTyping,
                    startedTests: _.startedTests,
                    completedTests: _.completedTests,
                  }),
                  !0 === _.quoteMod && (s.quoteMod = !0),
                  (s.favoriteQuotes =
                    null !== (e = _.favoriteQuotes) && void 0 !== e ? e : {}),
                  (s.filterPresets =
                    null !== (t = _.resultFilterPresets) && void 0 !== t
                      ? t
                      : []),
                  (s.quoteRatings = _.quoteRatings),
                  (s.favouriteThemes =
                    void 0 === _.favouriteThemes ? [] : _.favouriteThemes),
                  (s.details = _.profileDetails),
                  (s.addedAt = _.addedAt),
                  (s.inventory = _.inventory),
                  (s.xp = null !== (o = _.xp) && void 0 !== o ? o : 0),
                  (s.inboxUnreadSize =
                    null !== (n = _.inboxUnreadSize) && void 0 !== n ? n : 0),
                  (s.streak =
                    null !==
                      (i =
                        null === (a = null == _ ? void 0 : _.streak) ||
                        void 0 === a
                          ? void 0
                          : a.length) && void 0 !== i
                      ? i
                      : 0),
                  (s.maxStreak =
                    null !==
                      (l =
                        null === (r = null == _ ? void 0 : _.streak) ||
                        void 0 === r
                          ? void 0
                          : r.maxLength) && void 0 !== l
                      ? l
                      : 0),
                  (null === (d = _.lbMemory) || void 0 === d
                    ? void 0
                    : d.time15) ||
                  (null === (h = _.lbMemory) || void 0 === h
                    ? void 0
                    : h.time60)
                    ? (s.lbMemory = {})
                    : _.lbMemory && (s.lbMemory = _.lbMemory),
                  S)
                ) {
                  !0 === S.quickTab && (S.quickRestart = "tab"),
                    !0 === S.swapEscAndTab && (S.quickRestart = "esc");
                  const e = Object.assign({}, c.default);
                  for (const t in S.config) {
                    const o = S.config[t];
                    e[t] = o;
                  }
                  s.config = e;
                }
                return (
                  (s.customThemes =
                    null !== (g = _.customThemes) && void 0 !== g ? g : []),
                  (s.tags = P),
                  s.tags.forEach((e) => {
                    e.display = e.name.replaceAll("_", " ");
                  }),
                  (s.tags =
                    null === (v = s.tags) || void 0 === v
                      ? void 0
                      : v.sort((e, t) =>
                          e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                        )),
                  (s.presets = x),
                  null === (y = s.presets) ||
                    void 0 === y ||
                    y.forEach((e) => {
                      e.display = e.name.replaceAll("_", " ");
                    }),
                  (s.presets =
                    null === (b = s.presets) || void 0 === b
                      ? void 0
                      : b.sort((e, t) =>
                          e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                        )),
                  (m = s),
                  m
                );
              } catch (e) {
                throw ((m = f.defaultSnap), e);
              }
            });
          }),
          (t.getUserResults = y),
          (t.getCustomThemeById = function (e) {
            return null == m ? void 0 : m.customThemes.find((t) => t._id === e);
          }),
          (t.addCustomTheme = function (e) {
            return s(this, void 0, void 0, function* () {
              if (!m) return !1;
              if (m.customThemes.length >= 10)
                return l.add("Too many custom themes!", 0), !1;
              const t = yield u.default.users.addCustomTheme(e);
              if (200 !== t.status)
                return l.add("Error adding custom theme: " + t.message, -1), !1;
              const o = Object.assign(Object.assign({}, e), {
                _id: t.data.theme._id,
              });
              return m.customThemes.push(o), !0;
            });
          }),
          (t.editCustomTheme = function (e, t) {
            return s(this, void 0, void 0, function* () {
              if (
                !(null === p.Auth || void 0 === p.Auth
                  ? void 0
                  : p.Auth.currentUser)
              )
                return !1;
              if (!m) return !1;
              const o = m.customThemes.find((t) => t._id === e);
              if (!o)
                return (
                  l.add(
                    "Editing failed: Custom theme with id: " +
                      e +
                      " does not exist",
                    -1
                  ),
                  !1
                );
              const n = yield u.default.users.editCustomTheme(e, t);
              if (200 !== n.status)
                return (
                  l.add("Error editing custom theme: " + n.message, -1), !1
                );
              const a = Object.assign(Object.assign({}, t), { _id: e });
              return (m.customThemes[m.customThemes.indexOf(o)] = a), !0;
            });
          }),
          (t.deleteCustomTheme = function (e) {
            return s(this, void 0, void 0, function* () {
              if (
                !(null === p.Auth || void 0 === p.Auth
                  ? void 0
                  : p.Auth.currentUser)
              )
                return !1;
              if (!m) return !1;
              if (!m.customThemes.find((t) => t._id === e)) return !1;
              const t = yield u.default.users.deleteCustomTheme(e);
              return 200 !== t.status
                ? (l.add("Error deleting custom theme: " + t.message, -1), !1)
                : ((m.customThemes = m.customThemes.filter((t) => t._id !== e)),
                  !0);
            });
          }),
          (t.getUserHighestWpm = function (e, t, o, n, a, i) {
            return s(this, void 0, void 0, function* () {
              return m && void 0 !== m.results
                ? (function () {
                    var s;
                    let r = 0;
                    return (
                      null === (s = null == m ? void 0 : m.results) ||
                        void 0 === s ||
                        s.forEach((s) => {
                          s.mode == e &&
                            s.mode2 == t &&
                            s.punctuation == o &&
                            s.language == n &&
                            s.difficulty == a &&
                            (s.lazyMode === i ||
                              (void 0 === s.lazyMode && !1 === i)) &&
                            s.wpm > r &&
                            (r = s.wpm);
                        }),
                      r
                    );
                  })()
                : 0;
            });
          }),
          (t.getUserAverage10 = function (e, t, o, n, a, i) {
            return s(this, void 0, void 0, function* () {
              const s = g();
              return s
                ? null === s || null === (yield y())
                  ? [0, 0]
                  : (function () {
                      var r;
                      const u = [];
                      null === (r = null == s ? void 0 : s.tags) ||
                        void 0 === r ||
                        r.forEach((e) => {
                          !0 === e.active && u.push(e._id);
                        });
                      let l = 0,
                        d = 0,
                        c = 0,
                        p = 0,
                        f = 0,
                        h = 0;
                      if (void 0 !== (null == s ? void 0 : s.results))
                        for (const r of s.results)
                          if (
                            r.mode === e &&
                            r.punctuation === o &&
                            r.language === n &&
                            r.difficulty === a &&
                            (r.lazyMode === i ||
                              (void 0 === r.lazyMode && !1 === i)) &&
                            (0 === u.length ||
                              u.some((e) => r.tags.includes(e)))
                          ) {
                            if (r.mode2 !== t && "quote" !== e) continue;
                            if (
                              (h < 10 && ((c += r.wpm), (p += r.acc), h++),
                              r.mode2 === t &&
                                ((l += r.wpm), (d += r.acc), f++, f >= 10))
                            )
                              break;
                          }
                      return 0 === f && "quote" === e
                        ? [c / h, p / h]
                        : [l / f, d / f];
                    })()
                : [0, 0];
            });
          }),
          (t.getUserDailyBest = function (e, t, o, n, a, i) {
            return s(this, void 0, void 0, function* () {
              const s = g();
              return s
                ? null === s || null === (yield y())
                  ? 0
                  : (function () {
                      var r;
                      const u = [];
                      null === (r = null == s ? void 0 : s.tags) ||
                        void 0 === r ||
                        r.forEach((e) => {
                          !0 === e.active && u.push(e._id);
                        });
                      let l = 0;
                      if (void 0 !== (null == s ? void 0 : s.results))
                        for (const r of s.results)
                          if (
                            r.mode === e &&
                            r.punctuation === o &&
                            r.language === n &&
                            r.difficulty === a &&
                            (r.lazyMode === i ||
                              (void 0 === r.lazyMode && !1 === i)) &&
                            (0 === u.length ||
                              u.some((e) => r.tags.includes(e)))
                          ) {
                            if (r.timestamp < Date.now() - 864e5) continue;
                            if (r.mode2 !== t && "quote" !== e) continue;
                            r.wpm > l && (l = r.wpm);
                          }
                      return l;
                    })()
                : 0;
            });
          }),
          (t.getLocalPB = function (e, t, o, n, a, i, r) {
            return s(this, void 0, void 0, function* () {
              return ("none" !== r && "plus_one" !== r && "plus_two" !== r) ||
                null === m
                ? 0
                : (function () {
                    let s = 0;
                    try {
                      return (null == m ? void 0 : m.personalBests)
                        ? (m.personalBests[e][t].forEach((e) => {
                            e.punctuation == o &&
                              e.difficulty == a &&
                              e.language == n &&
                              (e.lazyMode === i ||
                                (void 0 === e.lazyMode && !1 === i)) &&
                              (s = e.wpm);
                          }),
                          s)
                        : s;
                    } catch (e) {
                      return s;
                    }
                  })();
            });
          }),
          (t.saveLocalPB = function (e, t, o, n, a, i, r, u, l, d) {
            return s(this, void 0, void 0, function* () {
              "quote" != e &&
                m &&
                null != m &&
                (function () {
                  if (!m) return;
                  let s = !1;
                  void 0 === m.personalBests &&
                    (m.personalBests = {
                      time: {},
                      words: {},
                      zen: { zen: [] },
                      quote: { custom: [] },
                      custom: { custom: [] },
                    }),
                    void 0 === m.personalBests[e] &&
                      ("zen" === e
                        ? (m.personalBests.zen = { zen: [] })
                        : (m.personalBests[e] = { custom: [] })),
                    void 0 === m.personalBests[e][t] &&
                      (m.personalBests[e][t] = []),
                    m.personalBests[e][t].forEach((e) => {
                      e.punctuation == o &&
                        e.difficulty == a &&
                        e.language == n &&
                        (e.lazyMode === i ||
                          (void 0 === e.lazyMode && !1 === i)) &&
                        ((s = !0),
                        (e.wpm = r),
                        (e.acc = u),
                        (e.raw = l),
                        (e.timestamp = Date.now()),
                        (e.consistency = d),
                        (e.lazyMode = i));
                    }),
                    s ||
                      m.personalBests[e][t].push({
                        language: n,
                        difficulty: a,
                        lazyMode: i,
                        punctuation: o,
                        wpm: r,
                        acc: u,
                        raw: l,
                        timestamp: Date.now(),
                        consistency: d,
                      });
                })();
            });
          }),
          (t.getLocalTagPB = function (e, t, o, n, a, i, r) {
            return s(this, void 0, void 0, function* () {
              return null === m
                ? 0
                : (function () {
                    var s, u, l;
                    let d = 0;
                    const c = (
                      null !==
                        (u =
                          null === (s = g()) || void 0 === s
                            ? void 0
                            : s.tags) && void 0 !== u
                        ? u
                        : []
                    ).filter((t) => t._id === e)[0];
                    if (void 0 === c) return d;
                    void 0 === c.personalBests &&
                      (c.personalBests = {
                        time: {},
                        words: {},
                        zen: { zen: [] },
                        quote: { custom: [] },
                        custom: { custom: [] },
                      });
                    try {
                      (null !== (l = c.personalBests[t][o]) && void 0 !== l
                        ? l
                        : []
                      ).forEach((e) => {
                        e.punctuation == n &&
                          e.difficulty == i &&
                          e.language == a &&
                          (e.lazyMode === r ||
                            (void 0 === e.lazyMode && !1 === r)) &&
                          (d = e.wpm);
                      });
                    } catch (e) {
                      console.log(e);
                    }
                    return d;
                  })();
            });
          }),
          (t.saveLocalTagPB = function (e, t, o, n, a, i, r, u, l, d, c) {
            return s(this, void 0, void 0, function* () {
              "quote" != t &&
                null != m &&
                (function () {
                  var s;
                  const p =
                    null === (s = null == m ? void 0 : m.tags) || void 0 === s
                      ? void 0
                      : s.filter((t) => t._id === e)[0];
                  p.personalBests ||
                    (p.personalBests = {
                      time: {},
                      words: {},
                      zen: { zen: [] },
                      quote: { custom: [] },
                      custom: { custom: [] },
                    });
                  try {
                    let e = !1;
                    void 0 === p.personalBests[t][o] &&
                      (p.personalBests[t][o] = []),
                      p.personalBests[t][o].forEach((t) => {
                        t.punctuation == n &&
                          t.difficulty == i &&
                          t.language == a &&
                          (t.lazyMode === r ||
                            (void 0 === t.lazyMode && !1 === r)) &&
                          ((e = !0),
                          (t.wpm = u),
                          (t.acc = l),
                          (t.raw = d),
                          (t.timestamp = Date.now()),
                          (t.consistency = c),
                          (t.lazyMode = r));
                      }),
                      e ||
                        p.personalBests[t][o].push({
                          language: a,
                          difficulty: i,
                          lazyMode: r,
                          punctuation: n,
                          wpm: u,
                          acc: l,
                          raw: d,
                          timestamp: Date.now(),
                          consistency: c,
                        });
                  } catch (e) {
                    (p.personalBests = {
                      time: {},
                      words: {},
                      zen: { zen: [] },
                      quote: { custom: [] },
                      custom: { custom: [] },
                    }),
                      "zen" === t
                        ? (p.personalBests.zen = { zen: [] })
                        : (p.personalBests[t] = { custom: [] }),
                      (p.personalBests[t][o] = [
                        {
                          language: a,
                          difficulty: i,
                          lazyMode: r,
                          punctuation: n,
                          wpm: u,
                          acc: l,
                          raw: d,
                          timestamp: Date.now(),
                          consistency: c,
                        },
                      ]);
                  }
                })();
            });
          }),
          (t.updateLbMemory = function (e, t, o, n, a = !1) {
            return s(this, void 0, void 0, function* () {
              if ("time" === e) {
                const i = e,
                  s = t,
                  r = g();
                if (!r) return;
                void 0 === r.lbMemory &&
                  (r.lbMemory = {
                    time: { 15: { english: 0 }, 60: { english: 0 } },
                  }),
                  void 0 === r.lbMemory[i] &&
                    (r.lbMemory[i] = {
                      15: { english: 0 },
                      60: { english: 0 },
                    }),
                  void 0 === r.lbMemory[i][s] && (r.lbMemory[i][s] = {});
                const l = r.lbMemory[i][s][o];
                (r.lbMemory[i][s][o] = n),
                  a &&
                    l != n &&
                    (yield u.default.users.updateLeaderboardMemory(e, t, o, n)),
                  v(r);
              }
            });
          }),
          (t.saveConfig = function (e) {
            return s(this, void 0, void 0, function* () {
              if (
                null === p.Auth || void 0 === p.Auth
                  ? void 0
                  : p.Auth.currentUser
              ) {
                const t = yield u.default.configs.save(e);
                200 !== t.status &&
                  l.add("Failed to save config: " + t.message, -1);
              }
            });
          }),
          (t.saveLocalResult = function (e) {
            const t = g();
            t &&
              null !== t &&
              void 0 !== t.results &&
              (t.results.unshift(e), v(t));
          }),
          (t.updateLocalStats = function (e, t) {
            const o = g();
            o &&
              (void 0 === o.typingStats && (o.typingStats = {}),
              null !== o &&
                void 0 !== o.typingStats &&
                (null == o.typingStats.timeTyping
                  ? (o.typingStats.timeTyping = t)
                  : (o.typingStats.timeTyping += t),
                null == o.typingStats.startedTests
                  ? (o.typingStats.startedTests = e)
                  : (o.typingStats.startedTests += e),
                null == o.typingStats.completedTests
                  ? (o.typingStats.completedTests = 1)
                  : (o.typingStats.completedTests += 1)),
              v(o));
          }),
          (t.addXp = function (e) {
            const t = g();
            t && (void 0 === t.xp && (t.xp = 0), (t.xp += e), v(t));
          }),
          (t.addBadge = function (e) {
            const t = g();
            t &&
              (void 0 === t.inventory && (t.inventory = { badges: [] }),
              t.inventory.badges.push(e),
              v(t));
          }),
          (t.setStreak = function (e) {
            const t = g();
            t &&
              ((t.streak = e),
              t.streak > t.maxStreak && (t.maxStreak = t.streak),
              v(t));
          });
      },
      5344: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateXpBar = t.update = t.loading = t.skipXpBreakdown = void 0);
        const r = o(6350),
          u = o(6617),
          l = i(o(3388)),
          d = o(4203),
          c = i(o(210));
        let p = !1,
          f = !1;
        function h() {
          return s(this, void 0, void 0, function* () {
            const e = yield (0, d.getAll)(),
              t = $("#menu .level");
            t.text(parseInt(t.text()) + 1);
            const o = 2 * Math.random() - 1,
              n = Math.random() + 1;
            t.stop(!0, !0)
              .css({ backgroundColor: e.main, borderSpacing: 100 })
              .animate(
                { backgroundColor: e.sub, borderSpacing: 0 },
                {
                  step(e) {
                    t.css(
                      "transform",
                      `scale(${1 + (e / 200) * n}) rotate(${(e / 10) * o}deg)`
                    );
                  },
                  duration: 2e3,
                  easing: "easeOutCubic",
                  complete: () => {
                    t.css("background-color", "");
                  },
                }
              );
          });
        }
        (t.skipXpBreakdown = function () {
          f = !0;
        }),
          (t.loading = function (e) {
            e
              ? ($("#top #menu .account")
                  .css("opacity", 1)
                  .css("pointer-events", "none"),
                p
                  ? ($("#top #menu .account .loading")
                      .css("opacity", 1)
                      .removeClass("hidden"),
                    $("#top #menu .account .avatar")
                      .stop(!0, !0)
                      .css({ opacity: 1 })
                      .animate({ opacity: 0 }, 100, () => {
                        $("#top #menu .account .avatar").addClass("hidden");
                      }))
                  : ($("#top #menu .account .loading")
                      .stop(!0, !0)
                      .removeClass("hidden")
                      .css({ opacity: 0 })
                      .animate({ opacity: 1 }, 100),
                    $("#top #menu .account .user")
                      .stop(!0, !0)
                      .css({ opacity: 1 })
                      .animate({ opacity: 0 }, 100, () => {
                        $("#top #menu .account .user").addClass("hidden");
                      })))
              : ($("#top #menu .account")
                  .css("opacity", 1)
                  .css("pointer-events", "auto"),
                p
                  ? ($("#top #menu .account .loading")
                      .css("opacity", 1)
                      .addClass("hidden"),
                    $("#top #menu .account .avatar")
                      .stop(!0, !0)
                      .removeClass("hidden")
                      .css({ opacity: 0 })
                      .animate({ opacity: 1 }, 100))
                  : ($("#top #menu .account .loading")
                      .stop(!0, !0)
                      .css({ opacity: 1 })
                      .animate({ opacity: 0 }, 100, () => {
                        $("#top #menu .account .loading").addClass("hidden");
                      }),
                    $("#top #menu .account .user")
                      .stop(!0, !0)
                      .removeClass("hidden")
                      .css({ opacity: 0 })
                      .animate({ opacity: 1 }, 100)));
          }),
          (t.update = function (e, t, o) {
            return s(this, void 0, void 0, function* () {
              if (
                null === u.Auth || void 0 === u.Auth
                  ? void 0
                  : u.Auth.currentUser
              ) {
                if (
                  (void 0 !== e &&
                    ($("#top #menu .level").text(Math.floor(l.getLevel(e))),
                    $("#top #menu .bar").css({
                      width: (l.getLevel(e) % 1) * 100 + "%",
                    })),
                  o && t)
                ) {
                  const e = yield l.getDiscordAvatarUrl(t, o);
                  e &&
                    ($("#top #menu .account .avatar").css(
                      "background-image",
                      `url(${e})`
                    ),
                    (p = !0),
                    $("#top #menu .account .user").addClass("hidden"),
                    $("#top #menu .account .avatar").removeClass("hidden"));
                } else
                  $("#top #menu .account .avatar").addClass("hidden"),
                    $("#top #menu .account .user").removeClass("hidden");
                $("#menu .textButton.account")
                  .removeClass("hidden")
                  .css({ opacity: 0 })
                  .animate({ opacity: 1 }, 125);
              } else
                $("#menu .textButton.account")
                  .css({ opacity: 1 })
                  .animate({ opacity: 0 }, 125, () => {
                    $("#menu .textButton.account").addClass("hidden");
                  });
            });
          }),
          (t.updateXpBar = function (e, t, o) {
            return s(this, void 0, void 0, function* () {
              f = !1;
              const n = l.getLevel(e),
                a = l.getLevel(e + t),
                i = (0, r.getSnapshot)();
              if (!i) return;
              if (f)
                return (
                  $("#menu .level").text(Math.floor(l.getLevel(i.xp))),
                  void $("#menu .xpBar")
                    .stop(!0, !0)
                    .css("opacity", 1)
                    .animate({ opacity: 0 }, c.get() ? 0 : 250, () => {
                      $("#menu .xpBar .xpGain").text("");
                    })
                );
              const u = (function (e, t) {
                  return s(this, void 0, void 0, function* () {
                    const o = t - e;
                    $("#menu .xpBar").stop(!0, !0).css("opacity", 0),
                      yield l.promiseAnimation(
                        $("#menu .xpBar"),
                        { opacity: "1" },
                        c.get() ? 0 : 250,
                        "linear"
                      );
                    const n = $("#menu .xpBar .bar");
                    if ((n.css("width", (e % 1) * 100 + "%"), t % 1 == 0))
                      yield l.promiseAnimation(
                        n,
                        { width: "100%" },
                        c.get() ? 0 : 1e3,
                        "easeOutExpo"
                      ),
                        h(),
                        n.css("width", "0%");
                    else if (Math.floor(e) === Math.floor(t))
                      yield l.promiseAnimation(
                        n,
                        { width: (t % 1) * 100 + "%" },
                        c.get() ? 0 : 1e3,
                        "easeOutExpo"
                      );
                    else {
                      const e = Math.min(1e3 / o, 200);
                      let t = o,
                        a = !1;
                      for (; t > 1; )
                        t - 1 < 1
                          ? (a && (h(), n.css("width", "0%")),
                            yield l.promiseAnimation(
                              n,
                              { width: "100%" },
                              c.get() ? 0 : l.mapRange(t - 1, 0, 0.5, 1e3, 200),
                              "easeOutQuad"
                            ),
                            t--)
                          : (a && (h(), n.css("width", "0%")),
                            yield l.promiseAnimation(
                              n,
                              { width: "100%" },
                              c.get() ? 0 : e,
                              "linear"
                            ),
                            t--),
                          (a = !0);
                      h(),
                        n.css("width", "0%"),
                        yield l.promiseAnimation(
                          n,
                          { width: (t % 1) * 100 + "%" },
                          c.get() ? 0 : 1e3,
                          "easeOutExpo"
                        );
                    }
                  });
                })(n, a),
                d = (function (e, t) {
                  return s(this, void 0, void 0, function* () {
                    if (!t) return void $("#menu .xpBar .xpGain").text(`+${e}`);
                    const o = 1e3;
                    let n = 0;
                    const a = $("#menu .xpBar .xpGain"),
                      i = $("#menu .xpBar .xpBreakdown");
                    function r(t) {
                      return s(this, void 0, void 0, function* () {
                        f && ((n = e), (t = "")),
                          i
                            .find(".next")
                            .removeClass("next")
                            .addClass("previous"),
                          i.append(
                            `<div class='text next' style="opacity: 0; margin-top: 1rem;">${t}</div>`
                          );
                        const o = i.find(".previous");
                        o.animate(
                          { marginTop: "-1rem", opacity: 0 },
                          c.get() ? 0 : 250,
                          () => {
                            o.remove();
                          }
                        ),
                          setTimeout(() => {
                            a.stop(!0, !0)
                              .text(`+${n}`)
                              .css({ borderSpacing: 100 })
                              .animate(
                                { borderSpacing: 0 },
                                {
                                  step(e) {
                                    a.css(
                                      "transform",
                                      `scale(${1 + e / 300}) translateY(-50%)`
                                    );
                                  },
                                  duration: c.get() ? 0 : 250,
                                  easing: "swing",
                                }
                              );
                          }, 125),
                          yield l.promiseAnimation(
                            i.find(".next"),
                            { opacity: "1", marginTop: "0" },
                            c.get() ? 0 : 250,
                            "swing"
                          );
                      });
                    }
                    i.empty(),
                      a.text("+0"),
                      i.append(
                        `<div class='text next'>time typing +${t.base}</div>`
                      ),
                      (n += t.base),
                      t["100%"]
                        ? (yield l.sleep(o),
                          yield r(`perfect +${t["100%"]}`),
                          (n += t["100%"]))
                        : t.corrected &&
                          (yield l.sleep(o),
                          yield r(`clean +${t.corrected}`),
                          (n += t.corrected)),
                      f ||
                        (t.quote
                          ? (yield l.sleep(o),
                            yield r(`quote +${t.quote}`),
                            (n += t.quote))
                          : (t.punctuation &&
                              (yield l.sleep(o),
                              yield r(`punctuation +${t.punctuation}`),
                              (n += t.punctuation)),
                            t.numbers &&
                              (yield l.sleep(o),
                              yield r(`numbers +${t.numbers}`),
                              (n += t.numbers))),
                        f ||
                          (t.streak &&
                            (yield l.sleep(o),
                            yield r(`streak +${t.streak}`),
                            (n += t.streak)),
                          f ||
                            (t.accPenalty &&
                              (yield l.sleep(o),
                              yield r(`accuracy penalty -${t.accPenalty}`),
                              (n -= t.accPenalty)),
                            f ||
                              (t.incomplete &&
                                (yield l.sleep(o),
                                yield r(`incomplete tests +${t.incomplete}`),
                                (n += t.incomplete)),
                              f ||
                                (t.configMultiplier &&
                                  (yield l.sleep(o),
                                  yield r(
                                    `global multiplier x${t.configMultiplier}`
                                  ),
                                  (n *= t.configMultiplier)),
                                f ||
                                  (t.daily &&
                                    (yield l.sleep(o),
                                    yield r(`daily bonus +${t.daily}`),
                                    (n += t.daily)),
                                  f || (yield l.sleep(o), yield r(""))))))));
                  });
                })(t, o);
              yield Promise.all([u, d]),
                yield l.sleep(2e3),
                $("#menu .level").text(Math.floor(l.getLevel(i.xp))),
                $("#menu .xpBar")
                  .stop(!0, !0)
                  .css("opacity", 1)
                  .animate({ opacity: 0 }, c.get() ? 0 : 250, () => {
                    $("#menu .xpBar .xpGain").text("");
                  });
            });
          });
      },
      6001: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setNotificationBubbleVisible =
            t.addPSA =
            t.show =
            t.hide =
              void 0);
        const u = r(o(1715)),
          l = r(o(7355)),
          d = o(6617),
          c = i(o(5344)),
          p = i(o(6350)),
          f = i(o(8766)),
          h = i(o(7401)),
          m = i(o(3368)),
          g = i(o(3285)),
          v = o(3388);
        let y = [],
          b = 0,
          w = [],
          C = [];
        function _() {
          if (!$("#alertsPopupWrapper").hasClass("hidden")) {
            let e;
            P(!1);
            const t = new Promise((t) => {
                e = t;
              }),
              o = [];
            let n = 0;
            (w.length > 0 || C.length > 0) &&
              l.default.users
                .updateInbox({
                  mailIdsToMarkRead: w.length > 0 ? w : void 0,
                  mailIdsToDelete: C.length > 0 ? C : void 0,
                })
                .then((t) =>
                  s(this, void 0, void 0, function* () {
                    const a = (yield t).status,
                      i = (yield t).message;
                    if (200 === a) {
                      {
                        const e = y
                          .filter(
                            (e) => e.rewards.length > 0 && w.includes(e.id)
                          )
                          .map((e) => e.rewards)
                          .reduce(function (e, t) {
                            return e.concat(t);
                          }, []);
                        for (const t of e)
                          if ("xp" === t.type) n += t.item;
                          else if ("badge" === t.type) {
                            const e = h.getById(t.item.id);
                            o.push(e.name), p.addBadge(t.item);
                          }
                      }
                      e();
                    } else m.add(`Failed to update inbox: ${i}`, -1);
                  })
                ),
              $("#alertsPopup").animate(
                { marginRight: "-10rem" },
                100,
                "easeInCubic"
              ),
              $("#alertsPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate({ opacity: 0 }, 100, () => {
                  t.then(() => {
                    var e, t;
                    if (
                      (o.length > 0 &&
                        m.add(
                          `New badge${
                            o.length > 1 ? "s" : ""
                          } unlocked: ${o.join(", ")}`,
                          1,
                          5,
                          "Reward",
                          "gift"
                        ),
                      n > 0)
                    ) {
                      const o =
                        null !==
                          (t =
                            null === (e = p.getSnapshot()) || void 0 === e
                              ? void 0
                              : e.xp) && void 0 !== t
                          ? t
                          : 0;
                      c.updateXpBar(o, n), p.addXp(n);
                    }
                  }),
                    $("#alertsPopupWrapper").addClass("hidden");
                });
          }
        }
        function S() {
          return s(this, void 0, void 0, function* () {
            $("#alertsPopupWrapper").hasClass("hidden") &&
              ($("#alertsPopup")
                .css("marginRight", "-10rem")
                .animate({ marginRight: 0 }, 100, "easeOutCubic"),
              (
                null === d.Auth || void 0 === d.Auth
                  ? void 0
                  : d.Auth.currentUser
              )
                ? ($("#alertsPopup .accountAlerts").removeClass("hidden"),
                  $("#alertsPopup .separator.accountSeparator").removeClass(
                    "hidden"
                  ),
                  $("#alertsPopup .accountAlerts .list").html(
                    '\n        <div class="preloader"><i class="fas fa-fw fa-spin fa-circle-notch"></i></div>'
                  ))
                : ($("#alertsPopup .accountAlerts").addClass("hidden"),
                  $("#alertsPopup .separator.accountSeparator").addClass(
                    "hidden"
                  )),
              (y = []),
              (C = []),
              (w = []),
              $("#alertsPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 100, () => {
                  (null === d.Auth || void 0 === d.Auth
                    ? void 0
                    : d.Auth.currentUser) &&
                    (function () {
                      s(this, void 0, void 0, function* () {
                        if (
                          ($("#alertsPopup .accountAlerts .list").empty(),
                          !g.get())
                        )
                          return void $(
                            "#alertsPopup .accountAlerts .list"
                          ).html(
                            '\n    <div class="nothing">\n    You are offline\n    </div>\n    '
                          );
                        const e = yield l.default.users.getInbox();
                        if (503 === e.status)
                          return void $(
                            "#alertsPopup .accountAlerts .list"
                          ).html(
                            '\n    <div class="nothing">\n    Account inboxes are temporarily unavailable\n    </div>\n    '
                          );
                        if (200 !== e.status)
                          return void $(
                            "#alertsPopup .accountAlerts .list"
                          ).html(
                            `\n    <div class="nothing">\n    Error getting inbox: ${e.message} Please try again later\n    </div>\n    `
                          );
                        const t = e.data;
                        if (((y = t.inbox), O(), 0 !== y.length)) {
                          (b = t.maxMail), x();
                          for (const e of y) {
                            e.read || 0 != e.rewards.length || w.push(e.id);
                            let t = "";
                            e.rewards.length > 0 &&
                              !1 === e.read &&
                              (t = `<div class="rewards">\n        <i class="fas fa-fw fa-gift"></i>\n        <span>${e.rewards.length}</span>\n      </div>`),
                              $("#alertsPopup .accountAlerts .list").append(
                                `\n    \n      <div class="item" data-id="${
                                  e.id
                                }">\n        <div class="indicator ${
                                  e.read ? "" : "main"
                                }"></div>\n        <div class="timestamp">${(0,
                                u.default)(
                                  new Date(e.timestamp)
                                )} ago</div>\n        <div class="title">${
                                  e.subject
                                }</div>\n        <div class="body">\n          ${
                                  e.body
                                }\n\n${t}\n        </div>\n        <div class="buttons">\n          ${
                                  e.rewards.length > 0 && !1 === e.read
                                    ? '<div class="markReadAlert textButton" aria-label="Claim" data-balloon-pos="left"><i class="fas fa-gift"></i></div>'
                                    : ""
                                }\n          ${
                                  (e.rewards.length > 0 && !0 === e.read) ||
                                  0 == e.rewards.length
                                    ? '<div class="deleteAlert textButton" aria-label="Delete" data-balloon-pos="left"><i class="fas fa-trash"></i></div>'
                                    : ""
                                }\n        </div>\n      </div>\n    \n    `
                              );
                          }
                        } else $("#alertsPopup .accountAlerts .list").html('\n    <div class="nothing">\n    Nothing to show\n    </div>\n    ');
                      });
                    })();
                }));
          });
        }
        function P(e) {
          e
            ? $("#top #menu .showAlerts .notificationBubble").removeClass(
                "hidden"
              )
            : $("#top #menu .showAlerts .notificationBubble").addClass(
                "hidden"
              );
        }
        function x() {
          $("#alertsPopup .accountAlerts .title .right").text(
            `${y.length}/${b}`
          );
        }
        function k(e) {
          C.push(e),
            $(
              `#alertsPopup .accountAlerts .list .item[data-id="${e}"]`
            ).remove(),
            0 == $("#alertsPopup .accountAlerts .list .item").length &&
              $("#alertsPopup .accountAlerts .list").html(
                '\n    <div class="nothing">\n    Nothing to show\n    </div>\n    '
              ),
            O(),
            x();
        }
        function T(e) {
          w.push(e);
          const t = $(
            `#alertsPopup .accountAlerts .list .item[data-id="${e}"]`
          );
          O(),
            t.find(".indicator").removeClass("main"),
            t.find(".buttons").empty(),
            t
              .find(".buttons")
              .append(
                '<div class="deleteAlert textButton" aria-label="Delete" data-balloon-pos="left"><i class="fas fa-trash"></i></div>'
              ),
            t
              .find(".rewards")
              .animate(
                { opacity: 0, height: 0, marginTop: 0 },
                250,
                "easeOutCubic",
                () => {
                  t.find(".rewards").remove();
                }
              );
        }
        function O() {
          const e = $("#alertsPopup .accountAlerts .claimAll"),
            t = $("#alertsPopup .accountAlerts .deleteAll");
          if ((e.addClass("hidden"), t.addClass("hidden"), y.length > 0)) {
            let o = 0;
            for (const e of y)
              !1 !== e.read || w.includes(e.id) || (o += e.rewards.length);
            o > 0 ? e.removeClass("hidden") : t.removeClass("hidden");
          }
          C.length === y.length && t.addClass("hidden");
        }
        (t.hide = _),
          (t.show = S),
          (t.addPSA = function (e, t) {
            $("#alertsPopup .psas .list .nothing").length > 0 &&
              $("#alertsPopup .psas .list").empty();
            let o = "";
            -1 === t
              ? (o = "error")
              : 1 === t
              ? (o = "main")
              : 0 === t && (o = "sub"),
              $("#alertsPopup .psas .list").prepend(
                `\n    <div class="item">\n    <div class="indicator ${o}"></div>\n    <div class="body">\n      ${(0,
                v.escapeHTML)(e)}\n    </div>\n  </div>\n  `
              );
          }),
          (t.setNotificationBubbleVisible = P),
          $("#alertsPopup .accountAlerts").on("click", ".claimAll", () => {
            for (const e of y) !1 !== e.read || w.includes(e.id) || T(e.id);
          }),
          $("#alertsPopup .accountAlerts").on("click", ".deleteAll", () => {
            for (const e of y) C.includes(e.id) || k(e.id);
          }),
          $("#top #menu .showAlerts").on("click", () => {
            S();
          }),
          $("#alertsPopupWrapper").on("mousedown", (e) => {
            "alertsPopupWrapper" === $(e.target).attr("id") && _();
          }),
          $("#alertsPopup .mobileClose").on("click", () => {
            _();
          }),
          $("#alertsPopup .accountAlerts .list").on(
            "click",
            ".item .buttons .deleteAlert",
            (e) => {
              k($(e.currentTarget).closest(".item").attr("data-id"));
            }
          ),
          $("#alertsPopup .accountAlerts .list").on(
            "click",
            ".item .buttons .markReadAlert",
            (e) => {
              T($(e.currentTarget).closest(".item").attr("data-id"));
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#alertsPopupWrapper").hasClass("hidden") ||
              _();
          }),
          f.subscribe((e, t, o) => {
            !(function (e, t, o) {
              $("#alertsPopup .notificationHistory .list .nothing").length >
                0 && $("#alertsPopup .notificationHistory .list").empty();
              let n = "Notice",
                a = "sub";
              -1 === t
                ? ((a = "error"), (n = "Error"))
                : 1 === t && ((a = "main"), (n = "Success")),
                o && (n = o),
                $("#alertsPopup .notificationHistory .list").prepend(
                  `\n    <div class="item">\n    <div class="indicator ${a}"></div>\n    <div class="title">${n}</div>\n    <div class="body">\n      ${(0,
                  v.escapeHTML)(e)}\n    </div>\n  </div>\n  `
                ),
                $("#alertsPopup .notificationHistory .list").length > 25 &&
                  $(
                    "#alertsPopup .notificationHistory .list .item:last"
                  ).remove();
            })(e, t, o);
          });
      },
      2183: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.loadConfig = t.apply = t.getCSS = void 0);
        const r = i(o(6705)),
          u = i(o(1446)),
          l = o(2189),
          d = {
            blur: { value: 0, default: 0 },
            brightness: { value: 1, default: 1 },
            saturate: { value: 1, default: 1 },
            opacity: { value: 1, default: 1 },
          };
        function c() {
          let e = "";
          return (
            Object.keys(d).forEach((t) => {
              const o = t;
              d[o].value != d[o].default &&
                (e += `${t}(${d[o].value}${"blur" == t ? "rem" : ""}) `);
            }),
            e
          );
        }
        function p() {
          const e = {
            filter: c(),
            width: `calc(100% + ${4 * d.blur.value}rem)`,
            height: `calc(100% + ${4 * d.blur.value}rem)`,
            left: `-${2 * d.blur.value}rem`,
            top: `-${2 * d.blur.value}rem`,
            position: "absolute",
          };
          $(".customBackground img").css(e);
        }
        function f() {
          $(".section.customBackgroundFilter .blur .value").html(
            d.blur.value.toFixed(1)
          ),
            $(".section.customBackgroundFilter .brightness .value").html(
              d.brightness.value.toFixed(1)
            ),
            $(".section.customBackgroundFilter .saturate .value").html(
              d.saturate.value.toFixed(1)
            ),
            $(".section.customBackgroundFilter .opacity .value").html(
              d.opacity.value.toFixed(1)
            );
        }
        function h(e) {
          (d.blur.value = e[0]),
            (d.brightness.value = e[1]),
            (d.saturate.value = e[2]),
            (d.opacity.value = e[3]),
            f(),
            $(".section.customBackgroundFilter .blur input").val(d.blur.value),
            $(".section.customBackgroundFilter .brightness input").val(
              d.brightness.value
            ),
            $(".section.customBackgroundFilter .saturate input").val(
              d.saturate.value
            ),
            $(".section.customBackgroundFilter .opacity input").val(
              d.opacity.value
            );
        }
        (t.getCSS = c),
          (t.apply = p),
          (t.loadConfig = h),
          $(".section.customBackgroundFilter .blur input").on("input", () => {
            (d.blur.value = parseFloat(
              $(".section.customBackgroundFilter .blur input").val()
            )),
              f(),
              p();
          }),
          $(".section.customBackgroundFilter .brightness input").on(
            "input",
            () => {
              (d.brightness.value = parseFloat(
                $(".section.customBackgroundFilter .brightness input").val()
              )),
                f(),
                p();
            }
          ),
          $(".section.customBackgroundFilter .saturate input").on(
            "input",
            () => {
              (d.saturate.value = parseFloat(
                $(".section.customBackgroundFilter .saturate input").val()
              )),
                f(),
                p();
            }
          ),
          $(".section.customBackgroundFilter .opacity input").on(
            "input",
            () => {
              (d.opacity.value = parseFloat(
                $(".section.customBackgroundFilter .opacity input").val()
              )),
                f(),
                p();
            }
          ),
          $(".section.customBackgroundFilter input").on("input", () => {
            m();
          });
        const m = (0, l.debounce)(2e3, () =>
          s(void 0, void 0, void 0, function* () {
            const e = Object.keys(d).map((e) => d[e].value);
            r.setCustomBackgroundFilter(e, !1);
          })
        );
        u.subscribe((e, t) => {
          "customBackgroundFilter" === e &&
            (h(t.map((e) => parseFloat(e))), p());
        });
      },
      5817: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.InputIndicator = void 0),
          (t.InputIndicator = class {
            constructor(e, t) {
              var o, n;
              (this.inputElement = e),
                $(this.inputElement).wrap(
                  '<div class="inputAndIndicator"></div>'
                ),
                (this.parentElement = $(this.inputElement).parent(
                  ".inputAndIndicator"
                )),
                (this.options = t),
                (this.currentStatus = null);
              let a = '<div class="statusIndicator">';
              for (const [e, i] of Object.entries(t))
                a += `\n      <div\n        class="indicator level${
                  i.level
                } hidden"\n        data-option-id="${e}"\n        \n        ${
                  (null !==
                    (n =
                      null === (o = i.message) || void 0 === o
                        ? void 0
                        : o.length) && void 0 !== n
                    ? n
                    : 0) > 27
                    ? 'data-balloon-length="large"'
                    : ""
                }\n        data-balloon-pos="up"\n        ${
                  i.message ? `aria-label="${i.message}"` : ""
                }\n      >\n        <i class="fas fa-fw ${i.icon} ${
                  i.spinIcon ? "fa-spin" : ""
                }"></i>\n      </div>\n      `;
              (a += "</div>"), this.parentElement.append(a);
            }
            hide() {
              this.parentElement
                .find(".statusIndicator div")
                .addClass("hidden"),
                (this.currentStatus = null),
                $(this.inputElement).css("padding-right", "0.5em");
            }
            show(e, t) {
              this.hide(), (this.currentStatus = e);
              const o = this.parentElement.find(`[data-option-id="${e}"]`);
              o.removeClass("hidden"),
                t &&
                  (t.length > 20
                    ? o.attr("data-balloon-length", "large")
                    : o.removeAttr("data-balloon-length"),
                  o.attr("aria-label", t)),
                $(this.inputElement).css("padding-right", "2.1em");
            }
            get() {
              return this.currentStatus;
            }
          });
      },
      2148: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.refresh = t.show = t.hide = t.flashKey = t.highlightKey = void 0);
        const u = r(o(6705)),
          l = i(o(4203)),
          d = i(o(210)),
          c = i(o(1446)),
          p = i(o(3388)),
          f = i(o(6943)),
          h = i(o(3368)),
          m = i(o(7346));
        function g(e = u.default.layout) {
          return s(this, void 0, void 0, function* () {
            if ("off" !== u.default.keymapMode && "test" === m.get() && e)
              try {
                let t;
                try {
                  t = yield p.getLayoutsList();
                } catch (e) {
                  return void h.add(
                    p.createErrorMessage(e, "Failed to refresh keymap"),
                    -1
                  );
                }
                let o = t[e],
                  n = e;
                "overrideSync" === u.default.keymapLayout
                  ? "default" === u.default.layout
                    ? ((o = t.qwerty), (n = "default"))
                    : ((o = t[u.default.layout]), (n = u.default.layout))
                  : ((o = t[u.default.keymapLayout]),
                    (n = u.default.keymapLayout));
                const a =
                    "always" === u.default.keymapShowTopRow ||
                    (o.keymapShowTopRow &&
                      "never" !== u.default.keymapShowTopRow),
                  i =
                    "matrix" === u.default.keymapStyle ||
                    "split_matrix" === u.default.keymapStyle;
                let s = "";
                Object.keys(o.keys).forEach((e, t) => {
                  let r = o.keys[e];
                  "row1" !== e ||
                    (!i && "staggered" !== u.default.keymapStyle) ||
                    (r = r.slice(1));
                  let l = "";
                  if ("row1" !== e || a) {
                    if (
                      (("row2" !== e && "row3" !== e && "row4" !== e) ||
                        i ||
                        (l += "<div></div>"),
                      "row4" !== e ||
                        "iso" === o.type ||
                        i ||
                        (l += "<div></div>"),
                      "row5" === e)
                    ) {
                      const e = n.replace(/_/g, " ");
                      let t = "";
                      "blank" === u.default.keymapLegendStyle &&
                        (t = 'style="display: none;"'),
                        (l += "<div></div>"),
                        (l += `<div class="keymapKey keySpace">\n          <div class="letter" ${t}>${e}</div>\n        </div>`),
                        (l += '<div class="keymapSplitSpacer"></div>'),
                        (l +=
                          '<div class="keymapKey keySplitSpace">\n          <div class="letter"></div>\n        </div>');
                    } else
                      for (let t = 0; t < r.length; t++) {
                        if ("row2" === e && 12 === t) continue;
                        if (
                          ("matrix" === u.default.keymapStyle ||
                            "split_matrix" === u.default.keymapStyle) &&
                          t >= 10
                        )
                          continue;
                        const n = r[t],
                          a = "row3" === e && (3 === t || 6 === t);
                        let s = n[0],
                          d = "";
                        "blank" === u.default.keymapLegendStyle
                          ? (d = 'style="display: none;"')
                          : "uppercase" === u.default.keymapLegendStyle &&
                            (s = s.toUpperCase());
                        let c = "";
                        "row1" !== e ||
                          0 !== t ||
                          i ||
                          "staggered" === u.default.keymapStyle ||
                          (c = " invisible");
                        const p = `<div class="keymapKey${c}" data-key="${n.replace(
                          '"',
                          "&quot;"
                        )}">\n              <span class="letter" ${d}>${s}</span>\n              ${
                          a ? "<div class='bump'></div>" : ""
                        }\n          </div>`;
                        let f = "";
                        ("split" !== u.default.keymapStyle &&
                          "split_matrix" !== u.default.keymapStyle &&
                          "alice" !== u.default.keymapStyle) ||
                          ("row4" !== e ||
                          ("split" !== u.default.keymapStyle &&
                            "alice" !== u.default.keymapStyle) ||
                          "iso" !== o.type
                            ? "row1" !== e ||
                              ("split" !== u.default.keymapStyle &&
                                "alice" !== u.default.keymapStyle)
                              ? 5 === t &&
                                (f += '<div class="keymapSplitSpacer"></div>')
                              : 7 === t &&
                                (f += '<div class="keymapSplitSpacer"></div>')
                            : 6 === t &&
                              (f += '<div class="keymapSplitSpacer"></div>')),
                          "alice" === u.default.keymapStyle &&
                            "row4" === e &&
                            (("iso" === o.type && 6 === t) ||
                              ("iso" !== o.type && 5 === t)) &&
                            (f +=
                              '<div class="extraKey"><span class="letter"></span></div>'),
                          (l += f + p);
                      }
                    s += `<div class="row r${t + 1}">${l}</div>`;
                  }
                }),
                  $("#keymap").html(s),
                  $("#keymap").removeClass("staggered"),
                  $("#keymap").removeClass("matrix"),
                  $("#keymap").removeClass("split"),
                  $("#keymap").removeClass("split_matrix"),
                  $("#keymap").removeClass("alice"),
                  $("#keymap").addClass(u.default.keymapStyle);
              } catch (e) {
                e instanceof Error &&
                  console.log(
                    "something went wrong when changing layout, resettings: " +
                      e.message
                  );
              }
          });
        }
        (t.highlightKey = function (e) {
          if ("zen" !== u.default.mode) {
            "" === e && (e = " ");
            try {
              let t;
              null != $(".activeKey") &&
                $(".activeKey").removeClass("activeKey"),
                u.default.language.startsWith("korean") &&
                  (e = f.disassemble(e)[0]),
                (t =
                  " " == e
                    ? "#keymap .keySpace, #keymap .keySplitSpace"
                    : '"' == e
                    ? `#keymap .keymapKey[data-key*='${e}']`
                    : `#keymap .keymapKey[data-key*="${e}"]`),
                $(t).addClass("activeKey");
            } catch (e) {
              e instanceof Error &&
                console.log(
                  "could not update highlighted keymap key: " + e.message
                );
            }
          }
        }),
          (t.flashKey = function (e, t) {
            return s(this, void 0, void 0, function* () {
              if (null == e) return;
              e =
                " " == e
                  ? "#keymap .keySpace, #keymap .keySplitSpace"
                  : '"' == e
                  ? `#keymap .keymapKey[data-key*='${e}']`
                  : `#keymap .keymapKey[data-key*="${e}"]`;
              const o = yield l.getAll();
              try {
                t || u.default.blindMode
                  ? $(e)
                      .stop(!0, !0)
                      .css({
                        color: o.bg,
                        backgroundColor: o.main,
                        borderColor: o.main,
                      })
                      .animate(
                        {
                          color: o.sub,
                          backgroundColor: "transparent",
                          borderColor: o.sub,
                        },
                        d.get() ? 0 : 500,
                        "easeOutExpo"
                      )
                  : $(e)
                      .stop(!0, !0)
                      .css({
                        color: o.bg,
                        backgroundColor: o.error,
                        borderColor: o.error,
                      })
                      .animate(
                        {
                          color: o.sub,
                          backgroundColor: "transparent",
                          borderColor: o.sub,
                        },
                        d.get() ? 0 : 500,
                        "easeOutExpo"
                      );
              } catch (e) {}
            });
          }),
          (t.hide = function () {
            $("#keymap").addClass("hidden");
          }),
          (t.show = function () {
            $("#keymap").removeClass("hidden");
          }),
          (t.refresh = g),
          c.subscribe((e) => {
            "layout" === e &&
              "overrideSync" === u.default.keymapLayout &&
              g(u.default.keymapLayout),
              ("keymapLayout" !== e &&
                "keymapStyle" !== e &&
                "keymapShowTopRow" !== e &&
                "keymapMode" !== e) ||
                g();
          });
      },
      7274: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getAcc = t.getWPM = t.update = void 0);
        const u = i(o(6350)),
          l = i(o(3388)),
          d = r(o(6705)),
          c = i(o(9470));
        let p = 0,
          f = 0;
        (t.update = function () {
          return s(this, void 0, void 0, function* () {
            const e = l.getMode2(d.default, c.randomQuote),
              [t, o] = (yield u.getUserAverage10(
                d.default.mode,
                e,
                d.default.punctuation,
                d.default.language,
                d.default.difficulty,
                d.default.lazyMode
              )).map(l.roundTo2);
            (p = d.default.alwaysShowDecimalPlaces ? t : Math.round(t)),
              (f = d.default.alwaysShowDecimalPlaces ? o : Math.floor(o));
          });
        }),
          (t.getWPM = function () {
            return p;
          }),
          (t.getAcc = function () {
            return f;
          });
      },
      41: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = t.hide = void 0);
        const u = r(o(7355)),
          l = i(o(6350)),
          d = r(o(6705)),
          c = i(o(3388)),
          p = i(o(3368)),
          f = r(o(9546)),
          h = o(6617),
          m = r(o(1699)),
          g = o(7401),
          v = i(o(3285));
        let y = "allTime",
          b = "english",
          w = !1,
          C = { 15: [], 60: [] },
          _ = { 15: {}, 60: {} };
        const S = { 15: !1, 60: !1 };
        let P;
        function x(e) {
          15 === e
            ? $("#leaderboardsWrapper table.left tbody").empty()
            : 60 === e && $("#leaderboardsWrapper table.right tbody").empty();
        }
        function k(e) {
          15 === e
            ? $("#leaderboardsWrapper table.left tfoot").empty()
            : 60 === e && $("#leaderboardsWrapper table.right tfoot").empty();
        }
        function T() {
          if ("daily" === y) {
            const e = new Date();
            e.setUTCHours(0, 0, 0, 0), e.setDate(e.getDate() + 1);
            const t = new Date();
            t.setUTCMilliseconds(0);
            const o = (0, m.default)(e, t);
            $("#leaderboards .subTitle").text(
              "Next reset in: " + c.secondsToString(o, !0)
            );
          } else {
            const e = new Date(),
              t = 60 * (14 - (e.getMinutes() % 15)) + (60 - e.getSeconds());
            $("#leaderboards .subTitle").text(
              "Next update in: " + c.secondsToString(t, !0)
            );
          }
        }
        function O(e) {
          15 === e
            ? $("#leaderboardsWrapper .leftTableLoader").removeClass("hidden")
            : 60 === e &&
              $("#leaderboardsWrapper .rightTableLoader").removeClass("hidden");
        }
        function M(e) {
          15 === e
            ? $("#leaderboardsWrapper .leftTableLoader").addClass("hidden")
            : 60 === e &&
              $("#leaderboardsWrapper .rightTableLoader").addClass("hidden");
        }
        function A(e, t) {
          var o;
          return s(this, void 0, void 0, function* () {
            if (!C[e]) return;
            let n;
            (n = 15 === e ? "left" : "right"),
              0 === C[e].length &&
                $(`#leaderboardsWrapper table.${n} tbody`).html(
                  "<tr><td colspan='7'>No results found</td></tr>"
                );
            const a =
                null === (o = l.getSnapshot()) || void 0 === o
                  ? void 0
                  : o.name,
              i = l.getSnapshot(),
              r = C[e].map((e) =>
                s(this, void 0, void 0, function* () {
                  const t =
                      (null === h.Auth || void 0 === h.Auth
                        ? void 0
                        : h.Auth.currentUser) &&
                      e.uid ===
                        (null === h.Auth || void 0 === h.Auth
                          ? void 0
                          : h.Auth.currentUser.uid) &&
                      i &&
                      i.discordAvatar &&
                      i.discordId,
                    o = e.discordAvatar && e.discordId,
                    n = (t && i) || (o && e) || {};
                  return c.getDiscordAvatarUrl(n.discordId, n.discordAvatar);
                })
              ),
              u = (yield Promise.allSettled(r)).map((e) =>
                "fulfilled" === e.status ? e.value : null
              );
            let p = C[e].length - 50,
              m = C[e].length;
            p < 0 && (p = 0), t && ((p = 0), (m = t));
            let v = "";
            for (let t = p; t < m; t++) {
              const o = C[e][t];
              if (!o) break;
              if (o.hidden) return;
              let n = "";
              o.name == a && (n = ' class="me"');
              const i = new Date(o.timestamp);
              "daily" !== y || o.rank || (o.rank = t + 1);
              let s =
                '<div class="avatarPlaceholder"><i class="fas fa-user-circle"></i></div>';
              const r = u[t];
              null !== r &&
                (s = `<div class="avatar" style="background-image:url(${r})"></div>`),
                (v += `\n    <tr ${n}>\n    <td>${
                  1 === o.rank ? '<i class="fas fa-fw fa-crown"></i>' : o.rank
                }</td>\n    <td>\n    <div class="avatarNameBadge">${s}\n      <a href="${
                  location.origin
                }/profile/${o.uid}?isUid" class="entryName" uid=${
                  o.uid
                } router-link>${o.name}</a>\n      ${
                  o.badgeId ? (0, g.getHTMLById)(o.badgeId) : ""
                }\n    </div>\n    </td>\n    <td class="alignRight">${(d
                  .default.alwaysShowCPM
                  ? 5 * o.wpm
                  : o.wpm
                ).toFixed(2)}<br><div class="sub">${o.acc.toFixed(
                  2
                )}%</div></td>\n    <td class="alignRight">${(d.default
                  .alwaysShowCPM
                  ? 5 * o.raw
                  : o.raw
                ).toFixed(2)}<br><div class="sub">${
                  o.consistency && "-" !== o.consistency
                    ? o.consistency.toFixed(2) + "%"
                    : "-"
                }</div></td>\n    <td class="alignRight">${(0, f.default)(
                  i,
                  "dd MMM yyyy"
                )}<br>\n    <div class='sub'>${(0, f.default)(
                  i,
                  "HH:mm"
                )}</div></td>\n  </tr>\n  `);
            }
            t
              ? $(`#leaderboardsWrapper table.${n} tbody`).prepend(v)
              : $(`#leaderboardsWrapper table.${n} tbody`).append(v);
          });
        }
        const j = $("#leaderboardsWrapper .showYesterdayButton"),
          L = $("#leaderboardsWrapper .showYesterdayButton .text");
        function W() {
          $("#leaderboardsWrapper")
            .stop(!0, !0)
            .css("opacity", 1)
            .animate({ opacity: 0 }, 100, () => {
              x(15),
                x(60),
                k(15),
                k(60),
                (C = { 15: [], 60: [] }),
                (_ = { 15: {}, 60: {} }),
                clearInterval(P),
                (P = void 0),
                $("#leaderboards .subTitle").text("-"),
                (w = !1),
                E(),
                $("#leaderboardsWrapper").addClass("hidden");
            });
        }
        function B() {
          const e = $("#leaderboardsWrapper .mainTitle");
          let t = `${"daily" === y ? "Daily" : "All-Time"} ${
            b.charAt(0).toUpperCase() + b.slice(1)
          } Leaderboards`;
          w && (t += " (Yesterday)"), e.text(t);
        }
        function E() {
          j.addClass("hidden"),
            "daily" === y && j.removeClass("hidden"),
            w ? L.text("Show today") : L.text("Show yesterday");
        }
        function I() {
          const e = "daily" === y;
          return { isDaily: e, daysBefore: e && w ? 1 : 0 };
        }
        function D() {
          return s(this, void 0, void 0, function* () {
            (K = !1), (H = !1), O(15), O(60);
            const e = ["15", "60"],
              t = e.map((e) =>
                s(this, void 0, void 0, function* () {
                  return u.default.leaderboards.get(
                    Object.assign({ language: b, mode: "time", mode2: e }, I())
                  );
                })
              );
            (null === h.Auth || void 0 === h.Auth
              ? void 0
              : h.Auth.currentUser) &&
              t.push(
                ...e.map((e) =>
                  s(this, void 0, void 0, function* () {
                    return u.default.leaderboards.getRank(
                      Object.assign(
                        { language: b, mode: "time", mode2: e },
                        I()
                      )
                    );
                  })
                )
              );
            const o = yield Promise.all(t),
              n = o.find((e) => 200 !== e.status);
            if (n)
              return (
                M(15),
                M(60),
                p.add("Failed to load leaderboards: " + n.message, -1)
              );
            const [a, i, r, m] = o.map((e) => e.data);
            (C[15] = a),
              (C[60] = i),
              (_[15] = r),
              (_[60] = m),
              [15, 60].forEach((e) => {
                M(e),
                  x(e),
                  (function (e) {
                    var t, o, n;
                    let a, i;
                    if (
                      ((a = 15 === e ? "left" : "right"),
                      null === h.Auth || void 0 === h.Auth
                        ? void 0
                        : h.Auth.currentUser)
                    )
                      if (
                        "localhost" !== window.location.hostname &&
                        (null !==
                          (n =
                            null ===
                              (o =
                                null === (t = l.getSnapshot()) || void 0 === t
                                  ? void 0
                                  : t.typingStats) || void 0 === o
                              ? void 0
                              : o.timeTyping) && void 0 !== n
                          ? n
                          : 0) < 7200
                      )
                        $(`#leaderboardsWrapper table.${a} tfoot`).html(
                          '\n    <tr>\n      <td colspan="6" style="text-align:center;">Your account must have 2 hours typed to be placed on the leaderboard.</>\n    </tr>\n    '
                        );
                      else {
                        if (
                          ($(`#leaderboardsWrapper table.${a} tfoot`).html(
                            '\n    <tr>\n      <td colspan="6" style="text-align:center;">Not qualified</>\n    </tr>\n    '
                          ),
                          "allTime" === y && _[e])
                        ) {
                          const t = c.roundTo2((_[e].rank / _[e].count) * 100);
                          (i = 1 == _[e].rank ? "GOAT" : `Top ${t}%`),
                            (i = `<br><span class="sub">${i}</span>`);
                        }
                        if (_[e]) {
                          const t = _[e],
                            o = new Date(t.timestamp);
                          $(`#leaderboardsWrapper table.${a} tfoot`).html(
                            `\n    <tr>\n    <td>${
                              t.rank
                            }</td>\n    <td><span class="top">You</span>${
                              i || ""
                            }</td>\n    <td class="alignRight">${(d.default
                              .alwaysShowCPM
                              ? 5 * t.wpm
                              : t.wpm
                            ).toFixed(2)}<br><div class="sub">${t.acc.toFixed(
                              2
                            )}%</div></td>\n    <td class="alignRight">${(d
                              .default.alwaysShowCPM
                              ? 5 * t.raw
                              : t.raw
                            ).toFixed(2)}<br><div class="sub">${
                              t.consistency && "-" !== t.consistency
                                ? t.consistency.toFixed(2) + "%"
                                : "-"
                            }</div></td>\n    <td class="alignRight">${(0,
                            f.default)(
                              o,
                              "dd MMM yyyy"
                            )}<br>\n    <div class='sub'>${(0, f.default)(
                              o,
                              "HH:mm"
                            )}</div></td>\n  </tr>\n  `
                          );
                        }
                      }
                    else
                      $(`#leaderboardsWrapper table.${a} tfoot`).html(
                        '\n    <tr>\n      <td colspan="6" style="text-align:center;"></>\n    </tr>\n    '
                      );
                  })(e),
                  (function (e) {
                    var t, o, n, a, i;
                    if ("daily" === y) return;
                    let s;
                    s = 15 === e ? "left" : "right";
                    const r =
                      null !==
                        (i =
                          null ===
                            (a =
                              null ===
                                (n =
                                  null ===
                                    (o =
                                      null === (t = l.getSnapshot()) ||
                                      void 0 === t
                                        ? void 0
                                        : t.lbMemory) || void 0 === o
                                    ? void 0
                                    : o.time) || void 0 === n
                                ? void 0
                                : n[e]) || void 0 === a
                            ? void 0
                            : a.english) && void 0 !== i
                        ? i
                        : 0;
                    if (_[e]) {
                      const t = r - _[e].rank;
                      t > 0
                        ? (l.updateLbMemory(
                            "time",
                            e,
                            "english",
                            _[e].rank,
                            !0
                          ),
                          0 !== r &&
                            $(
                              `#leaderboardsWrapper table.${s} tfoot tr td .top`
                            ).append(
                              ` (<i class="fas fa-fw fa-angle-up"></i>${Math.abs(
                                t
                              )} since you last checked)`
                            ))
                        : t < 0
                        ? (l.updateLbMemory(
                            "time",
                            e,
                            "english",
                            _[e].rank,
                            !0
                          ),
                          0 !== r &&
                            $(
                              `#leaderboardsWrapper table.${s} tfoot tr td .top`
                            ).append(
                              ` (<i class="fas fa-fw fa-angle-down"></i>${Math.abs(
                                t
                              )} since you last checked)`
                            ))
                        : 0 !== r &&
                          $(
                            `#leaderboardsWrapper table.${s} tfoot tr td .top`
                          ).append(" ( = since you last checked)");
                    }
                  })(e),
                  A(e);
              }),
              $("#leaderboardsWrapper .leftTableWrapper").removeClass(
                "invisible"
              ),
              $("#leaderboardsWrapper .rightTableWrapper").removeClass(
                "invisible"
              ),
              B(),
              E(),
              $("#leaderboardsWrapper .buttons .button").removeClass("active"),
              $(
                "#leaderboardsWrapper .buttonGroup.timeRange .button." + y
              ).addClass("active"),
              $(
                "#leaderboardsWrapper #leaderboards .leftTableWrapper"
              ).scrollTop(0),
              $(
                "#leaderboardsWrapper #leaderboards .rightTableWrapper"
              ).scrollTop(0),
              (K = !0),
              (H = !0);
          });
        }
        function R(e, t = !1) {
          return s(this, void 0, void 0, function* () {
            if (t && 1 === C[e][0].rank) return;
            if (S[e]) return;
            (S[e] = !0), O(e);
            let o,
              n = C[e][C[e].length - 1].rank;
            t && (n = C[e][0].rank - 50),
              n < 0 && ((o = Math.abs(n) - 1), (n = 0));
            const a = yield u.default.leaderboards.get(
                Object.assign(
                  {
                    language: b,
                    mode: "time",
                    mode2: e.toString(),
                    skip: n,
                    limit: o,
                  },
                  I()
                )
              ),
              i = a.data;
            200 === a.status && 0 !== i.length
              ? (t ? C[e].unshift(...i) : C[e].push(...i),
                t && !o && (o = 49),
                yield A(e, o),
                M(e),
                (S[e] = !1))
              : M(e);
          });
        }
        function F(e, t) {
          return s(this, void 0, void 0, function* () {
            O(e);
            const o = yield u.default.leaderboards.get(
                Object.assign(
                  { language: b, mode: "time", mode2: e.toString(), skip: t },
                  I()
                )
              ),
              n = o.data;
            503 !== o.status
              ? (x(e),
                (C[e] = []),
                200 === o.status && 0 !== n.length
                  ? ((C[e] = n), yield A(e), M(e))
                  : M(e))
              : p.add(
                  "Leaderboards are currently updating - please try again later",
                  -1
                );
          });
        }
        function q() {
          v.get()
            ? $("#leaderboardsWrapper").hasClass("hidden") &&
              ((
                null === h.Auth || void 0 === h.Auth
                  ? void 0
                  : h.Auth.currentUser
              )
                ? ($(
                    "#leaderboardsWrapper #leaderboards .rightTableJumpToMe"
                  ).removeClass("disabled"),
                  $(
                    "#leaderboardsWrapper #leaderboards .leftTableJumpToMe"
                  ).removeClass("disabled"))
                : ($(
                    "#leaderboardsWrapper #leaderboards .rightTableJumpToMe"
                  ).addClass("disabled"),
                  $(
                    "#leaderboardsWrapper #leaderboards .leftTableJumpToMe"
                  ).addClass("disabled")),
              d.default.alwaysShowCPM
                ? $("#leaderboards table thead tr td:nth-child(3)").html(
                    'cpm<br><div class="sub">accuracy</div>'
                  )
                : $("#leaderboards table thead tr td:nth-child(3)").html(
                    'wpm<br><div class="sub">accuracy</div>'
                  ),
              $("#leaderboardsWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 125, () => {
                  D(),
                    T(),
                    (P = setInterval(() => {
                      T();
                    }, 1e3));
                }))
            : p.add("You can't view leaderboards while offline", 0);
        }
        (t.hide = W),
          (t.show = q),
          $("#leaderboardsWrapper").on("click", (e) => {
            "leaderboardsWrapper" === $(e.target).attr("id") && W();
          });
        const V = $(
          "#leaderboardsWrapper #leaderboards .leaderboardsTop .buttonGroup.timeRange .languageSelect"
        ).select2({
          placeholder: "select a language",
          width: "100%",
          data: [
            { id: "english", text: "english", selected: !0 },
            { id: "spanish", text: "spanish" },
            { id: "german", text: "german" },
            { id: "portuguese", text: "portuguese" },
            { id: "indonesian", text: "indonesian" },
            { id: "italian", text: "italian" },
          ],
        });
        V.on("select2:select", (e) => {
          (b = e.params.data.id), B(), D();
        });
        let K = !0;
        $("#leaderboardsWrapper #leaderboards .leftTableWrapper").scroll(
          (e) => {
            if (!K) return;
            const t = $(e.currentTarget);
            Math.round(t.scrollTop()) <= 50 && R(15, !0);
          }
        ),
          $("#leaderboardsWrapper #leaderboards .leftTableWrapper").scroll(
            (e) => {
              if (!K) return;
              const t = $(e.currentTarget);
              Math.round(t[0].scrollHeight - t.scrollTop()) <=
                Math.round(t.outerHeight()) + 50 && R(15);
            }
          );
        let H = !0;
        $("#leaderboardsWrapper #leaderboards .rightTableWrapper").scroll(
          (e) => {
            if (!H) return;
            const t = $(e.currentTarget);
            Math.round(t.scrollTop()) <= 50 && R(60, !0);
          }
        ),
          $("#leaderboardsWrapper #leaderboards .rightTableWrapper").scroll(
            (e) => {
              const t = $(e.currentTarget);
              Math.round(t[0].scrollHeight - t.scrollTop()) <=
                Math.round(t.outerHeight() + 50) && R(60);
            }
          ),
          $("#leaderboardsWrapper #leaderboards .leftTableJumpToTop").on(
            "click",
            () =>
              s(void 0, void 0, void 0, function* () {
                (K = !1),
                  $(
                    "#leaderboardsWrapper #leaderboards .leftTableWrapper"
                  ).scrollTop(0),
                  yield F(15, 0),
                  (K = !0);
              })
          ),
          $("#leaderboardsWrapper #leaderboards .leftTableJumpToMe").on(
            "click",
            () =>
              s(void 0, void 0, void 0, function* () {
                var e;
                if (!(null === (e = _[15]) || void 0 === e ? void 0 : e.rank))
                  return;
                (K = !1), yield F(15, _[15].rank - 25);
                const t = $(
                  "#leaderboardsWrapper #leaderboards .leftTableWrapper table tbody td"
                ).outerHeight();
                $(
                  "#leaderboardsWrapper #leaderboards .leftTableWrapper"
                ).animate(
                  {
                    scrollTop:
                      t * Math.min(_[15].rank, 25) -
                      $(
                        "#leaderboardsWrapper #leaderboards .leftTableWrapper"
                      ).outerHeight() /
                        2.25,
                  },
                  0,
                  () => {
                    K = !0;
                  }
                );
              })
          ),
          $("#leaderboardsWrapper #leaderboards .rightTableJumpToTop").on(
            "click",
            () =>
              s(void 0, void 0, void 0, function* () {
                (H = !1),
                  $(
                    "#leaderboardsWrapper #leaderboards .rightTableWrapper"
                  ).scrollTop(0),
                  yield F(60, 0),
                  (H = !0);
              })
          ),
          $("#leaderboardsWrapper #leaderboards .rightTableJumpToMe").on(
            "click",
            () =>
              s(void 0, void 0, void 0, function* () {
                var e;
                if (!(null === (e = _[60]) || void 0 === e ? void 0 : e.rank))
                  return;
                (K = !1), yield F(60, _[60].rank - 25);
                const t = $(
                  "#leaderboardsWrapper #leaderboards .rightTableWrapper table tbody td"
                ).outerHeight();
                $(
                  "#leaderboardsWrapper #leaderboards .rightTableWrapper"
                ).animate(
                  {
                    scrollTop:
                      t * Math.min(_[60].rank, 25) -
                      $(
                        "#leaderboardsWrapper #leaderboards .rightTableWrapper"
                      ).outerHeight() /
                        2.25,
                  },
                  0,
                  () => {
                    K = !0;
                  }
                );
              })
          ),
          $(
            "#leaderboardsWrapper #leaderboards .leaderboardsTop .buttonGroup.timeRange .allTime"
          ).on("click", () => {
            (y = "allTime"),
              (b = "english"),
              V.prop("disabled", !0),
              V.val("english"),
              V.trigger("change"),
              D();
          }),
          $(
            "#leaderboardsWrapper #leaderboards .leaderboardsTop .buttonGroup.timeRange .daily"
          ).on("click", () => {
            (y = "daily"), E(), V.prop("disabled", !1), D();
          }),
          $("#leaderboardsWrapper .showYesterdayButton").on("click", () => {
            (w = !w), D();
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#leaderboardsWrapper").hasClass("hidden") ||
              (W(), e.preventDefault());
          }),
          $("#top #menu").on("click", ".textButton", (e) => {
            $(e.currentTarget).hasClass("leaderboards") && q();
          }),
          $(document).on("keypress", "#top #menu .textButton", (e) => {
            "Enter" === e.key && $(e.currentTarget).trigger("click");
          });
      },
      9817: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0),
          (t.show = function () {
            $("#backgroundLoader").stop(!0, !0).fadeIn(125);
          }),
          (t.hide = function () {
            $("#backgroundLoader").stop(!0, !0).fadeOut(125);
          });
      },
      2453: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const u = i(o(5886)),
          l = i(o(1322)),
          d = i(o(6350)),
          c = i(o(7274)),
          p = r(o(6705)),
          f = i(o(9470)),
          h = i(o(1446)),
          m = o(6617),
          g = i(o(7717));
        function v() {
          var e, t, o, n;
          return s(this, void 0, void 0, function* () {
            let a = !1;
            "" === $(".pageTest #testModesNotice").text() && (a = !0),
              $(".pageTest #testModesNotice").empty(),
              l.isRepeated &&
                "quote" !== p.default.mode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton noInteraction" style="color:var(--error-color);"><i class="fas fa-sync-alt"></i>repeated</div>'
                ),
              l.savingEnabled ||
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="resultSaving" style="color:var(--error-color);"><i class="fas fa-save"></i>saving disabled</div>'
                ),
              f.hasTab &&
                ("esc" === p.default.quickRestart
                  ? $(".pageTest #testModesNotice").append(
                      '<div class="textButton noInteraction"><i class="fas fa-long-arrow-alt-right"></i>shift + tab to open commandline</div>'
                    )
                  : $(".pageTest #testModesNotice").append(
                      '<div class="textButton noInteraction"><i class="fas fa-long-arrow-alt-right"></i>shift + tab to restart</div>'
                    ));
            const i = g.getCustomTextName(),
              s = g.isCustomTextLong();
            if (
              ("custom" === p.default.mode &&
                "" !== i &&
                s &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton noInteraction"><i class="fas fa-book"></i>${i} (shift + enter to save progress)</div>`
                ),
              l.activeChallenge &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton noInteraction"><i class="fas fa-award"></i>${l.activeChallenge.display}</div>`
                ),
              "zen" === p.default.mode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton noInteraction"><i class="fas fa-poll"></i>shift + enter to finish zen </div>'
                ),
              "zen" !== p.default.mode &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="languages"><i class="fas fa-globe-americas"></i>${p.default.language.replace(
                    /_/g,
                    " "
                  )}</div>`
                ),
              "expert" === p.default.difficulty
                ? $(".pageTest #testModesNotice").append(
                    '<div class="textButton" commands="difficulty"><i class="fas fa-star-half-alt"></i>expert</div>'
                  )
                : "master" === p.default.difficulty &&
                  $(".pageTest #testModesNotice").append(
                    '<div class="textButton" commands="difficulty"><i class="fas fa-star"></i>master</div>'
                  ),
              p.default.blindMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="blindMode"><i class="fas fa-eye-slash"></i>blind</div>'
                ),
              p.default.lazyMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="lazyMode"><i class="fas fa-couch"></i>lazy</div>'
                ),
              "off" !== p.default.paceCaret ||
                (p.default.repeatedPace && l.isPaceRepeat))
            ) {
              let o = "";
              try {
                o = ` (${Math.round(
                  null !==
                    (t =
                      null === (e = u.settings) || void 0 === e
                        ? void 0
                        : e.wpm) && void 0 !== t
                    ? t
                    : 0
                )} wpm)`;
              } catch (e) {}
              $(".pageTest #testModesNotice").append(
                `<div class="textButton" commands="paceCaretMode"><i class="fas fa-tachometer-alt"></i>${
                  "average" === p.default.paceCaret
                    ? "average"
                    : "pb" === p.default.paceCaret
                    ? "pb"
                    : "last" === p.default.paceCaret
                    ? "last"
                    : "daily" === p.default.paceCaret
                    ? "daily"
                    : "custom"
                } pace${o}</div>`
              );
            }
            if ("off" !== p.default.showAverage) {
              let e = c.getWPM(),
                t = c.getAcc();
              if (
                (p.default.alwaysShowDecimalPlaces ||
                  ((e = Math.round(e)), (t = Math.round(t))),
                (null === m.Auth || void 0 === m.Auth
                  ? void 0
                  : m.Auth.currentUser) && e > 0)
              ) {
                const o = `${
                  ["wpm", "both"].includes(p.default.showAverage)
                    ? p.default.alwaysShowCPM
                      ? `${Math.round(5 * e)} cpm`
                      : `${e} wpm`
                    : ""
                } ${
                  ["acc", "both"].includes(p.default.showAverage)
                    ? `${t}% acc`
                    : ""
                }`.trim();
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="showAverage"><i class="fas fa-chart-bar"></i>avg: ${o}</div>`
                );
              }
            }
            "off" !== p.default.minWpm &&
              $(".pageTest #testModesNotice").append(
                `<div class="textButton" commands="minWpm"><i class="fas fa-bomb"></i>min ${p.default.minWpmCustomSpeed} wpm</div>`
              ),
              "off" !== p.default.minAcc &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="minAcc"><i class="fas fa-bomb"></i>min ${p.default.minAccCustom}% acc</div>`
                ),
              "off" !== p.default.minBurst &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="minBurst"><i class="fas fa-bomb"></i>min ${
                    p.default.minBurstCustomSpeed
                  } burst ${
                    "flex" === p.default.minBurst ? "(flex)" : ""
                  }</div>`
                ),
              "none" !== p.default.funbox &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="funbox"><i class="fas fa-gamepad"></i>${p.default.funbox.replace(
                    /_/g,
                    " "
                  )}</div>`
                ),
              "on" === p.default.confidenceMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="confidenceMode"><i class="fas fa-backspace"></i>confidence</div>'
                ),
              "max" === p.default.confidenceMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="confidenceMode"><i class="fas fa-backspace"></i>max confidence</div>'
                ),
              "off" != p.default.stopOnError &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="stopOnError"><i class="fas fa-hand-paper"></i>stop on ${p.default.stopOnError}</div>`
                ),
              "default" !== p.default.layout &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="layouts"><i class="fas fa-keyboard"></i>emulating ${p.default.layout.replace(
                    /_/g,
                    " "
                  )}</div>`
                ),
              "off" !== p.default.oppositeShiftMode &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="oppositeShiftMode"><i class="fas fa-exchange-alt"></i>opposite shift${
                    "keymap" === p.default.oppositeShiftMode ? " (keymap)" : ""
                  }</div>`
                );
            let r = "";
            try {
              null ===
                (n =
                  null === (o = d.getSnapshot()) || void 0 === o
                    ? void 0
                    : o.tags) ||
                void 0 === n ||
                n.forEach((e) => {
                  !0 === e.active && (r += e.display + ", ");
                }),
                "" !== r &&
                  $(".pageTest #testModesNotice").append(
                    `<div class="textButton" commands="tags"><i class="fas fa-tag"></i>${r.substring(
                      0,
                      r.length - 2
                    )}</div>`
                  );
            } catch (e) {}
            a &&
              $(".pageTest #testModesNotice")
                .css("transition", "none")
                .css("opacity", 0)
                .animate({ opacity: 1 }, 125, () => {
                  $(".pageTest #testModesNotice").css("transition", ".125s");
                });
          });
        }
        h.subscribe((e) => {
          [
            "difficulty",
            "blindMode",
            "stopOnError",
            "paceCaret",
            "minWpm",
            "minAcc",
            "minBurst",
            "confidenceMode",
            "layout",
            "showAverage",
            "alwaysShowCPM",
          ].includes(e) && v();
        }),
          (t.update = v);
      },
      6578: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.addPower = t.reset = t.init = void 0);
        const u = i(o(4203)),
          l = i(o(210)),
          d = r(o(6705)),
          c = { particles: [], rendering: !1 },
          p = 1500,
          f = [6, 3];
        function h(e, t, o) {
          return {
            x: e,
            y: t,
            color: o,
            alpha: 1,
            prev: { x: e, y: t },
            vel: { x: p - Math.random() * p * 2, y: p - Math.random() * p * 2 },
          };
        }
        function m(e) {
          c.canvas &&
            c.deltaTime &&
            ((e.prev.x = e.x),
            (e.prev.y = e.y),
            (e.x += e.vel.x * c.deltaTime),
            (e.y += e.vel.y * c.deltaTime),
            e.x > c.canvas.width
              ? ((e.vel.x *= -0.3),
                (e.x = c.canvas.width - 0.3 * (e.x - c.canvas.width)))
              : e.x < 0 && ((e.vel.x *= -0.3), (e.x *= -0.3)),
            e.y > c.canvas.height
              ? ((e.vel.y *= -0.3),
                (e.y = c.canvas.height - 0.3 * (e.y - c.canvas.height)))
              : e.y < 0 && ((e.vel.y *= -1), (e.y *= -1)),
            (e.vel.y += 1e3 * c.deltaTime),
            (e.vel.x *= 1 - 0.05 * c.deltaTime),
            (e.alpha *= 1 - 0.6 * c.deltaTime));
        }
        function g() {
          if (!c.lastFrame || !c.context2d || !c.canvas) return;
          c.rendering = !0;
          const e = Date.now();
          (c.deltaTime = (e - c.lastFrame) / 1e3),
            (c.lastFrame = e),
            c.context2d.clearRect(0, 0, c.canvas.width, c.canvas.height);
          const t = [];
          for (let e = 0; e < c.particles.length; e++) {
            const o = c.particles[e];
            o.alpha < 0.1 ||
              (m(o),
              (c.context2d.globalAlpha = o.alpha),
              (c.context2d.strokeStyle = o.color),
              (c.context2d.lineWidth = 4),
              c.context2d.beginPath(),
              c.context2d.moveTo(Math.round(o.prev.x), Math.round(o.prev.y)),
              c.context2d.lineTo(Math.round(o.x), Math.round(o.y)),
              c.context2d.stroke(),
              t.push(o));
          }
          (c.particles = t),
            c.particles.length && !l.get()
              ? requestAnimationFrame(g)
              : (c.context2d.clearRect(0, 0, c.canvas.width, c.canvas.height),
                (c.rendering = !1));
        }
        function v(e = !1) {
          if (!c.resetTimeOut) return;
          delete c.resetTimeOut, clearTimeout(c.resetTimeOut);
          const t = $(document.body);
          t.css("transition", "all .25s, transform 0.8s"),
            t.css("transform", "translate(0,0)"),
            setTimeout(
              () => {
                t.css("transition", "all .25s, transform .05s"),
                  $("html").css("overflow", "inherit"),
                  $("html").css("overflow-y", "scroll");
              },
              e ? 0 : 1e3
            );
        }
        (t.init = function () {
          (c.caret = $("#caret")),
            (c.canvas = (function () {
              const e = document.createElement("canvas");
              return (
                (e.style.cssText =
                  "position:fixed;top:0;left:0;pointer-events:none;z-index:999999"),
                (e.height = window.innerHeight),
                (e.width = window.innerWidth),
                window.addEventListener("resize", () => {
                  (e.height = window.innerHeight),
                    (e.width = window.innerWidth);
                }),
                document.body.appendChild(e),
                e
              );
            })()),
            (c.context2d = c.canvas.getContext("2d"));
        }),
          (t.reset = v),
          (t.addPower = function (e = !0, t = !1) {
            var o, n, a, i, r;
            return s(this, void 0, void 0, function* () {
              if ("off" === d.default.monkeyPowerLevel || l.get()) return;
              if (
                (d.default.blindMode && (e = !0),
                ["3", "4"].includes(d.default.monkeyPowerLevel))
              ) {
                $("html").css("overflow", "hidden");
                const e = [
                  Math.round(10 - 10 * Math.random()),
                  Math.round(10 - 10 * Math.random()),
                ];
                $(document.body).css(
                  "transform",
                  `translate(${e[0]}px, ${e[1]}px)`
                ),
                  c.resetTimeOut && clearTimeout(c.resetTimeOut),
                  (c.resetTimeOut = setTimeout(v, 2e3));
              }
              const s =
                  null === (o = c.caret) || void 0 === o ? void 0 : o.offset(),
                p = [
                  null !== (n = null == s ? void 0 : s.left) && void 0 !== n
                    ? n
                    : 0,
                  (null !== (a = null == s ? void 0 : s.top) && void 0 !== a
                    ? a
                    : 0) +
                    (null !==
                      (r =
                        null === (i = c.caret) || void 0 === i
                          ? void 0
                          : i.height()) && void 0 !== r
                      ? r
                      : 0),
                ];
              for (
                let o = Math.round((f[0] + Math.random() * f[1]) * (t ? 2 : 1));
                o > 0;
                o--
              ) {
                const t = ["2", "4"].includes(d.default.monkeyPowerLevel)
                  ? `#${Math.floor(256 * Math.random()).toString(
                      16
                    )}${Math.floor(256 * Math.random()).toString(
                      16
                    )}${Math.floor(256 * Math.random()).toString(16)}`
                  : e
                  ? yield u.get("caret")
                  : yield u.get("error");
                c.particles.push(h(...p, t));
              }
              c.rendering || ((c.lastFrame = Date.now()), g());
            });
          });
      },
      5185: (e, t, o) => {
        Object.defineProperty(t, "__esModule", { value: !0 });
        const n = o(6144);
        $("#nocss .requestedStylesheets").html(
          "Requested stylesheets:<br>" +
            [...document.querySelectorAll("link[rel=stylesheet")]
              .map((e) => e.href)
              .filter((e) => /\/css\/style/gi.test(e))
              .join("<br>")
        ),
          $("#nocss .requestedJs").html(
            "Requested Javascript files:<br>" +
              [...document.querySelectorAll("script")]
                .map((e) => e.src)
                .filter((e) => /(\/js\/mon|\/js\/vendor)/gi.test(e))
                .join("<br>") +
              "<br><br>Client version:<br>" +
              n.CLIENT_VERSION
          ),
          window.navigator.userAgent.toLowerCase().includes("mac")
            ? $("#nocss .keys").html(
                '\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n        margin-top: 1rem;\n      "\n    >\n      Cmd\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      Shift\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      R\n    </span>\n  '
              )
            : $("#nocss .keys").html(
                '\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      Ctrl\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      Shift\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      R\n    </span>\n  '
              );
      },
      3368: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.addBanner = t.add = void 0);
        const s = o(2189),
          r = i(o(3388)),
          u = i(o(6389)),
          l = i(o(8766));
        function d() {
          console.log("updating margin");
          const e = $("#bannerCenter").height();
          $("#centerContent").css(
            "padding-top",
            e + r.convertRemToPixels(2) + "px"
          ),
            $("#notificationCenter").css("margin-top", e + "px");
        }
        let c = 0;
        class p {
          constructor(e, t, o, n, a, i, s = () => {}, u) {
            (this.type = e),
              (this.message = u ? t : r.escapeHTML(t)),
              (this.level = o),
              (this.duration =
                "banner" === e
                  ? n
                  : null == n
                  ? -1 === o
                    ? 0
                    : 3e3
                  : 1e3 * n),
              (this.customTitle = a),
              (this.customIcon = i),
              (this.id = c++),
              (this.closeCallback = s);
          }
          show() {
            let e = "notice",
              t = '<i class="fas fa-fw fa-exclamation"></i>',
              o = "Notice";
            if (
              (1 === this.level
                ? ((e = "good"),
                  (t = '<i class="fas fa-fw fa-check"></i>'),
                  (o = "Success"))
                : -1 === this.level &&
                  ((e = "bad"),
                  (t = '<i class="fas fa-fw fa-times"></i>'),
                  (o = "Error"),
                  console.error(this.message)),
              null != this.customTitle && (o = this.customTitle),
              "banner" === this.type &&
                (t = '<i class="fas fa-fw fa-bullhorn"></i>'),
              null != this.customIcon &&
                (t = `<i class="fas fa-fw fa-${this.customIcon}"></i>`),
              "notification" === this.type)
            ) {
              const n = $("#notificationCenter .history").height();
              $("#notificationCenter .history").prepend(
                `\n          \n          <div class="notif ${e}" id=${this.id}>\n              <div class="icon">${t}</div>\n              <div class="message"><div class="title">${o}</div>${this.message}</div>\n          </div>     \n\n          `
              );
              const a = $("#notificationCenter .history").height();
              $(`#notificationCenter .notif[id='${this.id}']`).remove(),
                $("#notificationCenter .history")
                  .css("margin-top", 0)
                  .animate({ marginTop: a - n }, 125, () => {
                    $("#notificationCenter .history").css("margin-top", 0),
                      $("#notificationCenter .history").prepend(
                        `\n          \n                  <div class="notif ${e}" id=${this.id}>\n                      <div class="icon">${t}</div>\n                      <div class="message"><div class="title">${o}</div>${this.message}</div>\n                  </div>     \n\n              `
                      ),
                      $(`#notificationCenter .notif[id='${this.id}']`)
                        .css("opacity", 0)
                        .animate({ opacity: 1 }, 125, () => {
                          $(`#notificationCenter .notif[id='${this.id}']`).css(
                            "opacity",
                            ""
                          );
                        }),
                      $(`#notificationCenter .notif[id='${this.id}']`).on(
                        "click",
                        () => {
                          this.hide(), this.closeCallback();
                        }
                      );
                  }),
                $(`#notificationCenter .notif[id='${this.id}']`).hover(() => {
                  $(`#notificationCenter .notif[id='${this.id}']`).toggleClass(
                    "hover"
                  );
                });
            } else if ("banner" === this.type) {
              let o = `<div class="icon lefticon">${t}</div>`;
              /images\/.*/.test(this.customIcon) &&
                (o = `<div class="image" style="background-image: url(${this.customIcon})"></div>`),
                $("#bannerCenter").prepend(
                  `\n        <div class="banner ${e}" id="${
                    this.id
                  }">\n        <div class="container">\n          ${o}\n          <div class="text">\n            ${
                    this.message
                  }\n          </div>\n          ${
                    this.duration >= 0
                      ? '\n          <div class="closeButton">\n            <i class="fas fa-fw fa-times"></i>\n          </div>\n          '
                      : `<div class="righticon">${t}</div>`
                  }\n        </div>\n      </div>\n      `
                ),
                d(),
                u.dispatch(),
                this.duration >= 0 &&
                  $(`#bannerCenter .banner[id='${this.id}'] .closeButton`).on(
                    "click",
                    () => {
                      this.hide(), this.closeCallback();
                    }
                  ),
                this.message.includes("please refresh") &&
                  ($(`#bannerCenter .banner[id='${this.id}']`).css(
                    "cursor",
                    "pointer"
                  ),
                  $(`#bannerCenter .banner[id='${this.id}']`).on(
                    "click",
                    () => {
                      window.location.reload();
                    }
                  ));
            }
            this.duration > 0 &&
              setTimeout(() => {
                this.hide();
              }, this.duration + 250);
          }
          hide() {
            "notification" === this.type
              ? $(`#notificationCenter .notif[id='${this.id}']`)
                  .css("opacity", 1)
                  .animate({ opacity: 0 }, 125, () => {
                    $(`#notificationCenter .notif[id='${this.id}']`).animate(
                      { height: 0 },
                      125,
                      () => {
                        $(
                          `#notificationCenter .notif[id='${this.id}']`
                        ).remove();
                      }
                    );
                  })
              : "banner" === this.type &&
                $(`#bannerCenter .banner[id='${this.id}']`)
                  .css("opacity", 1)
                  .animate({ opacity: 0 }, 125, () => {
                    $(`#bannerCenter .banner[id='${this.id}']`).remove(),
                      d(),
                      u.dispatch();
                  });
          }
        }
        (t.add = function (e, t = 0, o, n, a, i, s) {
          l.dispatch(e, t, n),
            new p("notification", e, t, o, n, a, i, s).show();
        }),
          (t.addBanner = function (e, t = -1, o = "bullhorn", n = !1, a, i) {
            const s = new p("banner", e, t, n ? -1 : 0, void 0, o, a, i);
            return s.show(), s.id;
          });
        const f = (0, s.debounce)(100, d);
        $(window).on("resize", () => {
          f();
        });
      },
      7686: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateNameFontSize = t.update = void 0);
        const u = i(o(6350)),
          l = r(o(9546)),
          d = r(o(4673)),
          c = i(o(3388)),
          p = o(7401),
          f = o(2189),
          h = i(o(8281)),
          m = i(o(7346));
        function g(e, t) {
          var o,
            n,
            a,
            i,
            r,
            u,
            f,
            h,
            m,
            g,
            y,
            b,
            w,
            C,
            _,
            S,
            P,
            x,
            k,
            T,
            O,
            M,
            A,
            j,
            L,
            W,
            B;
          return s(this, void 0, void 0, function* () {
            const s = e.charAt(0).toUpperCase() + e.slice(1),
              E = $(`.page${s} .profile`),
              I = $(`.page${s} .profile .details`),
              D = !0 === t.banned;
            if (!(I && t && t.name && t.addedAt)) return;
            if (
              (I.find(".placeholderAvatar").removeClass("hidden"),
              t.discordAvatar && t.discordId && !D)
            ) {
              const e = yield c.getDiscordAvatarUrl(
                t.discordId,
                t.discordAvatar,
                256
              );
              e &&
                (I.find(".placeholderAvatar").addClass("hidden"),
                I.find(".avatar").css("background-image", `url(${e})`));
            }
            if (
              (null === (o = t.inventory) || void 0 === o
                ? void 0
                : o.badges) &&
              !D
            ) {
              let e = "",
                o = "";
              for (const n of t.inventory.badges)
                !0 === n.selected
                  ? (e = (0, p.getHTMLById)(n.id))
                  : (o += (0, p.getHTMLById)(n.id, !0));
              I.find(".badges").empty().append(e),
                I.find(".allBadges").empty().append(o);
            }
            I.find(".name").text(t.name),
              D &&
                I.find(".name").append(
                  '<div class="bannedIcon" aria-label="This account is banned" data-balloon-pos="up"><i class="fas fa-gavel"></i></div>'
                ),
              v(e);
            const R =
                "Joined " +
                (0, l.default)(
                  null !== (n = t.addedAt) && void 0 !== n ? n : 0,
                  "dd MMM yyyy"
                ),
              F = new Date(t.addedAt),
              q = (0, d.default)(new Date(), F),
              V = `${q} day${1 != q ? "s" : ""} ago`;
            I.find(".joined").text(R).attr("aria-label", V),
              t.streak && (null == t ? void 0 : t.streak) > 1
                ? I.find(".streak")
                    .text(
                      `Current streak: ${t.streak} ${
                        1 === t.streak ? "day" : "days"
                      }`
                    )
                    .attr(
                      "aria-label",
                      `Longest streak: ${t.maxStreak} ${
                        1 === t.maxStreak ? "day" : "days"
                      }`
                    )
                : I.find(".streak").text("").attr("aria-label", "");
            const K = I.find(".typingStats");
            K.find(".started .value").text(
              null !==
                (i =
                  null === (a = t.typingStats) || void 0 === a
                    ? void 0
                    : a.startedTests) && void 0 !== i
                ? i
                : 0
            ),
              K.find(".completed .value").text(
                null !==
                  (u =
                    null === (r = t.typingStats) || void 0 === r
                      ? void 0
                      : r.completedTests) && void 0 !== u
                  ? u
                  : 0
              ),
              K.find(".timeTyping .value").text(
                c.secondsToString(
                  Math.round(
                    null !==
                      (h =
                        null === (f = t.typingStats) || void 0 === f
                          ? void 0
                          : f.timeTyping) && void 0 !== h
                      ? h
                      : 0
                  ),
                  !0,
                  !0
                )
              );
            let H = !1,
              N = !1,
              z = !1;
            if (
              !D &&
              ((H = !!(null === (m = t.details) || void 0 === m
                ? void 0
                : m.bio)),
              I.find(".bio .value").text(
                null !==
                  (y =
                    null === (g = t.details) || void 0 === g
                      ? void 0
                      : g.bio) && void 0 !== y
                  ? y
                  : ""
              ),
              (N = !!(null === (b = t.details) || void 0 === b
                ? void 0
                : b.keyboard)),
              I.find(".keyboard .value").text(
                null !==
                  (C =
                    null === (w = t.details) || void 0 === w
                      ? void 0
                      : w.keyboard) && void 0 !== C
                  ? C
                  : ""
              ),
              (null === (_ = t.details) || void 0 === _
                ? void 0
                : _.socialProfiles.github) ||
                (null === (S = t.details) || void 0 === S
                  ? void 0
                  : S.socialProfiles.twitter) ||
                (null === (P = t.details) || void 0 === P
                  ? void 0
                  : P.socialProfiles.website))
            ) {
              z = !0;
              const e = I.find(".socials .value");
              e.empty();
              const o =
                null === (x = t.details) || void 0 === x
                  ? void 0
                  : x.socialProfiles.github;
              o &&
                e.append(
                  `<a href='https://github.com/${c.escapeHTML(
                    o
                  )}/' target="_blank" aria-label="${c.escapeHTML(
                    o
                  )}" data-balloon-pos="up"><i class="fab fa-fw fa-github"></i></a>`
                );
              const n =
                null === (k = t.details) || void 0 === k
                  ? void 0
                  : k.socialProfiles.twitter;
              n &&
                e.append(
                  `<a href='https://twitter.com/${c.escapeHTML(
                    n
                  )}' target="_blank" aria-label="${c.escapeHTML(
                    n
                  )}" data-balloon-pos="up"><i class="fab fa-fw fa-twitter"></i></a>`
                );
              const a =
                  null === (T = t.details) || void 0 === T
                    ? void 0
                    : T.socialProfiles.website,
                i = /^https?:\/\/(?:www\.)?([^/]+)/,
                s =
                  null !==
                    (M =
                      null === (O = null == a ? void 0 : a.match(i)) ||
                      void 0 === O
                        ? void 0
                        : O[1]) && void 0 !== M
                    ? M
                    : a;
              a &&
                e.append(
                  `<a href='${c.escapeHTML(
                    a
                  )}' target="_blank" aria-label="${c.escapeHTML(
                    null != s ? s : ""
                  )}" data-balloon-pos="up"><i class="fas fa-fw fa-globe"></i></a>`
                );
            }
            const U = null !== (A = t.xp) && void 0 !== A ? A : 0,
              Q = c.getLevel(U),
              G = Math.floor(Q),
              J = c.getXpForLevel(G),
              Y = Math.round(J * (Q % 1));
            if (
              (I.find(".level")
                .text(G)
                .attr("aria-label", `${c.abbreviateNumber(U)} total xp`),
              I.find(".xp").text(
                `${c.abbreviateNumber(Y)}/${c.abbreviateNumber(J)}`
              ),
              I.find(".xpBar .bar").css("width", (Y / J) * 100 + "%"),
              I.find(".xp").attr(
                "aria-label",
                `${c.abbreviateNumber(J - Y)} xp until next level`
              ),
              D)
            )
              E.find(".leaderboardsPositions").addClass("hidden");
            else {
              E.find(".leaderboardsPositions").removeClass("hidden");
              const o = "profile" === e ? t.allTimeLbs : t.lbMemory,
                n =
                  null ===
                    (L =
                      null === (j = null == o ? void 0 : o.time) || void 0 === j
                        ? void 0
                        : j[15]) || void 0 === L
                    ? void 0
                    : L.english,
                a =
                  null ===
                    (B =
                      null === (W = null == o ? void 0 : o.time) || void 0 === W
                        ? void 0
                        : W[60]) || void 0 === B
                    ? void 0
                    : B.english;
              if (n || a) {
                const e = n ? c.getPositionString(n) : "-";
                E.find(".leaderboardsPositions .group.t15 .pos").text(e);
                const t = a ? c.getPositionString(a) : "-";
                E.find(".leaderboardsPositions .group.t60 .pos").text(t);
              } else E.find(".leaderboardsPositions").addClass("hidden");
            }
            const Z = H || N;
            H
              ? I.find(".bio").removeClass("hidden")
              : I.find(".bio").addClass("hidden"),
              N
                ? I.find(".keyboard").removeClass("hidden")
                : I.find(".keyboard").addClass("hidden"),
              Z
                ? (I.find(".bioAndKeyboard").removeClass("hidden"),
                  I.find(".sep2").removeClass("hidden"))
                : (I.find(".bioAndKeyboard").addClass("hidden"),
                  I.find(".sep2").addClass("hidden")),
              z
                ? (I.find(".socials").removeClass("hidden"),
                  I.find(".sep3").removeClass("hidden"))
                : (I.find(".socials").addClass("hidden"),
                  I.find(".sep3").addClass("hidden")),
              I.removeClass("none"),
              I.removeClass("bioAndKey"),
              I.removeClass("soc"),
              I.removeClass("both"),
              z || Z
                ? z && !Z
                  ? I.addClass("soc")
                  : !z && Z
                  ? I.addClass("bioAndKey")
                  : z && Z && I.addClass("both")
                : I.addClass("none");
          });
        }
        function v(e) {
          var t, o;
          let n;
          if (
            ("account" === e
              ? (n = $(".pageAccount .profile .details"))
              : "profile" === e && (n = $(".pageProfile .profile .details")),
            !n)
          )
            return;
          const a = n.find(".name"),
            i = a.parent(),
            s = c.convertRemToPixels(2);
          let r,
            u,
            l = 15;
          do {
            (l += 1),
              a.css("font-size", l),
              (r = null !== (t = a.width()) && void 0 !== t ? t : 0),
              (u = null !== (o = i.width()) && void 0 !== o ? o : 0);
          } while (r < u - 10 && l < s);
        }
        (t.update = g),
          (t.updateNameFontSize = v),
          $(".details .editProfileButton").on("click", () => {
            const e = u.getSnapshot();
            e &&
              h.show(() => {
                g("account", e);
              });
          });
        const y = (0, f.throttle)(250, () => {
          const e = m.get();
          e && ["account", "profile"].includes(e) && v(e);
        });
        $(window).on("resize", () => {
          y();
        });
      },
      2709: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const u = r(o(7355)),
          l = o(3388),
          d = i(o(3368)),
          c = r(o(9546)),
          p = i(o(6001));
        function f() {
          var e, t;
          return null !==
            (t = JSON.parse(
              null !== (e = window.localStorage.getItem("confirmedPSAs")) &&
                void 0 !== e
                ? e
                : "[]"
            )) && void 0 !== t
            ? t
            : [];
        }
        t.show = function () {
          return s(this, void 0, void 0, function* () {
            const e = yield (function () {
              return s(this, void 0, void 0, function* () {
                const e = yield u.default.psas.get();
                return 500 === e.status
                  ? ("localhost" === window.location.hostname
                      ? d.addBanner(
                          "Dev Info: Backend server not running",
                          0,
                          "exclamation-triangle",
                          !1
                        )
                      : d.addBanner(
                          "Looks like the server is experiencing maintenance or some unexpected down time.<br>Check the <a target= '_blank' href='https://monkeytype.instatus.com/'>status page</a> or <a target= '_blank' href='https://twitter.com/monkeytypegame'>Twitter</a> for more information.",
                          -1,
                          "exclamation-triangle",
                          !1,
                          void 0,
                          !0
                        ),
                    null)
                  : 503 === e.status
                  ? (d.addBanner(
                      "Server is currently under maintenance. <a target= '_blank' href='https://monkeytype.instatus.com/'>Check the status page</a> for more info.",
                      -1,
                      "bullhorn",
                      !0,
                      void 0,
                      !0
                    ),
                    null)
                  : 200 !== e.status
                  ? null
                  : e.data;
              });
            })();
            if (null === e) return;
            if (0 == e.length)
              return void window.localStorage.setItem(
                "confirmedPSAs",
                JSON.stringify([])
              );
            const t = f();
            e.forEach((e) => {
              var o, n;
              if (e.date) {
                const t = new Date(e.date),
                  o = e.date - Date.now(),
                  n = (0, l.secondsToString)(o / 1e3, !1, !1, "text", !1, !0);
                (e.message = e.message.replace("{dateDifference}", n)),
                  (e.message = e.message.replace(
                    "{dateNoTime}",
                    (0, c.default)(t, "dd MMM yyyy")
                  )),
                  (e.message = e.message.replace(
                    "{date}",
                    (0, c.default)(t, "dd MMM yyyy HH:mm")
                  ));
              }
              p.addPSA(
                e.message,
                null !== (o = e.level) && void 0 !== o ? o : -1
              ),
                (t.includes(e._id) &&
                  !1 === (null !== (n = e.sticky) && void 0 !== n && n)) ||
                  d.addBanner(
                    e.message,
                    e.level,
                    "bullhorn",
                    e.sticky,
                    () => {
                      !(function (e) {
                        const t = f();
                        t.push(e),
                          window.localStorage.setItem(
                            "confirmedPSAs",
                            JSON.stringify(t)
                          );
                      })(e._id);
                    },
                    !0
                  );
            });
          });
        };
      },
      9406: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const s = i(o(7346));
        let r = !1;
        $(".scrollToTopButton").on("click", () => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        }),
          $(window).scroll(() => {
            const e = s.get();
            if (
              "test" != e &&
              ("about" == e || "settings" == e || "account" == e)
            ) {
              const e = window.scrollY;
              !r && e > 100
                ? ($(".scrollToTopButton").removeClass("invisible"), (r = !0))
                : r &&
                  e < 100 &&
                  ($(".scrollToTopButton").addClass("invisible"), (r = !1));
            }
          });
      },
      4203: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = t.reset = t.getAll = t.get = void 0);
        let n = {
          bg: "#323437",
          main: "#e2b714",
          caret: "#e2b714",
          sub: "#646669",
          subAlt: "#2c2e31",
          text: "#d1d0c5",
          error: "#ca4754",
          errorExtra: "#7e2a33",
          colorfulError: "#ca4754",
          colorfulErrorExtra: "#7e2a33",
        };
        function a() {
          const e = getComputedStyle(document.body);
          (n.bg = e.getPropertyValue("--bg-color").replace(" ", "")),
            (n.main = e.getPropertyValue("--main-color").replace(" ", "")),
            (n.caret = e.getPropertyValue("--caret-color").replace(" ", "")),
            (n.sub = e.getPropertyValue("--sub-color").replace(" ", "")),
            (n.subAlt = e.getPropertyValue("--sub-alt-color").replace(" ", "")),
            (n.text = e.getPropertyValue("--text-color").replace(" ", "")),
            (n.error = e.getPropertyValue("--error-color").replace(" ", "")),
            (n.errorExtra = e
              .getPropertyValue("--error-extra-color")
              .replace(" ", "")),
            (n.colorfulError = e
              .getPropertyValue("--colorful-error-color")
              .replace(" ", "")),
            (n.colorfulErrorExtra = e
              .getPropertyValue("--colorful-error-extra-color")
              .replace(" ", ""));
        }
        (t.get = function (e) {
          return o(this, void 0, void 0, function* () {
            return n[e] || a(), n[e];
          });
        }),
          (t.getAll = function () {
            return o(this, void 0, void 0, function* () {
              return n.bg || a(), n;
            });
          }),
          (t.reset = function () {
            n = {
              bg: "",
              main: "",
              caret: "",
              sub: "",
              subAlt: "",
              text: "",
              error: "",
              errorExtra: "",
              colorfulError: "",
              colorfulErrorExtra: "",
            };
          }),
          (t.update = a);
      },
      8980: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        function n(e) {
          window.localStorage.setItem("lastSeenVersion", e);
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0),
          (t.show = function (e) {
            return o(this, void 0, void 0, function* () {
              const t = yield null !==
                (o = window.localStorage.getItem("lastSeenVersion")) &&
              void 0 !== o
                ? o
                : "";
              var o;
              "" !== t
                ? t !== e &&
                  (caches.keys().then(function (e) {
                    for (const t of e) caches.delete(t);
                  }),
                  $("#newVersionIndicator").removeClass("hidden"),
                  n(e))
                : n(e);
            });
          });
      },
      9294: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), o(9835), o(6617);
        const r = i(o(6350));
        o(5209), o(1493);
        const u = s(o(6705)),
          l = i(o(2474)),
          d = i(o(4626)),
          c = i(o(6084)),
          p = i(o(3448)),
          f = i(o(4897));
        o(4674);
        const h = o(9029);
        o(4173),
          o(4660),
          o(5153),
          o(2666),
          o(2845),
          o(9360),
          o(8553),
          o(8325),
          o(7193),
          o(5331),
          o(6327),
          o(9406),
          o(4611),
          o(7841),
          o(5764);
        const m = i(o(7520));
        o(41), o(4487), o(5185);
        const g = o(2864);
        o(3285);
        const v = o.g;
        (v.snapshot = r.getSnapshot),
          (v.config = u.default),
          (v.toggleFilterDebug = m.toggleFilterDebug),
          (v.glarsesMode = h.enable),
          (v.stats = l.getStats),
          (v.replay = d.getReplayExport),
          (v.enableTimerDebug = c.enableTimerDebug),
          (v.getTimerStats = c.getTimerStats),
          (v.toggleUnsmoothedRaw = p.toggleUnsmoothedRaw),
          (v.enableSpacingDebug = f.enableSpacingDebug),
          (v.egVideoListener = g.egVideoListener),
          (v.wpmCalculationDebug = l.wpmCalculationDebug);
      },
      6389: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function () {
            o.forEach((e) => {
              try {
                e();
              } catch (e) {
                console.error("Banner event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      1446: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t, n, a, i) {
            o.forEach((o) => {
              try {
                o(e, t, n, a, i);
              } catch (e) {
                console.error("Config event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      5928: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.subscribe = void 0);
        const o = [];
        function n(e) {
          o.forEach((t) => {
            try {
              t(e);
            } catch (e) {
              console.error("Connection event subscriber threw an error"),
                console.error(e);
            }
          });
        }
        (t.subscribe = function (e) {
          o.push(e);
        }),
          window.addEventListener("load", () => {
            window.addEventListener("online", () => {
              n(!0);
            }),
              window.addEventListener("offline", () => {
                n(!1);
              });
          });
      },
      5701: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t) {
            o.forEach((o) => {
              try {
                o(e, t);
              } catch (e) {
                console.error("Google Sign Up event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      2428: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.navigate = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.navigate = function (e, t) {
            o.forEach((o) => {
              try {
                o(e, t);
              } catch (e) {
                console.error("Navigate event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      8766: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t, n) {
            o.forEach((o) => {
              try {
                o(e, t, n);
              } catch (e) {
                console.error("Notification event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      6507: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t, n) {
            o.forEach((o) => {
              try {
                o(e, t, n);
              } catch (e) {
                console.error("Timer event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      5973: function (e, t, o) {
        var n =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          a =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page = void 0);
        const i = a(o(3361));
        t.page = new i.default(
          "404",
          $(".page.page404"),
          "/404",
          () => n(void 0, void 0, void 0, function* () {}),
          () => n(void 0, void 0, void 0, function* () {}),
          () => n(void 0, void 0, void 0, function* () {}),
          () => n(void 0, void 0, void 0, function* () {})
        );
      },
      5331: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page = void 0);
        const u = i(o(3388)),
          l = r(o(3361)),
          d = r(o(7355)),
          c = i(o(3368)),
          p = i(o(1833)),
          f = i(o(3285)),
          h = r(o(4834));
        let m, g;
        function v() {
          return s(this, void 0, void 0, function* () {
            let e, t;
            try {
              e = yield u.getSupportersList();
            } catch (t) {
              c.add(u.createErrorMessage(t, "Failed to get supporters"), -1),
                (e = []);
            }
            try {
              t = yield u.getContributorsList();
            } catch (e) {
              c.add(u.createErrorMessage(e, "Failed to get contributors"), -1),
                (t = []);
            }
            yield (function () {
              return s(this, void 0, void 0, function* () {
                if (m && g) return;
                if (!f.get())
                  return void c.add(
                    "Cannot update all time stats - offline",
                    0
                  );
                const e = yield d.default.publicStats.getSpeedHistogram({
                  language: "english",
                  mode: "time",
                  mode2: "60",
                });
                e.status >= 200 && e.status < 300
                  ? (m = e.data)
                  : c.add(
                      `Failed to get global speed stats for histogram: ${e.message}`,
                      -1
                    );
                const t = yield d.default.publicStats.getTypingStats();
                t.status >= 200 && t.status < 300
                  ? (g = t.data)
                  : c.add(
                      `Failed to get global typing stats: ${e.message}`,
                      -1
                    );
              });
            })(),
              (function () {
                var e, t;
                if (!m && !g) return;
                p.globalSpeedHistogram.updateColors();
                const o = (function (e) {
                  const t = [],
                    o = [],
                    n = Object.keys(e).sort(
                      (e, t) => parseInt(e, 10) - parseInt(t, 10)
                    );
                  for (let a = 0; a < n.length; a++) {
                    const i = parseInt(n[a], 10);
                    if (
                      (t.push({ x: i, y: e[i] }),
                      o.push(`${i} - ${i + 9}`),
                      i + 10 != parseInt(n[a + 1], 10))
                    )
                      for (let e = i + 10; e < parseInt(n[a + 1], 10); e += 10)
                        t.push({ x: e, y: 0 }), o.push(`${e} - ${e + 9}`);
                  }
                  return { data: t, labels: o };
                })(m);
                (p.globalSpeedHistogram.data.labels = o.labels),
                  (p.globalSpeedHistogram.data.datasets[0].data = o.data);
                const n = Math.round(g.timeTyping),
                  a = (0, h.default)({ start: 0, end: 1e3 * n });
                $(".pageAbout #totalTimeTypingStat .val").text(
                  null !==
                    (t =
                      null === (e = a.years) || void 0 === e
                        ? void 0
                        : e.toString()) && void 0 !== t
                    ? t
                    : ""
                ),
                  $(".pageAbout #totalTimeTypingStat .valSmall").text("years"),
                  $(".pageAbout #totalTimeTypingStat").attr(
                    "aria-label",
                    Math.round(n / 3600) + " hours"
                  ),
                  $(".pageAbout #totalStartedTestsStat .val").text(
                    Math.round(g.testsStarted / 1e6)
                  ),
                  $(".pageAbout #totalStartedTestsStat .valSmall").text(
                    "million"
                  ),
                  $(".pageAbout #totalStartedTestsStat").attr(
                    "aria-label",
                    g.testsStarted + " tests"
                  ),
                  $(".pageAbout #totalCompletedTestsStat .val").text(
                    Math.round(g.testsCompleted / 1e6)
                  ),
                  $(".pageAbout #totalCompletedTestsStat .valSmall").text(
                    "million"
                  ),
                  $(".pageAbout #totalCompletedTestsStat").attr(
                    "aria-label",
                    g.testsCompleted + " tests"
                  );
              })(),
              e.forEach((e) => {
                $(".pageAbout .supporters").append(
                  `\n      <div>${e}</div>\n    `
                );
              }),
              t.forEach((e) => {
                $(".pageAbout .contributors").append(
                  `\n      <div>${e}</div>\n    `
                );
              });
          });
        }
        t.page = new l.default(
          "about",
          $(".page.pageAbout"),
          "/about",
          () => s(void 0, void 0, void 0, function* () {}),
          () =>
            s(void 0, void 0, void 0, function* () {
              $(".pageAbout .contributors").empty(),
                $(".pageAbout .supporters").empty(),
                (p.globalSpeedHistogram.data.datasets[0].data = []),
                p.globalSpeedHistogram.updateColors();
            }),
          () =>
            s(void 0, void 0, void 0, function* () {
              v();
            }),
          () => s(void 0, void 0, void 0, function* () {})
        );
      },
      7520: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page =
            t.update =
            t.downloadResults =
            t.smoothHistory =
            t.reset =
            t.toggleFilterDebug =
              void 0);
        const u = i(o(6350)),
          l = i(o(1329)),
          d = i(o(4203)),
          c = i(o(1833)),
          p = i(o(6705)),
          f = p,
          h = i(o(6472)),
          m = i(o(2681)),
          g = i(o(140)),
          v = i(o(4335)),
          y = i(o(8911)),
          b = i(o(2026)),
          w = i(o(3368)),
          C = r(o(3361)),
          _ = i(o(3388)),
          S = i(o(7686)),
          P = r(o(9546)),
          x = i(o(3285));
        let k = !1;
        t.toggleFilterDebug = function () {
          (k = !k), k && console.log("filterDebug is on");
        };
        let T = [],
          O = 0;
        function M(e) {
          var t, o;
          if (!T || 0 == T.length) return;
          let n;
          n = e && e > O ? 10 * Math.ceil(e / 10) : O + 10;
          for (let e = O; e < n; e++) {
            const n = T[e];
            if (!n) continue;
            let a,
              i = n.difficulty;
            null == i && (i = "normal");
            try {
              (a = p.default.alwaysShowCPM
                ? (5 * n.rawWpm).toFixed(2)
                : n.rawWpm.toFixed(2)),
                null == a && (a = "-");
            } catch (e) {
              a = "-";
            }
            let s = `<span aria-label="${
              null === (t = n.language) || void 0 === t
                ? void 0
                : t.replace("_", " ")
            }" data-balloon-pos="up"><i class="fas fa-fw fa-globe-americas"></i></span>`;
            "normal" === i
              ? (s += `<span aria-label="${n.difficulty}" data-balloon-pos="up"><i class="far fa-fw fa-star"></i></span>`)
              : "expert" === i
              ? (s += `<span aria-label="${n.difficulty}" data-balloon-pos="up"><i class="fas fa-fw fa-star-half-alt"></i></span>`)
              : "master" === i &&
                (s += `<span aria-label="${n.difficulty}" data-balloon-pos="up"><i class="fas fa-fw fa-star"></i></span>`),
              n.punctuation &&
                (s +=
                  '<span aria-label="punctuation" data-balloon-pos="up"><i class="fas fa-fw fa-at"></i></span>'),
              n.numbers &&
                (s +=
                  '<span aria-label="numbers" data-balloon-pos="up"><i class="fas fa-fw fa-hashtag"></i></span>'),
              n.blindMode &&
                (s +=
                  '<span aria-label="blind mode" data-balloon-pos="up"><i class="fas fa-fw fa-eye-slash"></i></span>'),
              n.lazyMode &&
                (s +=
                  '<span aria-label="lazy mode" data-balloon-pos="up"><i class="fas fa-fw fa-couch"></i></span>'),
              "none" !== n.funbox &&
                void 0 !== n.funbox &&
                (s += `<span aria-label="${n.funbox.replace(
                  /_/g,
                  " "
                )}" data-balloon-pos="up"><i class="fas fa-gamepad"></i></span>`),
              void 0 === n.chartData
                ? (s +=
                    '<span class="miniResultChartButton" aria-label="No chart data found" data-balloon-pos="up"><i class="fas fa-chart-line"></i></span>')
                : "toolong" === n.chartData
                ? (s +=
                    '<span class="miniResultChartButton" aria-label="Chart history is not available for long tests" data-balloon-pos="up"><i class="fas fa-chart-line"></i></span>')
                : (s += `<span class="miniResultChartButton" aria-label="View graph" data-balloon-pos="up" filteredResultsId="${e}" style="opacity: 1"><i class="fas fa-chart-line"></i></span>`);
            let r,
              l = "";
            void 0 !== n.tags &&
              n.tags.length > 0 &&
              (n.tags.forEach((e) => {
                var t, o;
                null ===
                  (o =
                    null === (t = u.getSnapshot()) || void 0 === t
                      ? void 0
                      : t.tags) ||
                  void 0 === o ||
                  o.forEach((t) => {
                    e === t._id && (l += t.display + ", ");
                  });
              }),
              (l = l.substring(0, l.length - 2))),
              (r = void 0 === n.tags ? "[]" : JSON.stringify(n.tags));
            let d = `<span id="resultEditTags" resultId="${n._id}" tags='${r}' aria-label="no tags" data-balloon-pos="up" style="opacity: .25"><i class="fas fa-fw fa-tag"></i></span>`;
            "" !== l &&
              (d =
                void 0 !== n.tags && n.tags.length > 1
                  ? `<span id="resultEditTags" resultId="${n._id}" tags='${r}' aria-label="${l}" data-balloon-pos="up"><i class="fas fa-fw fa-tags"></i></span>`
                  : `<span id="resultEditTags" resultId="${n._id}" tags='${r}' aria-label="${l}" data-balloon-pos="up"><i class="fas fa-fw fa-tag"></i></span>`);
            let c = "-";
            n.consistency && (c = n.consistency.toFixed(2) + "%");
            let f =
              null === (o = n.isPb) || void 0 === o ? void 0 : o.toString();
            f = f ? '<i class="fas fa-fw fa-crown"></i>' : "";
            let h = "-";
            h = n.charStats
              ? n.charStats.join("/")
              : n.correctChars + "/" + n.incorrectChars + "/-/-";
            const m = new Date(n.timestamp);
            $(".pageAccount .history table tbody").append(
              `\n    <tr class="resultRow" id="result-${e}">\n    <td>${f}</td>\n    <td>${(p
                .default.alwaysShowCPM
                ? 5 * n.wpm
                : n.wpm
              ).toFixed(2)}</td>\n    <td>${a}</td>\n    <td>${n.acc.toFixed(
                2
              )}%</td>\n    <td>${c}</td>\n    <td>${h}</td>\n    <td>${
                n.mode
              } ${
                n.mode2
              }</td>\n    <td class="infoIcons">${s}</td>\n    <td>${d}</td>\n    <td>${(0,
              P.default)(m, "dd MMM yyyy")}<br>\n    ${(0, P.default)(
                m,
                "HH:mm"
              )}\n    </td>\n    </tr>`
            );
          }
          (O = n),
            O >= T.length
              ? $(".pageAccount .loadMoreButton").addClass("hidden")
              : $(".pageAccount .loadMoreButton").removeClass("hidden");
        }
        function A() {
          $(".pageAccount .history table tbody").empty(),
            (c.accountHistogram.data.datasets[0].data = []),
            (c.accountActivity.data.datasets[0].data = []),
            (c.accountActivity.data.datasets[1].data = []),
            (c.accountHistory.data.datasets[0].data = []),
            (c.accountHistory.data.datasets[1].data = []),
            c.accountHistogram.updateColors(),
            c.accountActivity.updateColors(),
            c.accountHistory.updateColors();
        }
        t.reset = A;
        let j = 0,
          L = [],
          W = [];
        function B(e) {
          const t = _.smooth(
              L.map((e) => e.y),
              e
            ),
            o = _.smooth(
              W.map((e) => e.y),
              e
            ),
            n = L.map((e, o) => {
              const n = Object.assign({}, e);
              return (n.y = t[o]), n;
            }),
            a = W.map((e, t) => {
              const n = Object.assign({}, e);
              return (n.y = o[t]), n;
            });
          (c.accountHistory.data.datasets[0].data = n),
            (c.accountHistory.data.datasets[1].data = a),
            (n.length || a.length) && c.accountHistory.update();
        }
        function E() {
          const e = $(".pageAccount .content .below .smoothing input").val();
          $(".pageAccount .content .below .smoothing .value").text(e),
            B(parseInt(e));
        }
        function I() {
          var e;
          return s(this, void 0, void 0, function* () {
            if (
              void 0 !==
              (null === (e = u.getSnapshot()) || void 0 === e
                ? void 0
                : e.results)
            )
              return;
            const t = yield u.getUserResults();
            !1 !== t || x.get()
              ? (b.addAllFromToday(), t && l.updateActive())
              : w.add("Could not get results - you are offline", -1, 5);
          });
        }
        function D() {
          return s(this, void 0, void 0, function* () {
            if ((v.updateBar(0, !0), null === u.getSnapshot()))
              w.add("Missing account data. Please refresh.", -1),
                $(".pageAccount .preloader").html(
                  "Missing account data. Please refresh."
                );
            else {
              v.updateBar(90), yield I();
              try {
                !(function () {
                  var e, t;
                  v.updateText("Displaying stats..."),
                    v.updateBar(100),
                    console.log("updating account page"),
                    d.update(),
                    c.accountHistory.updateColors(),
                    c.accountActivity.updateColors(),
                    c.accountHistogram.updateColors(),
                    m.update();
                  const o = u.getSnapshot();
                  if (!o) return;
                  g.update(o.personalBests),
                    S.update("account", o),
                    (L = []),
                    (W = []);
                  const n = [];
                  O = 0;
                  let a = 0,
                    i = "",
                    r = 0,
                    f = 0,
                    h = 0,
                    b = 0,
                    C = 0,
                    P = 0,
                    x = 0,
                    A = 0;
                  const B = {
                    total: 0,
                    count: 0,
                    last10Total: 0,
                    last10Count: 0,
                    max: 0,
                  };
                  let I = 0;
                  j = 0;
                  let R = 0,
                    F = 0,
                    q = 0,
                    V = 0;
                  const K = {},
                    H = {};
                  (T = []),
                    $(".pageAccount .history table tbody").empty(),
                    null ===
                      (t =
                        null === (e = u.getSnapshot()) || void 0 === e
                          ? void 0
                          : e.results) ||
                      void 0 === t ||
                      t.forEach((e) => {
                        var t, o, s, d, c, m, g, v, y;
                        try {
                          if (!l.getFilter("pb", !0 === e.isPb ? "yes" : "no"))
                            return void (
                              k &&
                              console.log("skipping result due to pb filter", e)
                            );
                          let n = e.difficulty;
                          if (
                            (null == n && (n = "normal"),
                            !l.getFilter("difficulty", n))
                          )
                            return void (
                              k &&
                              console.log(
                                "skipping result due to difficulty filter",
                                e
                              )
                            );
                          if (!l.getFilter("mode", e.mode))
                            return void (
                              k &&
                              console.log(
                                "skipping result due to mode filter",
                                e
                              )
                            );
                          if ("time" == e.mode) {
                            let t = "custom";
                            if (
                              ([15, 30, 60, 120].includes(parseInt(e.mode2)) &&
                                (t = e.mode2),
                              !l.getFilter("time", t))
                            )
                              return void (
                                k &&
                                console.log(
                                  "skipping result due to time filter",
                                  e
                                )
                              );
                          } else if ("words" == e.mode) {
                            let t = "custom";
                            if (
                              ([10, 25, 50, 100, 200].includes(
                                parseInt(e.mode2)
                              ) && (t = e.mode2),
                              !l.getFilter("words", t))
                            )
                              return void (
                                k &&
                                console.log(
                                  "skipping result due to word filter",
                                  e
                                )
                              );
                          }
                          if (null != e.quoteLength) {
                            let t;
                            if (
                              (0 === e.quoteLength
                                ? (t = "short")
                                : 1 === e.quoteLength
                                ? (t = "medium")
                                : 2 === e.quoteLength
                                ? (t = "long")
                                : 3 === e.quoteLength && (t = "thicc"),
                              void 0 !== t && !l.getFilter("quoteLength", t))
                            )
                              return void (
                                k &&
                                console.log(
                                  "skipping result due to quoteLength filter",
                                  e
                                )
                              );
                          }
                          let a = l.getFilter(
                            "language",
                            null !== (t = e.language) && void 0 !== t
                              ? t
                              : "english"
                          );
                          if (
                            ("english_expanded" === e.language &&
                              l.getFilter("language", "english_1k") &&
                              (a = !0),
                            !a)
                          )
                            return void (
                              k &&
                              console.log(
                                "skipping result due to language filter",
                                e
                              )
                            );
                          let i = "off";
                          if (
                            (e.punctuation && (i = "on"),
                            !l.getFilter("punctuation", i))
                          )
                            return void (
                              k &&
                              console.log(
                                "skipping result due to punctuation filter",
                                e
                              )
                            );
                          let r = "off";
                          if (
                            (e.numbers && (r = "on"),
                            !l.getFilter("numbers", r))
                          )
                            return void (
                              k &&
                              console.log(
                                "skipping result due to numbers filter",
                                e
                              )
                            );
                          if ("none" === e.funbox || void 0 === e.funbox) {
                            if (!l.getFilter("funbox", "none"))
                              return void (
                                k &&
                                console.log(
                                  "skipping result due to funbox filter",
                                  e
                                )
                              );
                          } else if (!l.getFilter("funbox", e.funbox))
                            return void (
                              k &&
                              console.log(
                                "skipping result due to funbox filter",
                                e
                              )
                            );
                          let p = !0;
                          if (void 0 === e.tags || 0 === e.tags.length)
                            (null !==
                              (d =
                                null ===
                                  (s =
                                    null === (o = u.getSnapshot()) ||
                                    void 0 === o
                                      ? void 0
                                      : o.tags) || void 0 === s
                                  ? void 0
                                  : s.length) && void 0 !== d
                              ? d
                              : 0) > 0
                              ? l.getFilter("tags", "none") && (p = !1)
                              : (p = !1);
                          else {
                            const t =
                              null ===
                                (m =
                                  null === (c = u.getSnapshot()) || void 0 === c
                                    ? void 0
                                    : c.tags) || void 0 === m
                                ? void 0
                                : m.map((e) => e._id);
                            if (void 0 === t) return;
                            e.tags.forEach((e) => {
                              p &&
                                ((null == t ? void 0 : t.includes(e))
                                  ? l.getFilter("tags", e) && (p = !1)
                                  : l.getFilter("tags", "none") && (p = !1));
                            });
                          }
                          if (p)
                            return void (
                              k &&
                              console.log(
                                "skipping result due to tag filter",
                                e
                              )
                            );
                          const f = Math.abs(e.timestamp - Date.now()) / 1e3;
                          let h = !0;
                          if (
                            ((l.getFilter("date", "all") ||
                              (l.getFilter("date", "last_day") && f <= 86400) ||
                              (l.getFilter("date", "last_week") &&
                                f <= 604800) ||
                              (l.getFilter("date", "last_month") &&
                                f <= 2592e3) ||
                              (l.getFilter("date", "last_3months") &&
                                f <= 7776e3)) &&
                              (h = !1),
                            h)
                          )
                            return void (
                              k &&
                              console.log(
                                "skipping result due to date filter",
                                e
                              )
                            );
                          T.push(e);
                        } catch (t) {
                          w.add(
                            "Something went wrong when filtering. Resetting filters.",
                            0
                          ),
                            console.log(e),
                            console.error(t),
                            l.reset(),
                            l.updateActive(),
                            D();
                        }
                        I += Math.round((e.wpm / 60) * e.testDuration);
                        const $ = new Date(e.timestamp);
                        $.setSeconds(0),
                          $.setMinutes(0),
                          $.setHours(0),
                          $.setMilliseconds(0);
                        const S = $.getTime();
                        Object.keys(K).includes(String(S))
                          ? (K[S].amount++,
                            (K[S].time +=
                              e.testDuration +
                              e.incompleteTestSeconds -
                              (null !== (g = e.afkDuration) && void 0 !== g
                                ? g
                                : 0)),
                            (K[S].totalWpm += e.wpm))
                          : (K[S] = {
                              amount: 1,
                              time:
                                e.testDuration +
                                e.incompleteTestSeconds -
                                (null !== (v = e.afkDuration) && void 0 !== v
                                  ? v
                                  : 0),
                              totalWpm: e.wpm,
                            });
                        const O = 10 * Math.floor(e.wpm / 10);
                        Object.keys(H).includes(String(O))
                          ? H[O]++
                          : (H[O] = 1);
                        let M = 0;
                        if (
                          (null == e.testDuration &&
                          "custom" !== e.mode2 &&
                          "zen" !== e.mode2
                            ? "time" == e.mode
                              ? (M = e.mode2)
                              : "words" == e.mode &&
                                (M = (e.mode2 / e.wpm) * 60)
                            : (M = parseFloat(e.testDuration)),
                          null != e.incompleteTestSeconds
                            ? (M += e.incompleteTestSeconds)
                            : null != e.restartCount &&
                              e.restartCount > 0 &&
                              (M += (M / 4) * e.restartCount),
                          (j += M),
                          b < 10 &&
                            (b++,
                            (C += e.wpm),
                            (A += e.acc),
                            void 0 !== e.consistency && (q += e.consistency)),
                          h++,
                          void 0 !== e.consistency &&
                            (V++,
                            (F += e.consistency),
                            e.consistency > R && (R = e.consistency)),
                          null != e.rawWpm &&
                            (B.last10Count < 10 &&
                              (B.last10Count++, (B.last10Total += e.rawWpm)),
                            (B.total += e.rawWpm),
                            B.count++,
                            e.rawWpm > B.max && (B.max = e.rawWpm)),
                          e.acc > P && (P = e.acc),
                          (x += e.acc),
                          null != e.restartCount && (r += e.restartCount),
                          L.push({
                            x: e.timestamp,
                            y: p.default.alwaysShowCPM
                              ? _.roundTo2(5 * e.wpm)
                              : e.wpm,
                            wpm: p.default.alwaysShowCPM
                              ? _.roundTo2(5 * e.wpm)
                              : e.wpm,
                            acc: e.acc,
                            mode: e.mode,
                            mode2: e.mode2,
                            punctuation: e.punctuation,
                            language: e.language,
                            timestamp: e.timestamp,
                            difficulty: e.difficulty,
                            raw: p.default.alwaysShowCPM
                              ? _.roundTo2(5 * e.rawWpm)
                              : e.rawWpm,
                            isPb: null !== (y = e.isPb) && void 0 !== y && y,
                          }),
                          n.push(e.wpm),
                          W.push({
                            x: e.timestamp,
                            y: 100 - e.acc,
                            errorRate: 100 - e.acc,
                          }),
                          e.wpm > a)
                        ) {
                          const t = e.punctuation
                              ? ",<br>with punctuation"
                              : "",
                            o = e.numbers
                              ? ",<br> " +
                                (e.punctuation ? "&" : "") +
                                "with numbers"
                              : "";
                          (a = e.wpm),
                            (i =
                              "custom" == e.mode
                                ? e.mode
                                : e.mode + " " + e.mode2 + t + o);
                        }
                        f += e.wpm;
                      }),
                    p.default.alwaysShowCPM
                      ? $(
                          ".pageAccount .group.history table thead tr td:nth-child(2)"
                        ).text("cpm")
                      : $(
                          ".pageAccount .group.history table thead tr td:nth-child(2)"
                        ).text("wpm"),
                    M(),
                    console.log(I);
                  const N = [],
                    z = [],
                    U = [];
                  Object.keys(K).forEach((e) => {
                    const t = parseInt(e);
                    N.push({ x: t, y: K[t].amount }),
                      z.push({
                        x: t,
                        y: _.roundTo2(K[t].time),
                        amount: K[t].amount,
                      }),
                      U.push({
                        x: t,
                        y: _.roundTo2(
                          (p.default.alwaysShowCPM
                            ? 5 * K[t].totalWpm
                            : K[t].totalWpm) / K[t].amount
                        ),
                      });
                  });
                  const Q = c.accountActivity.options.scales;
                  p.default.alwaysShowCPM
                    ? (Q.avgWpm.title.text = "Average Cpm")
                    : (Q.avgWpm.title.text = "Average Wpm"),
                    (c.accountActivity.data.datasets[0].data = z),
                    (c.accountActivity.data.datasets[1].data = U);
                  const G = [],
                    J = [],
                    Y = Object.keys(H);
                  for (let e = 0; e < Y.length; e++) {
                    const t = parseInt(Y[e]);
                    if (
                      (J.push(`${t} - ${t + 9}`),
                      G.push({ x: t, y: H[t] }),
                      t + 10 != parseInt(Y[e + 1]))
                    )
                      for (let o = t + 10; o < parseInt(Y[e + 1]); o += 10)
                        G.push({ x: o, y: 0 }), J.push(`${o} - ${o + 9}`);
                  }
                  (c.accountHistogram.data.labels = J),
                    (c.accountHistogram.data.datasets[0].data = G);
                  const Z = c.accountHistory.options.scales;
                  p.default.alwaysShowCPM
                    ? (Z.wpm.title.text = "Characters per Minute")
                    : (Z.wpm.title.text = "Words per Minute"),
                    (c.accountHistory.data.datasets[0].data = L),
                    (c.accountHistory.data.datasets[1].data = W);
                  const X = L.map((e) => e.y),
                    ee = Math.min(...X),
                    te = Math.max(...X);
                  (Z.wpm.max = Math.floor(te) + (10 - (Math.floor(te) % 10))),
                    p.default.startGraphsAtZero
                      ? (Z.wpm.min = 0)
                      : (Z.wpm.min = Math.floor(ee)),
                    L && 0 != L.length
                      ? ($(".pageAccount .group.noDataError").addClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.chart").removeClass("hidden"),
                        $(".pageAccount .group.dailyActivityChart").removeClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.histogramChart").removeClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.aboveHistory").removeClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.history").removeClass("hidden"),
                        $(".pageAccount .triplegroup.stats").removeClass(
                          "hidden"
                        ))
                      : ($(".pageAccount .group.noDataError").removeClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.chart").addClass("hidden"),
                        $(".pageAccount .group.dailyActivityChart").addClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.histogramChart").addClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.aboveHistory").addClass(
                          "hidden"
                        ),
                        $(".pageAccount .group.history").addClass("hidden"),
                        $(".pageAccount .triplegroup.stats").addClass(
                          "hidden"
                        )),
                    $(".pageAccount .timeTotalFiltered .val").text(
                      _.secondsToString(Math.round(j), !0, !0)
                    );
                  const oe = p.default.alwaysShowCPM ? "cpm" : "wpm";
                  let ne = a;
                  p.default.alwaysShowCPM && (ne = 5 * a),
                    (ne = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(ne).toFixed(2)
                      : Math.round(ne)),
                    $(".pageAccount .highestWpm .title").text(`highest ${oe}`),
                    $(".pageAccount .highestWpm .val").text(ne);
                  let ae = f;
                  p.default.alwaysShowCPM && (ae = 5 * f),
                    (ae = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(ae / h).toFixed(2)
                      : Math.round(ae / h)),
                    $(".pageAccount .averageWpm .title").text(`average ${oe}`),
                    $(".pageAccount .averageWpm .val").text(ae);
                  let ie = C;
                  p.default.alwaysShowCPM && (ie = 5 * C),
                    (ie = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(ie / b).toFixed(2)
                      : Math.round(ie / b)),
                    $(".pageAccount .averageWpm10 .title").text(
                      `average ${oe} (last 10 tests)`
                    ),
                    $(".pageAccount .averageWpm10 .val").text(ie);
                  let se = B.max;
                  p.default.alwaysShowCPM && (se = 5 * B.max),
                    (se = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(se).toFixed(2)
                      : Math.round(se)),
                    $(".pageAccount .highestRaw .title").text(
                      `highest raw ${oe}`
                    ),
                    $(".pageAccount .highestRaw .val").text(se);
                  let re = B.total;
                  p.default.alwaysShowCPM && (re = 5 * B.total),
                    (re = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(re / B.count).toFixed(2)
                      : Math.round(re / B.count)),
                    $(".pageAccount .averageRaw .title").text(
                      `average raw ${oe}`
                    ),
                    $(".pageAccount .averageRaw .val").text(re);
                  let ue = B.last10Total;
                  p.default.alwaysShowCPM && (ue = 5 * B.last10Total),
                    (ue = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(ue / B.last10Count).toFixed(2)
                      : Math.round(ue / B.last10Count)),
                    $(".pageAccount .averageRaw10 .title").text(
                      `average raw ${oe} (last 10 tests)`
                    ),
                    $(".pageAccount .averageRaw10 .val").text(ue),
                    $(".pageAccount .highestWpm .mode").html(i),
                    $(".pageAccount .testsTaken .val").text(h);
                  let le = P;
                  (le = p.default.alwaysShowDecimalPlaces
                    ? _.roundTo2(le).toFixed(2)
                    : Math.round(le)),
                    $(".pageAccount .highestAcc .val").text(le + "%");
                  let de = x;
                  (de = p.default.alwaysShowDecimalPlaces
                    ? Math.floor(de / h).toFixed(2)
                    : Math.round(de / h)),
                    $(".pageAccount .avgAcc .val").text(de + "%");
                  let ce = A;
                  if (
                    ((ce = p.default.alwaysShowDecimalPlaces
                      ? Math.floor(ce / b).toFixed(2)
                      : Math.round(ce / b)),
                    $(".pageAccount .avgAcc10 .val").text(ce + "%"),
                    0 == F || null == F)
                  )
                    $(".pageAccount .avgCons .val").text("-"),
                      $(".pageAccount .avgCons10 .val").text("-");
                  else {
                    let e = R;
                    (e = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(e).toFixed(2)
                      : Math.round(e)),
                      $(".pageAccount .highestCons .val").text(e + "%");
                    let t = F;
                    (t = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(t / V).toFixed(2)
                      : Math.round(t / V)),
                      $(".pageAccount .avgCons .val").text(t + "%");
                    let o = q;
                    (o = p.default.alwaysShowDecimalPlaces
                      ? _.roundTo2(o / Math.min(b, V)).toFixed(2)
                      : Math.round(o / Math.min(b, V))),
                      $(".pageAccount .avgCons10 .val").text(o + "%");
                  }
                  $(".pageAccount .testsStarted .val").text(`${h + r}`),
                    $(".pageAccount .testsCompleted .val").text(
                      `${h}(${Math.floor((h / (h + r)) * 100)}%)`
                    ),
                    $(".pageAccount .testsCompleted .avgres").text(
                      `\n    ${(r / h).toFixed(
                        1
                      )} restarts per completed test\n  `
                    );
                  const pe = T.map((e) => e.wpm).reverse(),
                    fe = _.findLineByLeastSquares(pe),
                    he = (fe[1][1] - fe[0][1]) * (3600 / j),
                    me = he > 0 ? "+" : "";
                  $(".pageAccount .group.chart .below .text").text(
                    `Speed change per hour spent typing: ${
                      me + _.roundTo2(p.default.alwaysShowCPM ? 5 * he : he)
                    } ${p.default.alwaysShowCPM ? "cpm" : "wpm"}.`
                  ),
                    $(".pageAccount .estimatedWordsTyped .val").text(I),
                    E(),
                    c.accountActivity.updateColors(),
                    v.updateBar(100, !0),
                    y.set(!1),
                    _.swapElements(
                      $(".pageAccount .preloader"),
                      $(".pageAccount .content"),
                      250,
                      () =>
                        s(this, void 0, void 0, function* () {
                          $(".page.pageAccount").css("height", "unset");
                        }),
                      () =>
                        s(this, void 0, void 0, function* () {
                          setTimeout(() => {
                            S.updateNameFontSize("account");
                          }, 1);
                        })
                    );
                })();
              } catch (e) {
                console.error(e), w.add(`Something went wrong: ${e}`, -1);
              }
            }
          });
        }
        function R(e, t, o = null) {
          if (
            ($("td").removeClass("headerSorted"),
            $("td").children("i").remove(),
            $(t).addClass("headerSorted"),
            T.length < 2)
          )
            return;
          const n = e;
          let a = !0;
          null !== o
            ? 1 == o
              ? $(t).append(
                  '<i class="fas fa-sort-down" aria-hidden="true"></i>'
                )
              : ((a = !1),
                $(t).append(
                  '<i class="fas fa-sort-up" aria-hidden="true"></i>'
                ))
            : parseInt(T[0][n]) <= parseInt(T[T.length - 1][n])
            ? ((a = !0),
              $(t).append(
                '<i class="fas fa-sort-down" aria-hidden="true"></i>'
              ))
            : ((a = !1),
              $(t).append(
                '<i class="fas fa-sort-up", aria-hidden="true"></i>'
              ));
          const i = [],
            s = [];
          for (; i.length < T.length; ) {
            let e = Number.MAX_VALUE,
              t = -1,
              o = -1;
            for (let i = 0; i < T.length; i++)
              a
                ? T[i][n] >= t && !s.includes(i) && ((t = T[i][n]), (o = i))
                : T[i][n] <= e && !s.includes(i) && ((e = T[i][n]), (o = i));
            i.push(T[o]), s.push(o);
          }
          (T = i), $(".pageAccount .history table tbody").empty(), (O = 0), M();
        }
        (t.smoothHistory = B),
          (t.downloadResults = I),
          (t.update = D),
          $(".pageAccount .toggleAccuracyOnChart").on("click", () => {
            f.setChartAccuracy(!p.default.chartAccuracy);
          }),
          $(".pageAccount .toggleChartStyle").on("click", () => {
            "line" == p.default.chartStyle
              ? f.setChartStyle("scatter")
              : f.setChartStyle("line");
          }),
          $(".pageAccount .loadMoreButton").on("click", () => {
            M();
          }),
          $(".pageAccount #accountHistoryChart").on("click", () => {
            var e, t, o;
            const n = c.accountHistoryActiveIndex;
            if ((M(n), !window)) return;
            const a = null !== (e = $(window).height()) && void 0 !== e ? e : 0,
              i =
                (null !==
                  (o =
                    null === (t = $(`#result-${n}`).offset()) || void 0 === t
                      ? void 0
                      : t.top) && void 0 !== o
                  ? o
                  : 0) -
                a / 2;
            $([document.documentElement, document.body]).animate(
              { scrollTop: i },
              500
            ),
              $(".resultRow").removeClass("active"),
              $(`#result-${n}`).addClass("active");
          }),
          $(".pageAccount").on("click", ".miniResultChartButton", (e) => {
            var t;
            console.log("updating");
            const o = $(e.currentTarget).attr("filteredResultsId");
            void 0 !== o &&
              (h.updateData(T[parseInt(o)].chartData),
              h.show(),
              h.updatePosition(
                e.pageX -
                  (null !==
                    (t = $(
                      ".pageAccount .miniResultChartWrapper"
                    ).outerWidth()) && void 0 !== t
                    ? t
                    : 0),
                e.pageY + 30
              ));
          }),
          $(".pageAccount .group.history").on(
            "click",
            ".history-wpm-header",
            () => {
              R("wpm", ".history-wpm-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-raw-header",
            () => {
              R("rawWpm", ".history-raw-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-acc-header",
            () => {
              R("acc", ".history-acc-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-correct-chars-header",
            () => {
              R("correctChars", ".history-correct-chars-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-incorrect-chars-header",
            () => {
              R("incorrectChars", ".history-incorrect-chars-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-consistency-header",
            () => {
              R("consistency", ".history-consistency-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-date-header",
            () => {
              R("timestamp", ".history-date-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".buttonsAndTitle .buttons .button",
            () => {
              R("timestamp", ".history-date-header", !0);
            }
          ),
          $(".pageAccount .group.topFilters").on(
            "click",
            ".button, .pageAccount .filterButtons .button",
            () => {
              setTimeout(() => {
                D();
              }, 0);
            }
          ),
          $(".pageAccount .group.presetFilterButtons").on(
            "click",
            ".filterBtns .filterPresets .select-filter-preset",
            (e) => {
              l.setFilterPreset($(e.target).data("id")), D();
            }
          ),
          $(".pageAccount .content .below .smoothing input").on("input", () => {
            E();
          }),
          $(".pageAccount .content .group.aboveHistory .exportCSV").on(
            "click",
            () => {
              _.downloadResultsCSV(T);
            }
          ),
          $(".pageAccount .profile").on("click", ".details .copyLink", () => {
            const e = u.getSnapshot();
            if (!e) return;
            const { name: t } = e,
              o = `${location.origin}/profile/${t}`;
            navigator.clipboard.writeText(o).then(
              function () {
                w.add("URL Copied to clipboard", 0);
              },
              function () {
                alert(
                  "Failed to copy using the Clipboard API. Here's the link: " +
                    o
                );
              }
            );
          }),
          (t.page = new C.default(
            "account",
            $(".page.pageAccount"),
            "/account",
            () => s(void 0, void 0, void 0, function* () {}),
            () =>
              s(void 0, void 0, void 0, function* () {
                A(), l.removeButtons();
              }),
            () =>
              s(void 0, void 0, void 0, function* () {
                var e;
                yield l.appendButtons(),
                  l.updateActive(),
                  null ==
                    (null === (e = u.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.results) &&
                    ($(".pageLoading .fill, .pageAccount .fill").css(
                      "width",
                      "0%"
                    ),
                    $(".pageAccount .content").addClass("hidden"),
                    $(".pageAccount .preloader").removeClass("hidden")),
                  D();
              }),
            () => s(void 0, void 0, void 0, function* () {})
          ));
      },
      4335: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page = t.showBar = t.updateText = t.updateBar = void 0);
        const u = i(o(3388)),
          l = r(o(3361));
        (t.updateBar = function (e, t = !1) {
          const o = t ? 100 : 1e3;
          $(".pageLoading .fill, .pageAccount .fill")
            .stop(!0, t)
            .animate({ width: e + "%" }, o);
        }),
          (t.updateText = function (e) {
            $(".pageLoading .text, .pageAccount .preloader .text").text(e);
          }),
          (t.showBar = function () {
            return s(this, void 0, void 0, function* () {
              return new Promise((e) => {
                u.swapElements(
                  $(".pageLoading .preloader .icon"),
                  $(".pageLoading .preloader .barWrapper"),
                  125,
                  () =>
                    s(this, void 0, void 0, function* () {
                      e();
                    })
                ),
                  u.swapElements(
                    $(".pageAccount .preloader .icon"),
                    $(".pageAccount .preloader .barWrapper"),
                    125,
                    () =>
                      s(this, void 0, void 0, function* () {
                        e();
                      })
                  );
              });
            });
          }),
          (t.page = new l.default(
            "loading",
            $(".page.pageLoading"),
            "/",
            () => s(void 0, void 0, void 0, function* () {}),
            () => s(void 0, void 0, void 0, function* () {}),
            () => s(void 0, void 0, void 0, function* () {}),
            () => s(void 0, void 0, void 0, function* () {})
          ));
      },
      2588: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page =
            t.updateSignupButton =
            t.hidePreloader =
            t.showPreloader =
            t.disableInputs =
            t.enableInputs =
            t.disableSignInButton =
            t.enableSignInButton =
            t.disableSignUpButton =
            t.enableSignUpButton =
              void 0);
        const u = o(2189),
          l = r(o(7355)),
          d = r(o(3361)),
          c = i(o(3368)),
          p = o(5817);
        function f() {
          $(".page.pageLogin .register.side .button").removeClass("disabled");
        }
        function h() {
          $(".page.pageLogin .register.side .button").addClass("disabled");
        }
        (t.enableSignUpButton = f),
          (t.disableSignUpButton = h),
          (t.enableSignInButton = function () {
            $(".page.pageLogin .login.side .button").removeClass("disabled");
          }),
          (t.disableSignInButton = function () {
            $(".page.pageLogin .login.side .button").addClass("disabled");
          }),
          (t.enableInputs = function () {
            $(".pageLogin input").prop("disabled", !1);
          }),
          (t.disableInputs = function () {
            $(".pageLogin input").prop("disabled", !0);
          }),
          (t.showPreloader = function () {
            $(".pageLogin .preloader").removeClass("hidden");
          }),
          (t.hidePreloader = function () {
            $(".pageLogin .preloader").addClass("hidden");
          }),
          (t.updateSignupButton = () => {
            "available" !== b.get() ||
            "valid" !== w.get() ||
            "match" !== C.get() ||
            "good" !== _.get() ||
            "match" !== S.get()
              ? h()
              : f();
          });
        const m = (0, u.debounce)(1e3, () =>
            s(void 0, void 0, void 0, function* () {
              const e = $(
                ".page.pageLogin .register.side .usernameInput"
              ).val();
              if (!e) return void (0, t.updateSignupButton)();
              const o = yield l.default.users.getNameAvailability(e);
              200 === o.status
                ? b.show("available", o.message)
                : 422 === o.status
                ? b.show("unavailable", o.message)
                : 409 === o.status
                ? b.show("taken", o.message)
                : (b.show("unavailable", o.message),
                  c.add("Failed to check name availability: " + o.message, -1)),
                (0, t.updateSignupButton)();
            })
          ),
          g = () => {
            $(".page.pageLogin .register.side .emailInput").val() ===
            $(".page.pageLogin .register.side .verifyEmailInput").val()
              ? C.show("match")
              : C.show("mismatch"),
              (0, t.updateSignupButton)();
          },
          v = () => {
            const e = $(".page.pageLogin .register.side .passwordInput").val();
            if (e.length < 8)
              _.show("short", "Password must be at least 8 characters");
            else {
              {
                const t = e.match(/[A-Z]/),
                  o = e.match(/[\d]/),
                  n = e.match(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/);
                t && o && n
                  ? _.show("good", "Password is good")
                  : _.show(
                      "weak",
                      "Password must contain at least one capital letter, number, and special character"
                    );
              }
              (0, t.updateSignupButton)();
            }
          },
          y = () => {
            $(".page.pageLogin .register.side .passwordInput").val() ===
            $(".page.pageLogin .register.side .verifyPasswordInput").val()
              ? S.show("match")
              : S.show("mismatch"),
              (0, t.updateSignupButton)();
          },
          b = new p.InputIndicator(
            $(".page.pageLogin .register.side input.usernameInput"),
            {
              available: { icon: "fa-check", level: 1 },
              unavailable: { icon: "fa-times", level: -1 },
              taken: { icon: "fa-times", level: -1 },
              checking: { icon: "fa-circle-notch", spinIcon: !0, level: 0 },
            }
          ),
          w = new p.InputIndicator(
            $(".page.pageLogin .register.side input.emailInput"),
            {
              valid: { icon: "fa-check", level: 1 },
              invalid: { icon: "fa-times", level: -1 },
            }
          ),
          C = new p.InputIndicator(
            $(".page.pageLogin .register.side input.verifyEmailInput"),
            {
              match: { icon: "fa-check", level: 1 },
              mismatch: { icon: "fa-times", level: -1 },
            }
          ),
          _ = new p.InputIndicator(
            $(".page.pageLogin .register.side input.passwordInput"),
            {
              good: { icon: "fa-check", level: 1 },
              short: { icon: "fa-times", level: -1 },
              weak: { icon: "fa-times", level: -1 },
            }
          ),
          S = new p.InputIndicator(
            $(".page.pageLogin .register.side input.verifyPasswordInput"),
            {
              match: { icon: "fa-check", level: 1 },
              mismatch: { icon: "fa-times", level: -1 },
            }
          );
        $(".page.pageLogin .register.side .usernameInput").on("input", () => {
          setTimeout(() => {
            if ("" === $(".page.pageLogin .register.side .usernameInput").val())
              return b.hide();
            b.show("checking"), m();
          }, 1);
        }),
          $(".page.pageLogin .register.side .emailInput").on("input", () => {
            if (
              !$(".page.pageLogin .register.side .emailInput").val() &&
              !$(".page.pageLogin .register.side .verifyEmailInput").val()
            )
              return w.hide(), void C.hide();
            (() => {
              const e = $(".page.pageLogin .register.side .emailInput").val();
              /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
                e
              )
                ? w.show("valid")
                : w.show("invalid"),
                (0, t.updateSignupButton)();
            })(),
              g();
          }),
          $(".page.pageLogin .register.side .verifyEmailInput").on(
            "input",
            () => {
              if (
                !$(".page.pageLogin .register.side .emailInput").val() &&
                !$(".page.pageLogin .register.side .verifyEmailInput").val()
              )
                return w.hide(), void C.hide();
              g();
            }
          ),
          $(".page.pageLogin .register.side .passwordInput").on("input", () => {
            if (
              !$(".page.pageLogin .register.side .passwordInput").val() &&
              !$(".page.pageLogin .register.side .verifyPasswordInput").val()
            )
              return _.hide(), void S.hide();
            v(), y();
          }),
          $(".page.pageLogin .register.side .verifyPasswordInput").on(
            "input",
            () => {
              if (
                !$(".page.pageLogin .register.side .passwordInput").val() &&
                !$(".page.pageLogin .register.side .verifyPasswordInput").val()
              )
                return _.hide(), void S.hide();
              v(), y();
            }
          ),
          (t.page = new d.default(
            "login",
            $(".page.pageLogin"),
            "/login",
            () => s(void 0, void 0, void 0, function* () {}),
            () => s(void 0, void 0, void 0, function* () {}),
            () => s(void 0, void 0, void 0, function* () {}),
            () => s(void 0, void 0, void 0, function* () {})
          ));
      },
      3361: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.default = class {
            constructor(e, t, o, n, a, i, s) {
              (this.name = e),
                (this.element = t),
                (this.pathname = o),
                (this.beforeHide = n),
                (this.afterHide = a),
                (this.beforeShow = i),
                (this.afterShow = s);
            }
          });
      },
      8949: function (e, t, o) {
        var n =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          a =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page = void 0);
        const i = a(o(3361)),
          s = o(5817),
          r = o(3388),
          u = a(o(7355)),
          l = o(2428),
          d = new s.InputIndicator($(".page.pageProfileSearch .search input"), {
            notFound: { icon: "fa-user-slash", level: -1 },
            error: { icon: "fa-times", level: -1 },
            checking: { icon: "fa-circle-notch", spinIcon: !0, level: 1 },
          });
        function c() {
          return (
            void 0 !==
            $(".page.pageProfileSearch .search input").attr("disabled")
          );
        }
        function p() {
          return n(this, void 0, void 0, function* () {
            d.hide();
            const e = $(".page.pageProfileSearch .search input").val();
            if ("" === e) return;
            d.show("checking"),
              $(".page.pageProfileSearch .search .button").addClass("disabled"),
              $(".page.pageProfileSearch .search input").attr(
                "disabled",
                "disabled"
              ),
              yield (0, r.sleep)(500);
            const t = yield u.default.users.getProfileByName(e);
            $(".page.pageProfileSearch .search .button").removeClass(
              "disabled"
            ),
              $(".page.pageProfileSearch .search input").removeAttr("disabled"),
              404 !== t.status
                ? 200 === t.status
                  ? (0, l.navigate)(`/profile/${e}`, { data: t.data })
                  : d.show("error", `Error: ${t.message}`)
                : d.show("notFound", "User not found");
          });
        }
        $(".page.pageProfileSearch .search input").on("keyup", (e) => {
          "Enter" !== e.key || c() || p();
        }),
          $(".page.pageProfileSearch .search .button").on("click", () => {
            c() || p();
          }),
          (t.page = new i.default(
            "profileSearch",
            $(".page.pageProfileSearch"),
            "/profile",
            () => n(void 0, void 0, void 0, function* () {}),
            () => n(void 0, void 0, void 0, function* () {}),
            () =>
              n(void 0, void 0, void 0, function* () {
                $(".page.pageProfileSearch input").val(""), d.hide();
              }),
            () =>
              n(void 0, void 0, void 0, function* () {
                $(".page.pageProfileSearch input").focus();
              })
          ));
      },
      4471: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page = void 0);
        const u = r(o(7355)),
          l = r(o(3361)),
          d = i(o(7686)),
          c = i(o(140)),
          p = i(o(3368)),
          f = o(3388);
        function h() {
          $(".page.pageProfile .preloader").removeClass("hidden"),
            $(".page.pageProfile .profile").html(
              '\n      <div class="details none">\n        <div class="avatarAndName">\n          <div class="avatars">\n            <div class="placeholderAvatar">\n              <i class="fas fa-user-circle"></i>\n            </div>\n            <div class="avatar"></div>\n          </div>\n          <div>\n            <div class="name">-</div>\n            <div class="badges"></div>\n            <div class="allBadges"></div>\n            <div class="joined" data-balloon-pos="up">-</div>\n\t          <div class="streak" data-balloon-pos="up">-</div>\n          </div>\n          <div class="levelAndBar">\n            <div class="level">-</div>\n            <div class="xpBar">\n              <div class="bar" style="width: 0%;"></div>\n            </div>\n            <div class="xp" data-balloon-pos="up">-/-</div>\n          </div>\n        </div>\n        <div class="separator sep1"></div>\n        <div class="typingStats vertical">\n          <div class="started">\n            <div class="title">tests started</div>\n            <div class="value">-</div>\n          </div>\n          <div class="completed">\n            <div class="title">tests completed</div>\n            <div class="value">-</div>\n          </div>\n          <div class="timeTyping">\n            <div class="title">time typing</div>\n            <div class="value">-</div>\n          </div>\n        </div>\n        <div class="separator sep2 hidden"></div>\n\n        <div class="bioAndKeyboard vertical hidden">\n          <div class="bio">\n            <div class="title">bio</div>\n            <div class="value">-</div>\n          </div>\n          <div class="keyboard hidden">\n            <div class="title">keyboard</div>\n            <div class="value">-</div>\n          </div>\n        </div>\n        <div class="separator sep3 hidden"></div>\n\n        <div class="socials big hidden">\n          <div class="title">socials</div>\n          <div class="value">-</div>\n        </div>\n      </div>\n      <div class="leaderboardsPositions">\n        <div class="title">All-Time English Leaderboards</div>\n        <div class="group t15">\n          <div class="testType">15 seconds</div>\n          <div class="pos">-</div>\n        </div>\n        <div class="group t60">\n          <div class="testType">60 seconds</div>\n          <div class="pos">-</div>\n        </div>\n      </div>\n      <div class="pbsWords">\n        <div class="group">\n          <div class="quick">\n            <div class="test">10 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">25 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">50 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">100 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n      </div>\n      <div class="pbsTime">\n        <div class="group">\n          <div class="quick">\n            <div class="test">15 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">30 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">60 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">120 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n      </div>'
            );
        }
        t.page = new l.default(
          "profile",
          $(".page.pageProfile"),
          "/profile",
          () => s(void 0, void 0, void 0, function* () {}),
          () =>
            s(void 0, void 0, void 0, function* () {
              h();
            }),
          (e) =>
            s(void 0, void 0, void 0, function* () {
              var t;
              const o =
                null === (t = null == e ? void 0 : e.params) || void 0 === t
                  ? void 0
                  : t.uidOrName;
              o
                ? ($(".page.pageProfile .preloader").removeClass("hidden"),
                  $(".page.pageProfile .search").addClass("hidden"),
                  $(".page.pageProfile .content").removeClass("hidden"),
                  h(),
                  (function (e) {
                    s(this, void 0, void 0, function* () {
                      const t = (0, f.checkIfGetParameterExists)("isUid");
                      if (e.data)
                        $(".page.pageProfile .preloader").addClass("hidden"),
                          d.update("profile", e.data),
                          c.update(e.data.personalBests, !0);
                      else if (e.uidOrName) {
                        const o =
                          !0 === t
                            ? yield u.default.users.getProfileByUid(e.uidOrName)
                            : yield u.default.users.getProfileByName(
                                e.uidOrName
                              );
                        if (
                          ($(".page.pageProfile .preloader").addClass("hidden"),
                          404 === o.status)
                        ) {
                          const o =
                            !0 === t
                              ? "User not found"
                              : `User ${e.uidOrName} not found`;
                          $(".page.pageProfile .preloader").addClass("hidden"),
                            $(".page.pageProfile .error").removeClass("hidden"),
                            $(".page.pageProfile .error .message").text(o);
                        } else {
                          if (200 !== o.status)
                            return p.add(
                              "Failed to load profile: " + o.message,
                              -1
                            );
                          window.history.replaceState(
                            null,
                            "",
                            `/profile/${o.data.name}`
                          );
                        }
                        d.update("profile", o.data),
                          c.update(o.data.personalBests, !0);
                      } else p.add("Missing update parameter!", -1);
                    });
                  })({ uidOrName: o, data: null == e ? void 0 : e.data }))
                : ($(".page.pageProfile .preloader").addClass("hidden"),
                  $(".page.pageProfile .search").removeClass("hidden"),
                  $(".page.pageProfile .content").addClass("hidden"));
            }),
          () => s(void 0, void 0, void 0, function* () {})
        );
      },
      8835: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page =
            t.setEventDisabled =
            t.update =
            t.showAccountSection =
            t.updateAuthSections =
            t.updateDiscordSection =
            t.hideAccountSection =
            t.fillSettingsPage =
            t.reset =
            t.groups =
              void 0);
        const u = r(o(8427)),
          l = i(o(6705)),
          d = l,
          c = i(o(5929)),
          p = i(o(3388)),
          f = i(o(6350)),
          h = i(o(8059)),
          m = i(o(9343)),
          g = i(o(4984)),
          v = i(o(4216)),
          y = i(o(3368)),
          b = i(o(9516)),
          w = i(o(1446)),
          C = i(o(7346)),
          _ = i(o(6126)),
          S = i(o(4044)),
          P = r(o(3361)),
          x = o(6617),
          k = r(o(7355));
        function T() {
          $(".pageSettings .section.themes .favThemes.buttons").empty(),
            $(".pageSettings .section.themes .allThemes.buttons").empty(),
            $(".pageSettings .section.themes .allCustomThemes.buttons").empty(),
            $(".pageSettings .section.languageGroups .buttons").empty(),
            $(".pageSettings select").empty().select2("destroy"),
            $(".pageSettings .section.funbox .buttons").empty(),
            $(".pageSettings .section.fontFamily .buttons").empty();
        }
        (t.groups = {}), (t.reset = T);
        let O = !1;
        function M() {
          return s(this, void 0, void 0, function* () {
            l.default.showKeyTips
              ? $(".pageSettings .tip").removeClass("hidden")
              : $(".pageSettings .tip").addClass("hidden");
            const e = $(".pageSettings .section.language select").empty();
            let o;
            try {
              o = yield p.getLanguageGroups();
            } catch (e) {
              console.error(
                p.createErrorMessage(
                  e,
                  "Failed to initialize settings language picker"
                )
              );
            }
            o &&
              o.forEach((t) => {
                let o = `<optgroup label="${t.name}">`;
                t.languages.forEach((e) => {
                  o += `<option value="${e}">\n        ${e.replace(
                    /_/g,
                    " "
                  )}\n      </option>`;
                }),
                  (o += "</optgroup>"),
                  e.append(o);
              }),
              e.select2({ width: "100%" });
            const n = $(".pageSettings .section.layout select").empty();
            n.append("<option value='default'>off</option>");
            const a = $(".pageSettings .section.keymapLayout select").empty();
            let i;
            a.append("<option value='overrideSync'>emulator sync</option>");
            try {
              i = yield p.getLayoutsList();
            } catch (e) {
              console.error(
                p.createErrorMessage(e, "Failed to refresh keymap")
              );
            }
            i &&
              Object.keys(i).forEach((e) => {
                "korean" !== e.toString() &&
                  n.append(
                    `<option value='${e}'>${e.replace(/_/g, " ")}</option>`
                  ),
                  "default" != e.toString() &&
                    a.append(
                      `<option value='${e}'>${e.replace(/_/g, " ")}</option>`
                    );
              }),
              n.select2({ width: "100%" }),
              a.select2({ width: "100%" });
            const r = $(
                ".pageSettings .section.autoSwitchThemeInputs select.light"
              ).empty(),
              f = $(
                ".pageSettings .section.autoSwitchThemeInputs select.dark"
              ).empty();
            let h;
            try {
              h = yield p.getThemesList();
            } catch (e) {
              console.error(
                p.createErrorMessage(
                  e,
                  "Failed to load themes into dropdown boxes"
                )
              );
            }
            if (h)
              for (const e of h)
                r.append(
                  `<option value='${e.name}'>${e.name.replace(
                    /_/g,
                    " "
                  )}</option>`
                ),
                  f.append(
                    `<option value='${e.name}'>${e.name.replace(
                      /_/g,
                      " "
                    )}</option>`
                  );
            r.select2({ width: "100%" }),
              f.select2({ width: "100%" }),
              $(".pageSettings .section.autoSwitchThemeInputs select.light")
                .val(l.default.themeLight)
                .trigger("change.select2"),
              $(".pageSettings .section.autoSwitchThemeInputs select.dark")
                .val(l.default.themeDark)
                .trigger("change.select2");
            const m = $(".pageSettings .section.funbox .buttons").empty();
            m.append("<div class=\"funbox button\" funbox='none'>none</div>"),
              p
                .getFunboxList()
                .then((e) => {
                  e.forEach((e) => {
                    "mirror" === e.name
                      ? m.append(
                          `<div class="funbox button" funbox='${
                            e.name
                          }' aria-label="${
                            e.info
                          }" data-balloon-pos="up" data-balloon-length="fit" type="${
                            e.type
                          }" style="transform:scaleX(-1);">${e.name.replace(
                            /_/g,
                            " "
                          )}</div>`
                        )
                      : m.append(
                          `<div class="funbox button" funbox='${
                            e.name
                          }' aria-label="${
                            e.info
                          }" data-balloon-pos="up" data-balloon-length="fit" type="${
                            e.type
                          }">${e.name.replace(/_/g, " ")}</div>`
                        );
                  });
                })
                .catch((e) => {
                  y.add(
                    p.createErrorMessage(
                      e,
                      "Failed to update funbox settings buttons"
                    ),
                    -1
                  );
                });
            let g = !0;
            const b = $(".pageSettings .section.fontFamily .buttons").empty();
            p
              .getFontsList()
              .then((e) => {
                e.forEach((e) => {
                  l.default.fontFamily === e.name && (g = !1),
                    b.append(
                      `<div class="button${
                        l.default.fontFamily === e.name ? " active" : ""
                      }" style="font-family:${
                        void 0 !== e.display ? e.display : e.name
                      }" fontFamily="${e.name.replace(
                        / /g,
                        "_"
                      )}" tabindex="0"\n        onclick="this.blur();">${
                        void 0 !== e.display ? e.display : e.name
                      }</div>`
                    );
                }),
                  b.append(
                    g
                      ? `<div class="button no-auto-handle custom active" onclick="this.blur();">Custom (${l.default.fontFamily.replace(
                          /_/g,
                          " "
                        )})</div>`
                      : '<div class="button no-auto-handle custom" onclick="this.blur();">Custom</div>'
                  );
              })
              .catch((e) => {
                y.add(
                  p.createErrorMessage(
                    e,
                    "Failed to update fonts settings buttons"
                  ),
                  -1
                );
              }),
              $(".pageSettings .section.customBackgroundSize input").val(
                l.default.customBackground
              ),
              $(".pageSettings .section.fontSize input").val(
                l.default.fontSize
              ),
              $(".pageSettings .section.customLayoutfluid input").val(
                l.default.customLayoutfluid.replace(/#/g, " ")
              ),
              R(!0),
              O
                ? Object.keys(t.groups).forEach((e) => {
                    t.groups[e].updateInput();
                  })
                : (yield (function () {
                    return s(this, void 0, void 0, function* () {
                      yield d.loadPromise,
                        (t.groups.smoothCaret = new u.default(
                          "smoothCaret",
                          d.setSmoothCaret,
                          "button"
                        )),
                        (t.groups.difficulty = new u.default(
                          "difficulty",
                          d.setDifficulty,
                          "button"
                        )),
                        (t.groups.quickRestart = new u.default(
                          "quickRestart",
                          d.setQuickRestartMode,
                          "button"
                        )),
                        (t.groups.showLiveWpm = new u.default(
                          "showLiveWpm",
                          d.setShowLiveWpm,
                          "button",
                          () => {
                            t.groups.keymapMode.updateInput();
                          }
                        )),
                        (t.groups.showLiveAcc = new u.default(
                          "showLiveAcc",
                          d.setShowLiveAcc,
                          "button"
                        )),
                        (t.groups.showLiveBurst = new u.default(
                          "showLiveBurst",
                          d.setShowLiveBurst,
                          "button"
                        )),
                        (t.groups.showTimerProgress = new u.default(
                          "showTimerProgress",
                          d.setShowTimerProgress,
                          "button"
                        )),
                        (t.groups.showAverage = new u.default(
                          "showAverage",
                          d.setShowAverage,
                          "button"
                        )),
                        (t.groups.keymapMode = new u.default(
                          "keymapMode",
                          d.setKeymapMode,
                          "button",
                          () => {
                            t.groups.showLiveWpm.updateInput();
                          },
                          () => {
                            "off" === l.default.keymapMode
                              ? ($(
                                  ".pageSettings .section.keymapStyle"
                                ).addClass("hidden"),
                                $(
                                  ".pageSettings .section.keymapLayout"
                                ).addClass("hidden"),
                                $(
                                  ".pageSettings .section.keymapLegendStyle"
                                ).addClass("hidden"),
                                $(
                                  ".pageSettings .section.keymapShowTopRow"
                                ).addClass("hidden"))
                              : ($(
                                  ".pageSettings .section.keymapStyle"
                                ).removeClass("hidden"),
                                $(
                                  ".pageSettings .section.keymapLayout"
                                ).removeClass("hidden"),
                                $(
                                  ".pageSettings .section.keymapLegendStyle"
                                ).removeClass("hidden"),
                                $(
                                  ".pageSettings .section.keymapShowTopRow"
                                ).removeClass("hidden"));
                          }
                        )),
                        (t.groups.keymapMatrix = new u.default(
                          "keymapStyle",
                          d.setKeymapStyle,
                          "button"
                        )),
                        (t.groups.keymapLayout = new u.default(
                          "keymapLayout",
                          d.setKeymapLayout,
                          "select"
                        )),
                        (t.groups.keymapLegendStyle = new u.default(
                          "keymapLegendStyle",
                          d.setKeymapLegendStyle,
                          "button"
                        )),
                        (t.groups.keymapShowTopRow = new u.default(
                          "keymapShowTopRow",
                          d.setKeymapShowTopRow,
                          "button"
                        )),
                        (t.groups.showKeyTips = new u.default(
                          "showKeyTips",
                          d.setKeyTips,
                          "button",
                          void 0,
                          () => {
                            l.default.showKeyTips
                              ? $(".pageSettings .tip").removeClass("hidden")
                              : $(".pageSettings .tip").addClass("hidden");
                          }
                        )),
                        (t.groups.freedomMode = new u.default(
                          "freedomMode",
                          d.setFreedomMode,
                          "button",
                          () => {
                            t.groups.confidenceMode.updateInput();
                          }
                        )),
                        (t.groups.strictSpace = new u.default(
                          "strictSpace",
                          d.setStrictSpace,
                          "button"
                        )),
                        (t.groups.oppositeShiftMode = new u.default(
                          "oppositeShiftMode",
                          d.setOppositeShiftMode,
                          "button"
                        )),
                        (t.groups.confidenceMode = new u.default(
                          "confidenceMode",
                          d.setConfidenceMode,
                          "button",
                          () => {
                            t.groups.freedomMode.updateInput(),
                              t.groups.stopOnError.updateInput();
                          }
                        )),
                        (t.groups.indicateTypos = new u.default(
                          "indicateTypos",
                          d.setIndicateTypos,
                          "button"
                        )),
                        (t.groups.hideExtraLetters = new u.default(
                          "hideExtraLetters",
                          d.setHideExtraLetters,
                          "button"
                        )),
                        (t.groups.blindMode = new u.default(
                          "blindMode",
                          d.setBlindMode,
                          "button"
                        )),
                        (t.groups.quickEnd = new u.default(
                          "quickEnd",
                          d.setQuickEnd,
                          "button"
                        )),
                        (t.groups.repeatQuotes = new u.default(
                          "repeatQuotes",
                          d.setRepeatQuotes,
                          "button"
                        )),
                        (t.groups.ads = new u.default(
                          "ads",
                          d.setAds,
                          "button"
                        )),
                        (t.groups.alwaysShowWordsHistory = new u.default(
                          "alwaysShowWordsHistory",
                          d.setAlwaysShowWordsHistory,
                          "button"
                        )),
                        (t.groups.britishEnglish = new u.default(
                          "britishEnglish",
                          d.setBritishEnglish,
                          "button"
                        )),
                        (t.groups.singleListCommandLine = new u.default(
                          "singleListCommandLine",
                          d.setSingleListCommandLine,
                          "button"
                        )),
                        (t.groups.capsLockWarning = new u.default(
                          "capsLockWarning",
                          d.setCapsLockWarning,
                          "button"
                        )),
                        (t.groups.flipTestColors = new u.default(
                          "flipTestColors",
                          d.setFlipTestColors,
                          "button"
                        )),
                        (t.groups.showOutOfFocusWarning = new u.default(
                          "showOutOfFocusWarning",
                          d.setShowOutOfFocusWarning,
                          "button"
                        )),
                        (t.groups.colorfulMode = new u.default(
                          "colorfulMode",
                          d.setColorfulMode,
                          "button"
                        )),
                        (t.groups.startGraphsAtZero = new u.default(
                          "startGraphsAtZero",
                          d.setStartGraphsAtZero,
                          "button"
                        )),
                        (t.groups.autoSwitchTheme = new u.default(
                          "autoSwitchTheme",
                          d.setAutoSwitchTheme,
                          "button"
                        )),
                        (t.groups.randomTheme = new u.default(
                          "randomTheme",
                          d.setRandomTheme,
                          "button"
                        )),
                        (t.groups.stopOnError = new u.default(
                          "stopOnError",
                          d.setStopOnError,
                          "button",
                          () => {
                            t.groups.confidenceMode.updateInput();
                          }
                        )),
                        (t.groups.soundVolume = new u.default(
                          "soundVolume",
                          d.setSoundVolume,
                          "button"
                        )),
                        (t.groups.playSoundOnError = new u.default(
                          "playSoundOnError",
                          d.setPlaySoundOnError,
                          "button",
                          () => {
                            l.default.playSoundOnError && c.playError();
                          }
                        )),
                        (t.groups.playSoundOnClick = new u.default(
                          "playSoundOnClick",
                          d.setPlaySoundOnClick,
                          "button",
                          () => {
                            "off" !== l.default.playSoundOnClick &&
                              c.playClick();
                          }
                        )),
                        (t.groups.showAllLines = new u.default(
                          "showAllLines",
                          d.setShowAllLines,
                          "button"
                        )),
                        (t.groups.paceCaret = new u.default(
                          "paceCaret",
                          d.setPaceCaret,
                          "button"
                        )),
                        (t.groups.repeatedPace = new u.default(
                          "repeatedPace",
                          d.setRepeatedPace,
                          "button"
                        )),
                        (t.groups.minWpm = new u.default(
                          "minWpm",
                          d.setMinWpm,
                          "button"
                        )),
                        (t.groups.minAcc = new u.default(
                          "minAcc",
                          d.setMinAcc,
                          "button"
                        )),
                        (t.groups.minBurst = new u.default(
                          "minBurst",
                          d.setMinBurst,
                          "button"
                        )),
                        (t.groups.smoothLineScroll = new u.default(
                          "smoothLineScroll",
                          d.setSmoothLineScroll,
                          "button"
                        )),
                        (t.groups.lazyMode = new u.default(
                          "lazyMode",
                          d.setLazyMode,
                          "button"
                        )),
                        (t.groups.layout = new u.default(
                          "layout",
                          d.setLayout,
                          "select"
                        )),
                        (t.groups.language = new u.default(
                          "language",
                          d.setLanguage,
                          "select"
                        )),
                        (t.groups.fontSize = new u.default(
                          "fontSize",
                          d.setFontSize,
                          "button"
                        )),
                        (t.groups.pageWidth = new u.default(
                          "pageWidth",
                          d.setPageWidth,
                          "button"
                        )),
                        (t.groups.caretStyle = new u.default(
                          "caretStyle",
                          d.setCaretStyle,
                          "button"
                        )),
                        (t.groups.paceCaretStyle = new u.default(
                          "paceCaretStyle",
                          d.setPaceCaretStyle,
                          "button"
                        )),
                        (t.groups.timerStyle = new u.default(
                          "timerStyle",
                          d.setTimerStyle,
                          "button"
                        )),
                        (t.groups.highlightMode = new u.default(
                          "highlightMode",
                          d.setHighlightMode,
                          "button"
                        )),
                        (t.groups.tapeMode = new u.default(
                          "tapeMode",
                          d.setTapeMode,
                          "button"
                        )),
                        (t.groups.timerOpacity = new u.default(
                          "timerOpacity",
                          d.setTimerOpacity,
                          "button"
                        )),
                        (t.groups.timerColor = new u.default(
                          "timerColor",
                          d.setTimerColor,
                          "button"
                        )),
                        (t.groups.fontFamily = new u.default(
                          "fontFamily",
                          d.setFontFamily,
                          "button",
                          void 0,
                          () => {
                            const e = $(
                              ".pageSettings .section.fontFamily .buttons .custom"
                            );
                            0 ===
                            $(
                              ".pageSettings .section.fontFamily .buttons .active"
                            ).length
                              ? (e.addClass("active"),
                                e.text(
                                  `Custom (${l.default.fontFamily.replace(
                                    /_/g,
                                    " "
                                  )})`
                                ))
                              : e.text("Custom");
                          }
                        )),
                        (t.groups.alwaysShowDecimalPlaces = new u.default(
                          "alwaysShowDecimalPlaces",
                          d.setAlwaysShowDecimalPlaces,
                          "button"
                        )),
                        (t.groups.alwaysShowCPM = new u.default(
                          "alwaysShowCPM",
                          d.setAlwaysShowCPM,
                          "button"
                        )),
                        (t.groups.customBackgroundSize = new u.default(
                          "customBackgroundSize",
                          d.setCustomBackgroundSize,
                          "button"
                        ));
                    });
                  })(),
                  (O = !0)),
              R(!1),
              yield v.refreshButtons(),
              yield d.loadPromise;
          });
        }
        function A() {
          var e;
          if (
            null ==
            (null === x.Auth || void 0 === x.Auth ? void 0 : x.Auth.currentUser)
          )
            $(".pageSettings .section.discordIntegration").addClass("hidden");
          else {
            if (!f.getSnapshot()) return;
            $(".pageSettings .section.discordIntegration").removeClass(
              "hidden"
            ),
              null ==
              (null === (e = f.getSnapshot()) || void 0 === e
                ? void 0
                : e.discordId)
                ? ($(
                    ".pageSettings .section.discordIntegration .buttons"
                  ).removeClass("hidden"),
                  $(".pageSettings .section.discordIntegration .info").addClass(
                    "hidden"
                  ))
                : ($(
                    ".pageSettings .section.discordIntegration .buttons"
                  ).addClass("hidden"),
                  $(
                    ".pageSettings .section.discordIntegration .info"
                  ).removeClass("hidden"));
          }
        }
        function j() {
          $(".pageSettings .section.passwordAuthSettings .button").addClass(
            "hidden"
          ),
            $(".pageSettings .section.googleAuthSettings .button").addClass(
              "hidden"
            );
          const e =
            null === x.Auth || void 0 === x.Auth ? void 0 : x.Auth.currentUser;
          if (!e) return;
          const t = e.providerData.find((e) => "password" === e.providerId),
            o = e.providerData.find((e) => "google.com" === e.providerId);
          t
            ? ($(
                ".pageSettings .section.passwordAuthSettings #emailPasswordAuth"
              ).removeClass("hidden"),
              $(
                ".pageSettings .section.passwordAuthSettings #passPasswordAuth"
              ).removeClass("hidden"))
            : $(
                ".pageSettings .section.passwordAuthSettings #addPasswordAuth"
              ).removeClass("hidden"),
            o
              ? ($(
                  ".pageSettings .section.googleAuthSettings #removeGoogleAuth"
                ).removeClass("hidden"),
                t
                  ? $(
                      ".pageSettings .section.googleAuthSettings #removeGoogleAuth"
                    ).removeClass("disabled")
                  : $(
                      ".pageSettings .section.googleAuthSettings #removeGoogleAuth"
                    ).addClass("disabled"))
              : $(
                  ".pageSettings .section.googleAuthSettings #addGoogleAuth"
                ).removeClass("hidden");
        }
        function L() {
          $(".pageSettings .section.funbox .button").removeClass("active"),
            $(
              `.pageSettings .section.funbox .button[funbox='${l.default.funbox}']`
            ).addClass("active");
        }
        function W() {
          var e, t;
          if (
            (null === x.Auth || void 0 === x.Auth
              ? void 0
              : x.Auth.currentUser) &&
            null !== f.getSnapshot()
          ) {
            const o = $(".pageSettings .section.tags .tagsList").empty();
            null ===
              (t =
                null === (e = f.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.tags) ||
              void 0 === t ||
              t.forEach((e) => {
                o.append(
                  `\n\n      <div class="buttons tag" id="${
                    e._id
                  }">\n        <div class="button tagButton ${
                    e.active ? "active" : ""
                  }" active="${e.active}">\n          <div class="title">${
                    e.display
                  }</div>\n        </div>\n        <div class="clearPbButton button">\n          <i class="fas fa-crown fa-fw"></i>\n        </div>\n        <div class="editButton button">\n          <i class="fas fa-pen fa-fw"></i>\n        </div>\n        <div class="removeButton button">\n          <i class="fas fa-trash fa-fw"></i>\n        </div>\n      </div>\n\n      `
                );
              }),
              $(".pageSettings .section.tags").removeClass("hidden");
          } else $(".pageSettings .section.tags").addClass("hidden");
        }
        function B() {
          var e, t;
          if (
            (null === x.Auth || void 0 === x.Auth
              ? void 0
              : x.Auth.currentUser) &&
            null !== f.getSnapshot()
          ) {
            const o = $(".pageSettings .section.presets .presetsList").empty();
            null ===
              (t =
                null === (e = f.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.presets) ||
              void 0 === t ||
              t.forEach((e) => {
                o.append(
                  `\n      <div class="buttons preset" id="${e._id}">\n        <div class="button presetButton">\n          <div class="title">${e.display}</div>\n        </div>\n        <div class="editButton button">\n          <i class="fas fa-pen fa-fw"></i>\n        </div>\n        <div class="removeButton button">\n          <i class="fas fa-trash fa-fw"></i>\n        </div>\n      </div>\n      \n      `
                );
              }),
              $(".pageSettings .section.presets").removeClass("hidden");
          } else $(".pageSettings .section.presets").addClass("hidden");
        }
        function E() {
          Object.keys(t.groups).forEach((e) => {
            t.groups[e].updateInput();
          }),
            W(),
            B(),
            L(),
            v.updateActiveTab(!0),
            v.setCustomInputs(!0),
            A(),
            j(),
            $(
              ".pageSettings .section.paceCaret input.customPaceCaretSpeed"
            ).val(l.default.paceCaretCustomSpeed),
            $(".pageSettings .section.minWpm input.customMinWpmSpeed").val(
              l.default.minWpmCustomSpeed
            ),
            $(".pageSettings .section.minAcc input.customMinAcc").val(
              l.default.minAccCustom
            ),
            $(".pageSettings .section.minBurst input.customMinBurst").val(
              l.default.minBurstCustomSpeed
            ),
            l.default.autoSwitchTheme
              ? $(".pageSettings .section.autoSwitchThemeInputs").removeClass(
                  "hidden"
                )
              : $(".pageSettings .section.autoSwitchThemeInputs").addClass(
                  "hidden"
                ),
            "" !== l.default.customBackground
              ? $(".pageSettings .section.customBackgroundFilter").removeClass(
                  "hidden"
                )
              : $(".pageSettings .section.customBackgroundFilter").addClass(
                  "hidden"
                );
        }
        function I(e) {
          $(`.pageSettings .settingsGroup.${e}`)
            .stop(!0, !0)
            .slideToggle(250)
            .toggleClass("slideup"),
            $(`.pageSettings .settingsGroup.${e}`).hasClass("slideup")
              ? $(`.pageSettings .sectionGroupTitle[group=${e}] .fas`)
                  .stop(!0, !0)
                  .animate(
                    { deg: -90 },
                    {
                      duration: 250,
                      step: function (e) {
                        $(this).css({ transform: "rotate(" + e + "deg)" });
                      },
                    }
                  )
              : $(`.pageSettings .sectionGroupTitle[group=${e}] .fas`)
                  .stop(!0, !0)
                  .animate(
                    { deg: 0 },
                    {
                      duration: 250,
                      step: function (e) {
                        $(this).css({ transform: "rotate(" + e + "deg)" });
                      },
                    }
                  );
        }
        (t.fillSettingsPage = M),
          (t.hideAccountSection = function () {
            $(".sectionGroupTitle[group='account']").addClass("hidden"),
              $(".settingsGroup.account").addClass("hidden"),
              $(".pageSettings .section.needsAccount").addClass("hidden");
          }),
          (t.updateDiscordSection = A),
          (t.updateAuthSections = j),
          (t.showAccountSection = function () {
            $(".sectionGroupTitle[group='account']").removeClass("hidden"),
              $(".settingsGroup.account").removeClass("hidden"),
              $(".pageSettings .section.needsAccount").removeClass("hidden"),
              W(),
              B(),
              A();
          }),
          (t.update = E),
          $(".pageSettings .section.paceCaret").on(
            "focusout",
            "input.customPaceCaretSpeed",
            () => {
              d.setPaceCaretCustomSpeed(
                parseInt(
                  $(
                    ".pageSettings .section.paceCaret input.customPaceCaretSpeed"
                  ).val()
                )
              );
            }
          ),
          $(".pageSettings .section.paceCaret").on(
            "click",
            ".button.save",
            () => {
              d.setPaceCaretCustomSpeed(
                parseInt(
                  $(
                    ".pageSettings .section.paceCaret input.customPaceCaretSpeed"
                  ).val()
                )
              );
            }
          ),
          $(".pageSettings .section.minWpm").on(
            "focusout",
            "input.customMinWpmSpeed",
            () => {
              d.setMinWpmCustomSpeed(
                parseInt(
                  $(
                    ".pageSettings .section.minWpm input.customMinWpmSpeed"
                  ).val()
                )
              );
            }
          ),
          $(".pageSettings .section.minWpm").on("click", ".button.save", () => {
            d.setMinWpmCustomSpeed(
              parseInt(
                $(".pageSettings .section.minWpm input.customMinWpmSpeed").val()
              )
            );
          }),
          $(".pageSettings .section.minAcc").on(
            "focusout",
            "input.customMinAcc",
            () => {
              d.setMinAccCustom(
                parseInt(
                  $(".pageSettings .section.minAcc input.customMinAcc").val()
                )
              );
            }
          ),
          $(".pageSettings .section.minAcc").on("click", ".button.save", () => {
            d.setMinAccCustom(
              parseInt(
                $(".pageSettings .section.minAcc input.customMinAcc").val()
              )
            );
          }),
          $(".pageSettings .section.minBurst").on(
            "focusout",
            "input.customMinBurst",
            () => {
              d.setMinBurstCustomSpeed(
                parseInt(
                  $(
                    ".pageSettings .section.minBurst input.customMinBurst"
                  ).val()
                )
              );
            }
          ),
          $(".pageSettings .section.minBurst").on(
            "click",
            ".button.save",
            () => {
              d.setMinBurstCustomSpeed(
                parseInt(
                  $(
                    ".pageSettings .section.minBurst input.customMinBurst"
                  ).val()
                )
              );
            }
          ),
          $(".pageSettings .section.funbox").on("click", ".button", (e) => {
            const t = $(e.currentTarget).attr("funbox"),
              o = $(e.currentTarget).attr("type");
            h.setFunbox(t, o), L();
          }),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .tagButton",
            (e) => {
              const t = e.currentTarget,
                o = $(t).parent(".tag").attr("id");
              m.toggle(o), $(t).toggleClass("active");
            }
          ),
          $(".pageSettings .section.presets").on(
            "click",
            ".presetsList .preset .presetButton",
            (e) => {
              const t = e.currentTarget,
                o = $(t).parent(".preset").attr("id");
              console.log("Applying Preset"),
                (D = !0),
                g.apply(o),
                (D = !1),
                E();
            }
          ),
          $("#importSettingsButton").on("click", () => {
            b.show("import");
          }),
          $("#exportSettingsButton").on("click", () => {
            const e = JSON.stringify(l.default);
            navigator.clipboard.writeText(e).then(
              function () {
                y.add("JSON Copied to clipboard", 0);
              },
              function () {
                b.show("export");
              }
            );
          }),
          $(".pageSettings .sectionGroupTitle").on("click", (e) => {
            I($(e.currentTarget).attr("group"));
          }),
          $(".pageSettings .section.apeKeys #showApeKeysPopup").on(
            "click",
            () => {
              _.show();
            }
          ),
          $(
            ".pageSettings .section.customBackgroundSize .inputAndButton .save"
          ).on("click", () => {
            d.setCustomBackground(
              $(
                ".pageSettings .section.customBackgroundSize .inputAndButton input"
              ).val()
            );
          }),
          $(
            ".pageSettings .section.customBackgroundSize .inputAndButton input"
          ).keypress((e) => {
            "Enter" === e.key &&
              d.setCustomBackground(
                $(
                  ".pageSettings .section.customBackgroundSize .inputAndButton input"
                ).val()
              );
          }),
          $(".pageSettings .section.fontSize .inputAndButton .save").on(
            "click",
            () => {
              d.setFontSize(
                parseFloat(
                  $(
                    ".pageSettings .section.fontSize .inputAndButton input"
                  ).val()
                )
              ) && y.add("Saved", 1, 1);
            }
          ),
          $(".pageSettings .section.fontSize .inputAndButton input").keypress(
            (e) => {
              "Enter" === e.key &&
                !0 ===
                  d.setFontSize(
                    parseFloat(
                      $(
                        ".pageSettings .section.fontSize .inputAndButton input"
                      ).val()
                    )
                  ) &&
                y.add("Saved", 1, 1);
            }
          ),
          $(
            ".pageSettings .section.customLayoutfluid .inputAndButton .save"
          ).on("click", () => {
            d.setCustomLayoutfluid(
              $(
                ".pageSettings .section.customLayoutfluid .inputAndButton input"
              ).val()
            ).then((e) => {
              e && y.add("Custom layoutfluid saved", 1);
            });
          }),
          $(
            ".pageSettings .section.customLayoutfluid .inputAndButton .input"
          ).keypress((e) => {
            "Enter" === e.key &&
              d
                .setCustomLayoutfluid(
                  $(
                    ".pageSettings .section.customLayoutfluid .inputAndButton input"
                  ).val()
                )
                .then((e) => {
                  e && y.add("Custom layoutfluid saved", 1);
                });
          }),
          $(".quickNav .links a").on("click", (e) => {
            const t = e.target.innerText;
            $(`.pageSettings .settingsGroup.${t}`).hasClass("slideup") && I(t);
          }),
          $(".pageSettings .section.updateCookiePreferences .button").on(
            "click",
            () => {
              S.show(), S.showSettings();
            }
          ),
          $(".pageSettings .section.autoSwitchThemeInputs").on(
            "change",
            "select.light",
            (e) => {
              const t = $(e.currentTarget);
              t.hasClass("disabled") ||
                t.hasClass("no-auto-handle") ||
                d.setThemeLight(t.val());
            }
          ),
          $(".pageSettings .section.autoSwitchThemeInputs").on(
            "change",
            "select.dark",
            (e) => {
              const t = $(e.currentTarget);
              t.hasClass("disabled") ||
                t.hasClass("no-auto-handle") ||
                d.setThemeDark(t.val());
            }
          ),
          $(
            ".pageSettings .section.discordIntegration .getLinkAndGoToOauth"
          ).on("click", () => {
            k.default.users.getOauthLink().then((e) => {
              window.open(e.data.url, "_self");
            });
          });
        let D = !1;
        function R(e) {
          D = e;
        }
        (t.setEventDisabled = R),
          w.subscribe((e) => {
            "fullConfigChange" === e && R(!0),
              "fullConfigChangeFinished" === e && R(!1),
              D ||
                "saveToLocalStorage" === e ||
                ("settings" === C.get() && "theme" !== e && E());
          }),
          (t.page = new P.default(
            "settings",
            $(".page.pageSettings"),
            "/settings",
            () => s(void 0, void 0, void 0, function* () {}),
            () =>
              s(void 0, void 0, void 0, function* () {
                T();
              }),
            () =>
              s(void 0, void 0, void 0, function* () {
                yield M(), E();
              }),
            () => s(void 0, void 0, void 0, function* () {})
          ));
      },
      9011: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.page = void 0);
        const u = r(o(6705)),
          l = i(o(2474)),
          d = i(o(8673)),
          c = i(o(2203)),
          p = i(o(3013)),
          f = i(o(8059)),
          h = r(o(3361)),
          m = o(1493),
          g = i(o(2148));
        t.page = new h.default(
          "test",
          $(".page.pageTest"),
          "/",
          () =>
            s(void 0, void 0, void 0, function* () {
              p.restart(), f.clear(), $("#wordsInput").focusout();
            }),
          () =>
            s(void 0, void 0, void 0, function* () {
              (0, m.updateTestPageAds)(!0);
            }),
          () =>
            s(void 0, void 0, void 0, function* () {
              (0, m.updateTestPageAds)(!1),
                l.resetIncomplete(),
                c.set(),
                p.restart({ noAnim: !0 }),
                f.activate(u.default.funbox),
                g.refresh();
            }),
          () =>
            s(void 0, void 0, void 0, function* () {
              d.focusWords();
            })
        );
      },
      6126: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = t.hide = void 0);
        const u = r(o(7355)),
          l = i(o(9817)),
          d = i(o(3368)),
          c = r(o(9546)),
          p = i(o(3285));
        let f = {};
        function h() {
          const e = f;
          if (!e) return;
          const t = $("#apeKeysPopupWrapper table tbody");
          t.empty();
          const o = Object.keys(e);
          0 !== o.length
            ? o.forEach((o) => {
                const n = e[o];
                t.append(
                  `\n      <tr keyId="${o}">\n        <td>\n          <div class="textButton">\n            ${
                    n.enabled
                      ? '<i class="fas fa-fw fa-check-square"></i>'
                      : '<i class="far fa-fw fa-square"></i>'
                  }\n          </div>\n        </td>\n        <td>${
                    n.name
                  }</td>\n        <td>${(0, c.default)(
                    new Date(n.createdOn),
                    "dd MMM yyyy HH:mm"
                  )}</td>\n        <td>${(0, c.default)(
                    new Date(n.modifiedOn),
                    "dd MMM yyyy HH:mm"
                  )}</td>\n        <td>${
                    -1 === n.lastUsedOn
                      ? "-"
                      : (0, c.default)(
                          new Date(n.lastUsedOn),
                          "dd MMM yyyy HH:mm"
                        )
                  }</td>\n        <td>\n          <div class="keyButtons">\n            <div class="button edit">\n              <i class="fas fa-fw fa-pen"></i>\n            </div>\n            <div class="button delete">\n              <i class="fas fa-fw fa-trash-alt"></i>\n            </div>\n          </div>\n        </td>\n      </tr>\n    `
                );
              })
            : t.append(
                "<tr><td colspan='6' style='text-align: center;'>No keys found</td></tr>"
              );
        }
        function m() {
          $("#apeKeysPopupWrapper").hasClass("hidden") ||
            $("#apeKeysPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#apeKeysPopupWrapper").addClass("hidden");
              });
        }
        (t.hide = m),
          (t.show = function () {
            return s(this, void 0, void 0, function* () {
              p.get()
                ? $("#apeKeysPopupWrapper").hasClass("hidden") &&
                  (yield (function () {
                    return s(this, void 0, void 0, function* () {
                      l.show();
                      const e = yield u.default.apeKeys.get();
                      l.hide(),
                        200 === e.status
                          ? (f = e.data)
                          : d.add("Error getting ape keys: " + e.message, -1);
                    });
                  })(),
                  h(),
                  $("#apeKeysPopupWrapper")
                    .stop(!0, !0)
                    .css("opacity", 0)
                    .removeClass("hidden")
                    .animate({ opacity: 1 }, 100, () => {
                      $("#apeKeysPopup textarea")
                        .trigger("focus")
                        .trigger("select");
                    }))
                : d.add("You are offline", 0, 2);
            });
          }),
          $("#apeKeysPopupWrapper").on("mousedown", (e) => {
            "apeKeysPopupWrapper" === $(e.target).attr("id") && m();
          }),
          $("#apeKeysPopup .generateApeKey").on("click", () => {
            m();
          }),
          $("#popups").on(
            "click",
            "#apeKeysPopup table .keyButtons .button",
            () => {
              m();
            }
          ),
          $("#popups").on("click", "#apeKeysPopup table .textButton", (e) =>
            s(void 0, void 0, void 0, function* () {
              const t = $(e.target).closest("tr").attr("keyId"),
                o = null == f ? void 0 : f[t];
              if (!o || !f) return;
              l.show();
              const n = yield u.default.apeKeys.update(t, {
                enabled: !o.enabled,
              });
              if ((l.hide(), 200 !== n.status))
                return d.add("Failed to update key: " + n.message, -1);
              (f[t].enabled = !o.enabled),
                h(),
                o.enabled ? d.add("Key active", 1) : d.add("Key inactive", 1);
            })
          );
      },
      5153: () => {
        $(document.body).on(
          "click",
          "#contactPopupButton, #contactPopupButton2",
          () => {
            $("#contactPopupWrapper")
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 125);
          }
        ),
          $(document.body).on("click", "#contactPopupWrapper", (e) => {
            "contactPopupWrapper" === $(e.target).attr("id") &&
              $("#contactPopupWrapper")
                .css("opacity", 1)
                .animate({ opacity: 0 }, 125, () => {
                  $("#contactPopupWrapper").addClass("hidden");
                });
          }),
          $(document.body).on(
            "keypress",
            "#contactPopupButton, #contactPopupButton2",
            (e) => {
              "Enter" === e.key && $(e.currentTarget).trigger("click");
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#contactPopupWrapper").hasClass("hidden") ||
              $("#contactPopupWrapper")
                .css("opacity", 1)
                .animate({ opacity: 0 }, 125, () => {
                  $("#contactPopupWrapper").addClass("hidden");
                });
          });
      },
      4044: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.showSettings = t.hide = t.show = t.check = void 0);
        const r = o(3326),
          u = o(8673),
          l = i(o(3368));
        let d = !1;
        function c(e) {
          localStorage.setItem("acceptedCookies", JSON.stringify(e));
        }
        function p() {
          void 0 !== $("#cookiePopupWrapper")[0]
            ? $("#cookiePopupWrapper").hasClass("hidden") &&
              $("#cookiePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 100, () => {
                  d =
                    !1 !== $("#cookiePopupWrapper").is(":visible") &&
                    0 !== $("#cookiePopupWrapper").outerHeight(!0);
                })
            : (d = !1);
        }
        function f() {
          return s(this, void 0, void 0, function* () {
            $("#cookiePopupWrapper").hasClass("hidden") ||
              ((0, u.focusWords)(),
              $("#cookiePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate({ opacity: 0 }, 100, () => {
                  $("#cookiePopupWrapper").addClass("hidden"), (d = !1);
                }));
          });
        }
        function h() {
          $("#cookiePopup .main").addClass("hidden"),
            $("#cookiePopup .settings").removeClass("hidden");
        }
        (t.check = function () {
          null ===
            (function () {
              const e = localStorage.getItem("acceptedCookies");
              return e ? JSON.parse(e) : null;
            })() && p();
        }),
          (t.show = p),
          (t.hide = f),
          (t.showSettings = h),
          $("#cookiePopup .acceptAll").on("click", () => {
            c({ security: !0, analytics: !0 }), (0, r.activateAnalytics)(), f();
          }),
          $("#cookiePopup .rejectAll").on("click", () => {
            c({ security: !0, analytics: !1 }), f();
          }),
          $("#cookiePopup .acceptSelected").on("click", () => {
            const e = $("#cookiePopup .cookie.analytics input").prop("checked");
            c({ security: !0, analytics: e }),
              f(),
              !0 === e && (0, r.activateAnalytics)();
          }),
          $("#cookiePopup .openSettings").on("click", () => {
            h();
          }),
          $(document).on("keypress", (e) => {
            d && e.preventDefault();
          }),
          $("#cookiePopup .cookie.ads .text-button").on("click", () => {
            try {
              window.__tcfapi("displayConsentUi", 2, function () {});
            } catch (e) {
              console.error("Failed to open ad consent UI"),
                l.add(
                  "Failed to open Ad consent popup. Do you have an ad or cookie popup blocker enabled?",
                  -1
                );
            }
          });
      },
      3603: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const s = i(o(6705)),
          r = i(o(2203)),
          u = i(o(3013)),
          l = i(o(3368));
        function d(e) {
          const t = [
            ...e.toLowerCase().matchAll(/((-\s*)?\d+(\.\d+)?\s*[hms]?)/g),
          ]
            .map((e) => {
              const t = e[0],
                o = parseFloat(t.replace(/\s+/g, ""));
              return t.includes("h") ? 3600 * o : t.includes("m") ? 60 * o : o;
            })
            .reduce((e, t) => e + t, 0);
          return Math.floor(t);
        }
        function c() {
          const e = d($("#customTestDurationPopup input").val());
          let t = "";
          (t =
            e < 0
              ? "NEGATIVE TIME"
              : 0 == e
              ? "Infinite test"
              : "Total time: " +
                (function (e) {
                  const t = Math.floor(e / 3600),
                    o = Math.floor((e % 3600) / 60),
                    n = (e % 3600) % 60,
                    a = [];
                  return (
                    t > 0 && a.push(`${t} hour${1 === t ? "" : "s"}`),
                    o > 0 && a.push(`${o} minute${1 === o ? "" : "s"}`),
                    n > 0 && a.push(`${n} second${1 === n ? "" : "s"}`),
                    3 === a.length
                      ? `${a[0]}, ${a[1]} and ${a[2]}`
                      : 2 === a.length
                      ? `${a[0]} and ${a[1]}`
                      : `${a[0]}`
                  );
                })(e)),
            $("#customTestDurationPopup .preview").text(t);
        }
        function p() {
          $("#customTestDurationPopupWrapper").hasClass("hidden") &&
            $("#customTestDurationPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100, () => {
                $("#customTestDurationPopup input")
                  .trigger("focus")
                  .trigger("select");
              }),
            c();
        }
        function f() {
          $("#customTestDurationPopupWrapper").hasClass("hidden") ||
            $("#customTestDurationPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#customTestDurationPopupWrapper").addClass("hidden");
              });
        }
        function h() {
          const e = d($("#customTestDurationPopup input").val());
          null !== e && !isNaN(e) && e >= 0 && isFinite(e)
            ? (s.setTimeConfig(e),
              r.set(),
              u.restart(),
              e >= 1800
                ? l.add("Stay safe and take breaks!", 0)
                : 0 == e &&
                  l.add(
                    "Infinite time! Make sure to use Bail Out from the command line to save your result.",
                    0,
                    7
                  ))
            : l.add("Custom time must be at least 1", 0),
            f();
        }
        (t.show = p),
          (t.hide = f),
          $("#customTestDurationPopupWrapper").on("click", (e) => {
            "customTestDurationPopupWrapper" === $(e.target).attr("id") && f();
          }),
          $("#customTestDurationPopup input").keyup((e) => {
            c(), "Enter" === e.key && h();
          }),
          $("#customTestDurationPopup .button").on("click", () => {
            h();
          }),
          $("#testConfig").on("click", ".time .textButton", (e) => {
            "custom" == $(e.currentTarget).attr("timeConfig") && p();
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#customTestDurationPopupWrapper").hasClass("hidden") ||
              (f(), e.preventDefault());
          });
      },
      2786: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.isVisible = t.hide = t.show = t.updateLongTextWarning = void 0);
        const s = i(o(8248)),
          r = i(o(7717)),
          u = i(o(2203)),
          l = i(o(3013)),
          d = i(o(7567)),
          c = i(o(6705)),
          p = c,
          f = i(o(3388)),
          h = i(o(9231)),
          m = i(o(3368)),
          g = i(o(5177)),
          v = i(o(2828)),
          y = "#customTextPopupWrapper",
          b = "#customTextPopup";
        function w() {
          !0 === r.isCustomTextLong()
            ? ($(`${b} .longCustomTextWarning`).removeClass("hidden"),
              $(`${b} .randomWordsCheckbox input`).prop("checked", !1),
              $(`${b} .delimiterCheck input`).prop("checked", !1),
              $(`${b} .typographyCheck`).prop("checked", !0),
              $(`${b} .replaceNewlineWithSpace input`).prop("checked", !1),
              $(`${b} .inputs`).addClass("disabled"))
            : ($(`${b} .longCustomTextWarning`).addClass("hidden"),
              $(`${b} .inputs`).removeClass("disabled"));
        }
        function C() {
          $(y).hasClass("hidden") &&
            (w(),
            $(`${b} .randomWordsCheckbox input`).prop("checked")
              ? $(`${b} .inputs .randomInputFields`).removeClass("disabled")
              : $(`${b} .inputs .randomInputFields`).addClass("disabled"),
            $(`${b} .replaceNewlineWithSpace input`).prop("checked")
              ? $(`${b} .inputs .replaceNewLinesButtons`).removeClass(
                  "disabled"
                )
              : $(`${b} .inputs .replaceNewLinesButtons`).addClass("disabled"),
            $(y)
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100, () => {
                let e = s.text.join(s.delimiter);
                (e = e.replace(/\n /g, "\n")),
                  $(`${b} textarea`).val(e),
                  $(`${b} .wordcount input`).val(-1 === s.word ? "" : s.word),
                  $(`${b} .time input`).val(-1 === s.time ? "" : s.time),
                  $(`${b} textarea`).trigger("focus");
              })),
            setTimeout(() => {
              r.isCustomTextLong() || $(`${b} textarea`).trigger("focus");
            }, 150);
        }
        function _() {
          $(y).hasClass("hidden") ||
            $(y)
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $(y).addClass("hidden");
              });
        }
        (t.updateLongTextWarning = w),
          (t.show = C),
          $(`${b} .delimiterCheck input`).on("change", () => {
            let e;
            if (
              ((e = $(`${b} .delimiterCheck input`).prop("checked")
                ? "|"
                : " "),
              $(`${b} textarea`).val() != s.text.join(s.delimiter))
            ) {
              let t = $(`${b} textarea`).val().split(s.delimiter).join(e);
              (t = t.replace(/\n /g, "\n")), $(`${b} textarea`).val(t);
            } else {
              let t = s.text.join(e);
              (t = t.replace(/\n /g, "\n")), $(`${b} textarea`).val(t);
            }
            s.setDelimiter(e);
          }),
          (t.hide = _),
          (t.isVisible = function () {
            return !$(y).hasClass("hidden");
          }),
          $(y).on("mousedown", (e) => {
            "customTextPopupWrapper" === $(e.target).attr("id") && _();
          }),
          $(`${b} .inputs .randomWordsCheckbox input`).on("change", () => {
            $(`${b} .randomWordsCheckbox input`).prop("checked")
              ? $(`${b} .inputs .randomInputFields`).removeClass("disabled")
              : $(`${b} .inputs .randomInputFields`).addClass("disabled");
          }),
          $(`${b} .replaceNewlineWithSpace input`).on("change", () => {
            $(`${b} .replaceNewlineWithSpace input`).prop("checked")
              ? $(`${b} .inputs .replaceNewLinesButtons`).removeClass(
                  "disabled"
                )
              : $(`${b} .inputs .replaceNewLinesButtons`).addClass("disabled");
          }),
          $(`${b} .inputs .replaceNewLinesButtons .button`).on("click", (e) => {
            $(`${b} .inputs .replaceNewLinesButtons .button`).removeClass(
              "active"
            ),
              $(e.target).addClass("active");
          }),
          $(`${b} textarea`).on("keypress", (e) => {
            $(`${b} .longCustomTextWarning`).hasClass("hidden")
              ? ("Enter" === e.code &&
                  e.ctrlKey &&
                  $(`${b} .button.apply`).trigger("click"),
                r.isCustomTextLong() &&
                  "" !== r.getCustomTextName() &&
                  (r.setCustomTextName("", void 0),
                  m.add("Disabled long custom text progress tracking", 0, 5),
                  w()))
              : e.preventDefault();
          }),
          $(`${b} .randomInputFields .wordcount input`).on("keypress", () => {
            $(`${b} .randomInputFields .time input`).val("");
          }),
          $(`${b} .randomInputFields .time input`).on("keypress", () => {
            $(`${b} .randomInputFields .wordcount input`).val("");
          }),
          $(`${b} .buttonsTop .showSavedTexts`).on("click", () => {
            g.show();
          }),
          $(`${b} .buttonsTop .saveCustomText`).on("click", () => {
            _();
          }),
          $("#popups").on("click", `${b} .button.apply`, () => {
            !(function () {
              let e = $(`${b} textarea`).val().normalize();
              if (
                ((e = e.trim()),
                (e = e.replace(/\\\\t/gm, "\t")),
                (e = e.replace(/\\\\n/gm, "\n")),
                (e = e.replace(/\\t/gm, "\t")),
                (e = e.replace(/\\n/gm, "\n")),
                (e = e.replace(/ +/gm, " ")),
                (e = e.replace(/( *(\r\n|\r|\n) *)/g, "\n ")),
                $(`${b} .typographyCheck input`).prop("checked") &&
                  (e = f.cleanTypographySymbols(e)),
                $(`${b} .replaceNewlineWithSpace input`).prop("checked"))
              ) {
                let t = !0;
                $($(`${b} .replaceNewLinesButtons .button`)[0]).hasClass(
                  "active"
                ) && (t = !1),
                  t
                    ? ((e = e.replace(/\n/gm, ". ")),
                      (e = e.replace(/\.\. /gm, ". ")),
                      (e = e.replace(/ +/gm, " ")))
                    : ((e = e.replace(/\n/gm, " ")),
                      (e = e.replace(/ +/gm, " ")));
              }
              (e = e.replace(/[\u2060]/g, "")),
                s.setText(e.split(s.delimiter)),
                s.setWord(parseInt($(`${b} .wordcount input`).val()) || -1),
                s.setTime(parseInt($(`${b} .time input`).val()) || -1),
                s.setIsWordRandom(
                  $(`${b} .randomWordsCheckbox input`).prop("checked") &&
                    s.word > -1
                ),
                s.setIsTimeRandom(
                  $(`${b} .randomWordsCheckbox input`).prop("checked") &&
                    s.time > -1
                ),
                !$(`${b} .randomWordsCheckbox input`).prop("checked") ||
                s.isTimeRandom ||
                s.isWordRandom
                  ? $(`${b} .randomWordsCheckbox input`).prop("checked") &&
                    s.isTimeRandom &&
                    s.isWordRandom
                    ? m.add(
                        "You need to pick between word count or time in seconds to start a random custom test",
                        0,
                        5
                      )
                    : (((s.isWordRandom && 0 === s.word) ||
                        (s.isTimeRandom && 0 === s.time)) &&
                        m.add(
                          "Infinite words! Make sure to use Bail Out from the command line to save your result.",
                          0,
                          7
                        ),
                      d.clearActive(),
                      u.set(),
                      "custom" !== c.default.mode && p.setMode("custom"),
                      l.restart(),
                      _())
                  : m.add(
                      "You need to specify word count or time in seconds to start a random custom test",
                      0,
                      5
                    );
            })();
          }),
          $("#popups").on("click", `${b} .wordfilter`, () => {
            h.show();
          }),
          $(".pageTest").on(
            "click",
            "#testConfig .customText .textButton",
            () => {
              C();
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#customTextPopupWrapper").hasClass("hidden") ||
              (_(), e.preventDefault());
          }),
          $("#customTextPopup .buttonsTop .saveCustomText").on("click", () => {
            v.show();
          }),
          $("#customTextPopup .longCustomTextWarning .button").on(
            "click",
            () => {
              $("#customTextPopup .longCustomTextWarning").addClass("hidden");
            }
          );
      },
      8628: (e, t) => {
        function o() {
          $("#customThemeShareWrapper").hasClass("hidden") ||
            ($("#customThemeShareWrapper input").val(""),
            $("#customThemeShareWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#customThemeShareWrapper").addClass("hidden");
              }));
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0),
          (t.show = function (e) {
            $("#customThemeShareWrapper").hasClass("hidden") &&
              ($("#customThemeShareWrapper input").val(e),
              $("#customThemeShareWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 100, () => {
                  $("#customThemeShare input").trigger("focus"),
                    $("#customThemeShare input").trigger("select"),
                    $("#customThemeShare input").trigger("focus");
                }));
          }),
          $("#customThemeShareWrapper").on("click", (e) => {
            "customThemeShareWrapper" === $(e.target).attr("id") && o();
          }),
          $("#customThemeShare .button").on("click", () => {
            o();
          });
      },
      6021: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const s = i(o(6705)),
          r = i(o(2203)),
          u = i(o(3013)),
          l = i(o(3368));
        function d() {
          $("#customWordAmountPopupWrapper").hasClass("hidden") &&
            $("#customWordAmountPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100, () => {
                $("#customWordAmountPopup input")
                  .trigger("focus")
                  .trigger("select");
              });
        }
        function c() {
          $("#customWordAmountPopupWrapper").hasClass("hidden") ||
            $("#customWordAmountPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#customWordAmountPopupWrapper").addClass("hidden");
              });
        }
        function p() {
          const e = parseInt($("#customWordAmountPopup input").val());
          null !== e && !isNaN(e) && e >= 0 && isFinite(e)
            ? (s.setWordCount(e),
              r.set(),
              u.restart(),
              e > 2e3
                ? l.add("Stay safe and take breaks!", 0)
                : 0 == e &&
                  l.add(
                    "Infinite words! Make sure to use Bail Out from the command line to save your result.",
                    0,
                    7
                  ))
            : l.add("Custom word amount must be at least 1", 0),
            c();
        }
        (t.show = d),
          (t.hide = c),
          $("#customWordAmountPopupWrapper").on("click", (e) => {
            "customWordAmountPopupWrapper" === $(e.target).attr("id") && c();
          }),
          $("#customWordAmountPopup input").on("keypress", (e) => {
            "Enter" === e.key && p();
          }),
          $("#customWordAmountPopup .button").on("click", () => {
            p();
          }),
          $("#testConfig").on("click", ".wordCount .textButton", (e) => {
            "custom" == $(e.currentTarget).attr("wordCount") && d();
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#customWordAmountPopupWrapper").hasClass("hidden") ||
              (c(), e.preventDefault());
          });
      },
      2845: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const u = r(o(7355)),
          l = i(o(6350)),
          d = i(o(6705)),
          c = i(o(9817)),
          p = i(o(8835)),
          f = i(o(3368)),
          h = i(o(3285));
        function m(e, t, o) {
          h.get()
            ? ("add" === e
                ? ($("#presetWrapper #presetEdit").attr("action", "add"),
                  $("#presetWrapper #presetEdit .title").html("Add new preset"),
                  $("#presetWrapper #presetEdit .button").html("add"),
                  $("#presetWrapper #presetEdit input.text").val(""),
                  $("#presetWrapper #presetEdit input.text").removeClass(
                    "hidden"
                  ),
                  $("#presetWrapper #presetEdit label").addClass("hidden"))
                : "edit" === e && t && o
                ? ($("#presetWrapper #presetEdit").attr("action", "edit"),
                  $("#presetWrapper #presetEdit").attr("presetid", t),
                  $("#presetWrapper #presetEdit .title").html("Edit preset"),
                  $("#presetWrapper #presetEdit .button").html("save"),
                  $("#presetWrapper #presetEdit input.text").val(o),
                  $("#presetWrapper #presetEdit input.text").removeClass(
                    "hidden"
                  ),
                  $("#presetWrapper #presetEdit label input").prop(
                    "checked",
                    !1
                  ),
                  $("#presetWrapper #presetEdit label").removeClass("hidden"))
                : "remove" === e &&
                  t &&
                  ($("#presetWrapper #presetEdit").attr("action", "remove"),
                  $("#presetWrapper #presetEdit").attr("presetid", t),
                  $("#presetWrapper #presetEdit .title").html(
                    "Delete preset " + o
                  ),
                  $("#presetWrapper #presetEdit .button").html("Delete"),
                  $("#presetWrapper #presetEdit input.text").addClass("hidden"),
                  $("#presetWrapper #presetEdit label").addClass("hidden")),
              $("#presetWrapper").hasClass("hidden") &&
                $("#presetWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate({ opacity: 1 }, 100, () => {
                    $("#presetWrapper #presetEdit input").trigger("focus");
                  }))
            : f.add("You are offline", 0, 2);
        }
        function g() {
          $("#presetWrapper").hasClass("hidden") ||
            ($("#presetWrapper #presetEdit").attr("action", ""),
            $("#presetWrapper #presetEdit").attr("tagid", ""),
            $("#presetWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#presetWrapper").addClass("hidden");
              }));
        }
        function v() {
          var e, t, o, n;
          return s(this, void 0, void 0, function* () {
            const a = $("#presetWrapper #presetEdit").attr("action"),
              i = $("#presetWrapper #presetEdit input").val(),
              s = i.replaceAll(" ", "_"),
              r = $("#presetWrapper #presetEdit").attr("presetId"),
              h = $("#presetWrapper #presetEdit label input").prop("checked");
            let m = {};
            if ((h && "edit" === a) || "add" === a) {
              m = d.getConfigChanges();
              const o = (
                null !==
                  (t =
                    null === (e = l.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.tags) && void 0 !== t
                  ? t
                  : []
              )
                .filter((e) => e.active)
                .map((e) => e._id);
              m.tags = o;
            }
            const v =
              null !==
                (n =
                  null === (o = l.getSnapshot()) || void 0 === o
                    ? void 0
                    : o.presets) && void 0 !== n
                ? n
                : [];
            if ((g(), c.show(), "add" === a)) {
              const e = yield u.default.presets.add(s, m);
              200 !== e.status
                ? f.add("Failed to add preset: " + e.message.replace(s, i), -1)
                : (f.add("Preset added", 1, 2),
                  v.push({
                    name: s,
                    config: m,
                    display: i,
                    _id: e.data.presetId,
                  }));
            } else if ("edit" === a) {
              const e = yield u.default.presets.edit(r, s, m);
              if (200 !== e.status)
                f.add("Failed to edit preset: " + e.message, -1);
              else {
                f.add("Preset updated", 1);
                const e = v.filter((e) => e._id === r)[0];
                (e.name = s), h && (e.config = m);
              }
            } else if ("remove" === a) {
              const e = yield u.default.presets.delete(r);
              200 !== e.status
                ? f.add("Failed to remove preset: " + e.message, -1)
                : (f.add("Preset removed", 1),
                  v.forEach((e, t) => {
                    e._id === r && v.splice(t, 1);
                  }));
            }
            p.update(), c.hide();
          });
        }
        (t.show = m),
          $("#presetWrapper").on("click", (e) => {
            "presetWrapper" === $(e.target).attr("id") && g();
          }),
          $("#presetWrapper #presetEdit .button").on("click", () => {
            v();
          }),
          $("#presetWrapper #presetEdit input").on("keypress", (e) => {
            "Enter" === e.key && v();
          }),
          $(".pageSettings .section.presets").on(
            "click",
            ".addPresetButton",
            () => {
              m("add");
            }
          ),
          $(".pageSettings .section.presets").on(
            "click",
            ".editButton",
            (e) => {
              m(
                "edit",
                $(e.currentTarget).parent(".preset").attr("id"),
                $(e.currentTarget).siblings(".button").children(".title").text()
              );
            }
          ),
          $(".pageSettings .section.presets").on(
            "click",
            ".removeButton",
            (e) => {
              m(
                "remove",
                $(e.currentTarget).parent(".preset").attr("id"),
                $(e.currentTarget).siblings(".button").children(".title").text()
              );
            }
          );
      },
      8281: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const u = r(o(7355)),
          l = o(7401),
          d = i(o(6350)),
          c = i(o(9817)),
          p = i(o(3368)),
          f = i(o(3285));
        let h = null;
        function m() {
          $("#editProfilePopupWrapper").hasClass("hidden") ||
            (h && h(),
            $("#editProfilePopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#editProfilePopupWrapper").addClass("hidden");
              }));
        }
        (t.show = function (e) {
          f.get()
            ? $("#editProfilePopupWrapper").hasClass("hidden") &&
              ((h = e),
              $("#editProfilePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 100, () => {
                  !(function () {
                    var e, t, o, n, a, i;
                    const s = d.getSnapshot();
                    if (!s) return;
                    const r =
                        null !==
                          (t =
                            null === (e = s.inventory) || void 0 === e
                              ? void 0
                              : e.badges) && void 0 !== t
                          ? t
                          : [],
                      {
                        bio: u,
                        keyboard: c,
                        socialProfiles: p,
                      } = null !== (o = s.details) && void 0 !== o ? o : {};
                    (_ = -1),
                      g.val(null != u ? u : ""),
                      v.val(null != c ? c : ""),
                      y.val(
                        null !== (n = null == p ? void 0 : p.twitter) &&
                          void 0 !== n
                          ? n
                          : ""
                      ),
                      b.val(
                        null !== (a = null == p ? void 0 : p.github) &&
                          void 0 !== a
                          ? a
                          : ""
                      ),
                      w.val(
                        null !== (i = null == p ? void 0 : p.website) &&
                          void 0 !== i
                          ? i
                          : ""
                      ),
                      C.html(""),
                      null == r ||
                        r.forEach((e) => {
                          e.selected && (_ = e.id);
                          const t = (0, l.getHTMLById)(e.id, !1, !0),
                            o = `<div class="badgeSelectionItem ${
                              e.selected ? "selected" : ""
                            }" selection-id=${e.id}>${t}</div>`;
                          C.append(o);
                        }),
                      C.prepend(
                        `<div class="badgeSelectionItem ${
                          -1 === _ ? "selected" : ""
                        }" selection-id=-1>\n      <div class="badge">\n        <i class="fas fa-frown-open"></i>\n        <div class="text">none</div>\n      </div>\n    </div>`
                      ),
                      $(".badgeSelectionItem").on(
                        "click",
                        ({ currentTarget: e }) => {
                          const t = $(e).attr("selection-id");
                          (_ = parseInt(t, 10)),
                            C.find(".badgeSelectionItem").removeClass(
                              "selected"
                            ),
                            $(e).addClass("selected");
                        }
                      );
                  })();
                }))
            : p.add("You are offline", 0, 2);
        }),
          (t.hide = m);
        const g = $("#editProfilePopup .bio"),
          v = $("#editProfilePopup .keyboard"),
          y = $("#editProfilePopup .twitter"),
          b = $("#editProfilePopup .github"),
          w = $("#editProfilePopup .website"),
          C = $("#editProfilePopup .badgeSelectionContainer");
        let _ = -1;
        $("#editProfilePopupWrapper").on("click", (e) => {
          "editProfilePopupWrapper" === $(e.target).attr("id") && m();
        }),
          $("#editProfilePopup .edit-profile-submit").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              yield (function () {
                var e;
                return s(this, void 0, void 0, function* () {
                  const t = d.getSnapshot();
                  if (!t) return;
                  const o = (function () {
                    var e, t, o, n, a;
                    return {
                      bio: null !== (e = g.val()) && void 0 !== e ? e : "",
                      keyboard: null !== (t = v.val()) && void 0 !== t ? t : "",
                      socialProfiles: {
                        twitter:
                          null !== (o = y.val()) && void 0 !== o ? o : "",
                        github: null !== (n = b.val()) && void 0 !== n ? n : "",
                        website:
                          null !== (a = w.val()) && void 0 !== a ? a : "",
                      },
                    };
                  })();
                  c.show();
                  const n = yield u.default.users.updateProfile(o, _);
                  c.hide(),
                    200 === n.status
                      ? ((t.details = o),
                        null === (e = t.inventory) ||
                          void 0 === e ||
                          e.badges.forEach((e) => {
                            e.id === _ ? (e.selected = !0) : delete e.selected;
                          }),
                        p.add("Profile updated", 1),
                        m())
                      : p.add("Failed to update profile: " + n.message, -1);
                });
              })();
            })
          ),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#editProfilePopupWrapper").hasClass("hidden") ||
              (m(), e.preventDefault());
          });
      },
      7841: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const u = r(o(7355)),
          l = i(o(1329)),
          d = i(o(6350)),
          c = i(o(3368)),
          p = i(o(9817)),
          f = i(o(8835)),
          h = i(o(3875)),
          m = i(o(3285));
        function g(e, t, o) {
          m.get()
            ? ("add" === e
                ? ($("#tagsWrapper #tagsEdit").attr("action", "add"),
                  $("#tagsWrapper #tagsEdit .title").html("Add new tag"),
                  $("#tagsWrapper #tagsEdit .button").html("add"),
                  $("#tagsWrapper #tagsEdit input").val(""),
                  $("#tagsWrapper #tagsEdit input").removeClass("hidden"))
                : "edit" === e && t && o
                ? ($("#tagsWrapper #tagsEdit").attr("action", "edit"),
                  $("#tagsWrapper #tagsEdit").attr("tagid", t),
                  $("#tagsWrapper #tagsEdit .title").html("Edit tag name"),
                  $("#tagsWrapper #tagsEdit .button").html("save"),
                  $("#tagsWrapper #tagsEdit input").val(o),
                  $("#tagsWrapper #tagsEdit input").removeClass("hidden"))
                : "remove" === e && t && o
                ? ($("#tagsWrapper #tagsEdit").attr("action", "remove"),
                  $("#tagsWrapper #tagsEdit").attr("tagid", t),
                  $("#tagsWrapper #tagsEdit .title").html("Delete tag " + o),
                  $("#tagsWrapper #tagsEdit .button").html("delete"),
                  $("#tagsWrapper #tagsEdit input").addClass("hidden"))
                : "clearPb" === e &&
                  t &&
                  o &&
                  ($("#tagsWrapper #tagsEdit").attr("action", "clearPb"),
                  $("#tagsWrapper #tagsEdit").attr("tagid", t),
                  $("#tagsWrapper #tagsEdit .title").html(
                    "Clear PB for tag " + o
                  ),
                  $("#tagsWrapper #tagsEdit .button").html("clear"),
                  $("#tagsWrapper #tagsEdit input").addClass("hidden")),
              $("#tagsWrapper").hasClass("hidden") &&
                $("#tagsWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate({ opacity: 1 }, 100, () => {
                    console.log("focusing"),
                      $("#tagsWrapper #tagsEdit input").trigger("focus");
                  }))
            : c.add("You are offline", 0, 2);
        }
        function v() {
          $("#tagsWrapper").hasClass("hidden") ||
            ($("#tagsWrapper #tagsEdit").attr("action", ""),
            $("#tagsWrapper #tagsEdit").attr("tagid", ""),
            $("#tagsWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#tagsWrapper").addClass("hidden");
              }));
        }
        function y() {
          var e, t, o, n, a, i, r, m;
          return s(this, void 0, void 0, function* () {
            const s = $("#tagsWrapper #tagsEdit").attr("action"),
              g = $("#tagsWrapper #tagsEdit input").val(),
              y = g.replaceAll(" ", "_"),
              b = $("#tagsWrapper #tagsEdit").attr("tagid");
            if ((v(), p.show(), "add" === s)) {
              const o = yield u.default.users.createTag(y);
              200 !== o.status
                ? c.add("Failed to add tag: " + o.message.replace(y, g), -1)
                : (c.add("Tag added", 1),
                  null ===
                    (t =
                      null === (e = d.getSnapshot()) || void 0 === e
                        ? void 0
                        : e.tags) ||
                    void 0 === t ||
                    t.push({ display: g, name: o.data.name, _id: o.data._id }),
                  h.updateButtons(),
                  f.update(),
                  l.updateTags());
            } else if ("edit" === s) {
              const e = yield u.default.users.editTag(b, y);
              200 !== e.status
                ? c.add("Failed to edit tag: " + e.message, -1)
                : (c.add("Tag updated", 1),
                  null ===
                    (n =
                      null === (o = d.getSnapshot()) || void 0 === o
                        ? void 0
                        : o.tags) ||
                    void 0 === n ||
                    n.forEach((e) => {
                      e._id === b && ((e.name = y), (e.display = g));
                    }),
                  h.updateButtons(),
                  f.update(),
                  l.updateTags());
            } else if ("remove" === s) {
              const e = yield u.default.users.deleteTag(b);
              200 !== e.status
                ? c.add("Failed to remove tag: " + e.message, -1)
                : (c.add("Tag removed", 1),
                  null ===
                    (i =
                      null === (a = d.getSnapshot()) || void 0 === a
                        ? void 0
                        : a.tags) ||
                    void 0 === i ||
                    i.forEach((e, t) => {
                      var o, n;
                      e._id === b &&
                        (null ===
                          (n =
                            null === (o = d.getSnapshot()) || void 0 === o
                              ? void 0
                              : o.tags) ||
                          void 0 === n ||
                          n.splice(t, 1));
                    }),
                  h.updateButtons(),
                  f.update(),
                  l.updateTags());
            } else if ("clearPb" === s) {
              const e = yield u.default.users.deleteTagPersonalBest(b);
              200 !== e.status
                ? c.add("Failed to clear tag pb: " + e.message, -1)
                : (c.add("Tag PB cleared", 1),
                  null ===
                    (m =
                      null === (r = d.getSnapshot()) || void 0 === r
                        ? void 0
                        : r.tags) ||
                    void 0 === m ||
                    m.forEach((e) => {
                      e._id === b &&
                        (e.personalBests = {
                          time: {},
                          words: {},
                          custom: { custom: [] },
                          zen: { zen: [] },
                          quote: { custom: [] },
                        });
                    }),
                  h.updateButtons(),
                  f.update(),
                  l.updateTags());
            }
            p.hide();
          });
        }
        (t.show = g),
          $("#tagsWrapper").on("click", (e) => {
            "tagsWrapper" === $(e.target).attr("id") && v();
          }),
          $("#tagsWrapper #tagsEdit .button").on("click", () => {
            y();
          }),
          $("#tagsWrapper #tagsEdit input").on("keypress", (e) => {
            "Enter" === e.key && y();
          }),
          $(".pageSettings .section.tags").on("click", ".addTagButton", () => {
            g("add");
          }),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .editButton",
            (e) => {
              g(
                "edit",
                $(e.currentTarget).parent(".tag").attr("id"),
                $(e.currentTarget)
                  .siblings(".tagButton")
                  .children(".title")
                  .text()
              );
            }
          ),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .clearPbButton",
            (e) => {
              g(
                "clearPb",
                $(e.currentTarget).parent(".tag").attr("id"),
                $(e.currentTarget)
                  .siblings(".tagButton")
                  .children(".title")
                  .text()
              );
            }
          ),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .removeButton",
            (e) => {
              g(
                "remove",
                $(e.currentTarget).parent(".tag").attr("id"),
                $(e.currentTarget)
                  .siblings(".tagButton")
                  .children(".title")
                  .text()
              );
            }
          );
      },
      5764: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const u = i(o(3368)),
          l = o(2189),
          d = o(522),
          c = r(o(7355)),
          p = o(3388),
          f = i(o(2588)),
          h = i(o(2681)),
          m = i(o(4674)),
          g = i(o(3013)),
          v = i(o(6953)),
          y = i(o(6350)),
          b = i(o(9817)),
          w = o(5701),
          C = o(5817);
        let _;
        function S(e) {
          $("#googleSignUpPopupWrapper").hasClass("hidden") &&
            (v.reset("googleSignUpPopup"),
            v.render(
              $("#googleSignUpPopupWrapper .captcha")[0],
              "googleSignUpPopup"
            ),
            $("#googleSignUpPopup input").prop("disabled", !1),
            k(),
            (_ = e),
            $("#googleSignUpPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100, () => {
                $("#googleSignUpPopup input")
                  .trigger("focus")
                  .trigger("select");
              }));
        }
        function P() {
          var e;
          return s(this, void 0, void 0, function* () {
            $("#googleSignUpPopupWrapper").hasClass("hidden") ||
              (void 0 !== _ &&
                (u.add("Sign up process canceled", 0, 5),
                f.hidePreloader(),
                f.enableInputs(),
                _ &&
                  (null === (e = (0, d.getAdditionalUserInfo)(_)) ||
                  void 0 === e
                    ? void 0
                    : e.isNewUser) &&
                  (c.default.users.delete(), _.user.delete()),
                m.signOut(),
                (_ = void 0)),
              $("#googleSignUpPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate({ opacity: 0 }, 100, () => {
                  $("#googleSignUpPopupWrapper").addClass("hidden");
                }));
          });
        }
        function x() {
          var e;
          return s(this, void 0, void 0, function* () {
            if ($("#googleSignUpPopup .button").hasClass("disabled")) return;
            if (!_)
              return u.add(
                "Missing user credential. Please close the popup and try again.",
                -1
              );
            const t = v.getResponse("googleSignUpPopup");
            if (!t) return u.add("Please complete the captcha", -1);
            $("#googleSignUpPopup input").prop("disabled", !0), k(), b.show();
            const o = $("#googleSignUpPopup input").val();
            try {
              if (0 === o.length) throw new Error("Name cannot be empty");
              const e = yield c.default.users.create(o, t);
              if (200 !== e.status) throw e;
              if (200 === e.status) {
                if (
                  (yield (0, d.updateProfile)(_.user, { displayName: o }),
                  yield (0, d.sendEmailVerification)(_.user),
                  h.clear(),
                  u.add("Account created", 1, 3),
                  $("#menu .textButton.account .text").text(o),
                  f.enableInputs(),
                  f.hidePreloader(),
                  yield m.loadUser(_.user),
                  null !== g.notSignedInLastResult &&
                    (g.setNotSignedInUid(_.user.uid),
                    200 ===
                      (yield c.default.results.save(g.notSignedInLastResult))
                        .status))
                ) {
                  const e = g.notSignedInLastResult;
                  y.saveLocalResult(e),
                    y.updateLocalStats(
                      1,
                      e.testDuration + e.incompleteTestSeconds - e.afkDuration
                    );
                }
                (_ = void 0), b.hide(), P();
              }
            } catch (t) {
              console.log(t);
              const o = (0, p.createErrorMessage)(
                t,
                "Failed to sign in with Google"
              );
              return (
                u.add(o, -1),
                f.hidePreloader(),
                f.enableInputs(),
                f.enableSignInButton(),
                f.enableSignUpButton(),
                _ &&
                  (null === (e = (0, d.getAdditionalUserInfo)(_)) ||
                  void 0 === e
                    ? void 0
                    : e.isNewUser) &&
                  (yield c.default.users.delete(), yield _.user.delete()),
                m.signOut(),
                (_ = void 0),
                P(),
                void b.hide()
              );
            }
          });
        }
        function k() {
          $("#googleSignUpPopup .button").addClass("disabled");
        }
        (t.show = S),
          (t.hide = P),
          $("#googleSignUpPopupWrapper").on("mousedown", (e) => {
            "googleSignUpPopupWrapper" === $(e.target).attr("id") && P();
          });
        const T = new C.InputIndicator($("#googleSignUpPopup input"), {
            available: { icon: "fa-check", level: 1 },
            unavailable: { icon: "fa-times", level: -1 },
            taken: { icon: "fa-times", level: -1 },
            checking: { icon: "fa-circle-notch", spinIcon: !0, level: 0 },
          }),
          O = (0, l.debounce)(1e3, () =>
            s(void 0, void 0, void 0, function* () {
              const e = $("#googleSignUpPopup input").val();
              if (!e) return;
              const t = yield c.default.users.getNameAvailability(e);
              if (200 === t.status)
                return (
                  T.show("available", t.message),
                  void $("#googleSignUpPopup .button").removeClass("disabled")
                );
              if (422 != t.status) {
                if (409 != t.status)
                  return 200 !== t.status
                    ? (T.show("unavailable"),
                      u.add(
                        "Failed to check name availability: " + t.message,
                        -1
                      ))
                    : void 0;
                T.show("taken", t.message);
              } else T.show("unavailable", t.message);
            })
          );
        $("#googleSignUpPopup input").on("input", () => {
          setTimeout(() => {
            if ((k(), "" === $("#googleSignUpPopup input").val()))
              return T.hide();
            T.show("checking"), O();
          }, 1);
        }),
          $("#googleSignUpPopup input").on("keypress", (e) => {
            "Enter" === e.key && x();
          }),
          $("#googleSignUpPopup .button").on("click", () => {
            x();
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#googleSignUpPopupWrapper").hasClass("hidden") ||
              (P(), e.preventDefault());
          }),
          (0, w.subscribe)((e, t) => {
            e && t && S(e);
          });
      },
      9516: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const s = i(o(6705)),
          r = i(o(3368));
        function u() {
          if (!$("#settingsImportWrapper").hasClass("hidden")) {
            if ("" !== $("#settingsImportWrapper input").val()) {
              try {
                s.apply(JSON.parse($("#settingsImportWrapper input").val()));
              } catch (e) {
                r.add("An error occured while importing settings: " + e, -1);
              }
              s.saveFullConfigToLocalStorage();
            }
            $("#settingsImportWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#settingsImportWrapper").addClass("hidden");
              });
          }
        }
        (t.show = function (e, t) {
          $("#settingsImportWrapper").hasClass("hidden") &&
            ($("#settingsImportWrapper").attr("mode", e),
            "export" === e
              ? ($("#settingsImportWrapper .button").addClass("hidden"),
                $("#settingsImportWrapper input").val(null != t ? t : ""))
              : "import" === e &&
                $("#settingsImportWrapper .button").removeClass("hidden"),
            $("#settingsImportWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100, () => {
                $("#settingsImportWrapper input").trigger("focus"),
                  $("#settingsImportWrapper input").trigger("select"),
                  $("#settingsImportWrapper input").trigger("focus");
              }));
        }),
          $("#settingsImport .button").on("click", () => {
            u();
          }),
          $("#settingsImportWrapper").on("click", (e) => {
            "settingsImportWrapper" === $(e.target).attr("id") && u();
          });
      },
      4611: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update = void 0);
        const s = i(o(3013)),
          r = i(o(6705)),
          u = r,
          l = i(o(2203)),
          d = i(o(6021)),
          c = i(o(3603)),
          p = i(o(2338)),
          f = i(o(2786)),
          h = i(o(1446)),
          m = $("#mobileTestConfigPopup");
        function g() {
          m.find(".button").removeClass("active"),
            m
              .find(`.modeGroup .button[mode='${r.default.mode}']`)
              .addClass("active"),
            m.find(".timeGroup").addClass("hidden"),
            m.find(".wordsGroup").addClass("hidden"),
            m.find(".quoteGroup").addClass("hidden"),
            m.find(".customGroup").addClass("hidden"),
            m.find(`.${r.default.mode}Group`).removeClass("hidden"),
            r.default.punctuation
              ? m.find(".punctuation").addClass("active")
              : m.find(".punctuation").removeClass("active"),
            r.default.numbers
              ? m.find(".numbers").addClass("active")
              : m.find(".numbers").removeClass("active"),
            "time" === r.default.mode
              ? (m
                  .find(`.timeGroup .button[time='${r.default.time}']`)
                  .addClass("active"),
                m.find(".punctuation").removeClass("disabled"),
                m.find(".numbers").removeClass("disabled"))
              : "words" === r.default.mode
              ? (m
                  .find(`.wordsGroup .button[words='${r.default.words}']`)
                  .addClass("active"),
                m.find(".punctuation").removeClass("disabled"),
                m.find(".numbers").removeClass("disabled"))
              : "quote" === r.default.mode
              ? (m
                  .find(`.quoteGroup .button[quote='${r.default.quoteLength}']`)
                  .addClass("active"),
                m.find(".punctuation").addClass("disabled"),
                m.find(".numbers").addClass("disabled"))
              : "zen" === r.default.mode
              ? (m.find(".punctuation").addClass("disabled"),
                m.find(".numbers").addClass("disabled"))
              : "custom" === r.default.mode &&
                (m.find(".punctuation").removeClass("disabled"),
                m.find(".numbers").removeClass("disabled"));
        }
        function v() {
          $("#mobileTestConfigPopupWrapper").hasClass("hidden") ||
            $("#mobileTestConfigPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#mobileTestConfigPopupWrapper").addClass("hidden");
              });
        }
        (t.update = g),
          $("#mobileTestConfigPopupWrapper").on("click", (e) => {
            "mobileTestConfigPopupWrapper" === $(e.target).attr("id") && v();
          }),
          $("#mobileTestConfig").on("click", () => {
            $("#mobileTestConfigPopupWrapper").hasClass("hidden") &&
              (g(),
              $("#mobileTestConfigPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 100));
          }),
          m.find(".wordsGroup .button").on("click", (e) => {
            const t = $(e.currentTarget).attr("words");
            if ("custom" == t) v(), d.show();
            else if (void 0 !== t) {
              const e = parseInt(t);
              u.setWordCount(e), l.set(), s.restart();
            }
          }),
          m.find(".timeGroup .button").on("click", (e) => {
            const t = $(e.currentTarget).attr("time");
            if ("custom" == t) v(), c.show();
            else if (void 0 !== t) {
              const e = parseInt(t);
              u.setTimeConfig(e), l.set(), s.restart();
            }
          }),
          m.find(".quoteGroup .button").on("click", (e) => {
            var t;
            let o =
              null !== (t = parseInt($(e.currentTarget).attr("quote"), 10)) &&
              void 0 !== t
                ? t
                : 0;
            -2 == o
              ? (v(), p.show())
              : (-1 == o && (o = [0, 1, 2, 3]),
                u.setQuoteLength(o, !1, e.shiftKey),
                l.set(),
                s.restart());
          }),
          m.find(".customChange").on("click", () => {
            v(), f.show();
          }),
          m.find(".punctuation").on("click", () => {
            u.setPunctuation(!r.default.punctuation), l.set(), s.restart();
          }),
          m.find(".numbers").on("click", () => {
            u.setNumbers(!r.default.numbers), l.set(), s.restart();
          }),
          m.find(".modeGroup .button").on("click", (e) => {
            if ($(e.currentTarget).hasClass("active")) return;
            const t = $(e.currentTarget).attr("mode");
            u.setMode(t), l.set(), s.restart();
          }),
          $("#mobileTestConfigPopup .button").on("click", () => {
            g();
          }),
          h.subscribe((e) => {
            "mode" === e && g();
          });
      },
      2710: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.showNewResultFilterPresetPopup = t.hide = t.show = void 0);
        let o = null;
        function n() {
          $("#newResultFilterPresetPopupWrapper").hasClass("hidden") &&
            $("#newResultFilterPresetPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100, () => {
                $("#newResultFilterPresetPopup input")
                  .trigger("focus")
                  .trigger("select");
              });
        }
        function a() {
          $("#newResultFilterPresetPopupWrapper").hasClass("hidden") ||
            $("#newResultFilterPresetPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#newResultFilterPresetPopupWrapper").addClass("hidden");
              });
        }
        function i() {
          const e = $("#newResultFilterPresetPopup input").val();
          o && o(e), a();
        }
        (t.show = n),
          (t.hide = a),
          $("#newResultFilterPresetPopupWrapper").on("click", (e) => {
            "newResultFilterPresetPopupWrapper" === $(e.target).attr("id") &&
              a();
          }),
          $("#newResultFilterPresetPopup input").on("keypress", (e) => {
            "Enter" === e.key && i();
          }),
          $("#newResultFilterPresetPopup .button").on("click", () => {
            i();
          }),
          (t.showNewResultFilterPresetPopup = function (e) {
            (o = e), n();
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#newResultFilterPresetPopupWrapper").hasClass("hidden") ||
              (a(), e.preventDefault());
          });
      },
      6327: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const r = i(o(6350)),
          u = s(o(9546));
        function l(e) {
          $("#pbTablesPopupWrapper").hasClass("hidden") &&
            ((function (e) {
              $("#pbTablesPopup table tbody").empty(),
                $($("#pbTablesPopup table thead tr td")[0]).text(e);
              const t = r.getSnapshot();
              if (!t) return;
              const o =
                void 0 === t.personalBests ? void 0 : t.personalBests[e];
              if (void 0 === o) return;
              const n = [];
              let a;
              Object.keys(o).forEach(function (e) {
                let t = o[e];
                (t = t.sort(function (e, t) {
                  return t.wpm - e.wpm;
                })),
                  t.forEach(function (t) {
                    (t.mode2 = e), n.push(t);
                  });
              }),
                n.forEach((e) => {
                  let t = '-<br><span class="sub">-</span>';
                  const o = new Date(e.timestamp);
                  e.timestamp &&
                    (t =
                      (0, u.default)(o, "dd MMM yyyy") +
                      "<br><div class='sub'>" +
                      (0, u.default)(o, "HH:mm") +
                      "</div>"),
                    $("#pbTablesPopup table tbody").append(
                      `\n      <tr>\n        <td>${
                        a === e.mode2 ? "" : e.mode2
                      }</td>\n        <td>\n          ${e.wpm.toFixed(
                        2
                      )}\n          <br />\n          <span class="sub">${
                        e.acc ? e.acc + "%" : "-"
                      }</span>\n        </td>\n        <td>\n          ${
                        e.raw ? e.raw : "-"
                      }\n          <br />\n          <span class="sub">${
                        e.consistency ? e.consistency + "%" : "-"
                      }</span>\n        </td>\n        <td>${
                        e.difficulty
                      }</td>\n        <td>${
                        e.language ? e.language.replace(/_/g, " ") : "-"
                      }</td>\n        <td>${
                        e.punctuation ? '<i class="fas fa-check"></i>' : ""
                      }</td>\n        <td>${
                        e.lazyMode ? '<i class="fas fa-check"></i>' : ""
                      }</td>\n        <td>${t}</td>\n      </tr>\n    `
                    ),
                    (a = e.mode2);
                });
            })(e),
            $("#pbTablesPopup .title").text(`All ${e} personal bests`),
            $("#pbTablesPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100));
        }
        $("#pbTablesPopupWrapper").on("click", (e) => {
          "pbTablesPopupWrapper" === $(e.target).attr("id") &&
            ($("#pbTablesPopupWrapper").hasClass("hidden") ||
              $("#pbTablesPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate({ opacity: 0 }, 100, () => {
                  $("#pbTablesPopupWrapper").addClass("hidden"),
                    $("#pbTablesPopup table tbody").empty();
                }));
        }),
          $(".pageAccount .profile").on(
            "click",
            ".pbsTime .showAllButton",
            () => {
              l("time");
            }
          ),
          $(".pageAccount .profile").on(
            "click",
            ".pbsWords .showAllButton",
            () => {
              l("words");
            }
          );
      },
      4571: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const u = r(o(7355)),
          l = i(o(9817)),
          d = i(o(3368)),
          c = r(o(9546));
        let p = [];
        function f() {
          $("#quoteApprovePopupWrapper .quotes").empty(),
            p.forEach((e, t) => {
              const o = $(
                `\n      <div class="quote" id="${t}" dbid="${
                  e._id
                }">\n        <textarea class="text">${
                  e.text
                }</textarea>\n        <input type="text" class="source" placeholder="Source" value="${
                  e.source
                }">\n        <div class="buttons">\n          <div class="textButton disabled undo" aria-label="Undo changes" data-balloon-pos="left"><i class="fas fa-fw fa-undo-alt"></i></div>\n          <div class="textButton refuse" aria-label="Refuse quote" data-balloon-pos="left"><i class="fas fa-fw fa-times"></i></div>\n          <div class="textButton approve" aria-label="Approve quote" data-balloon-pos="left"><i class="fas fa-fw fa-check"></i></div>\n          <div class="textButton edit hidden" aria-label="Edit and approve quote" data-balloon-pos="left"><i class="fas fa-fw fa-pen"></i></div>\n        </div>\n        <div class="bottom">\n          <div class="length ${
                  e.text.length < 60 ? "red" : ""
                }">Quote length: ${
                  e.text.length
                }</div>\n          <div class="language">Language: ${
                  e.language
                }</div>\n          <div class="timestamp">Submitted on: ${(0,
                c.default)(
                  new Date(e.timestamp),
                  "dd MMM yyyy HH:mm"
                )}</div>\n        </div>\n      </div>\n    `
              );
              $("#quoteApprovePopupWrapper .quotes").append(o);
            });
        }
        function h(e) {
          var t;
          const o =
            null ===
              (t = $(`#quoteApprovePopup .quote[id=${e}] .text`).val()) ||
            void 0 === t
              ? void 0
              : t.length;
          $(`#quoteApprovePopup .quote[id=${e}] .length`).text(
            "Quote length: " + o
          ),
            o < 60
              ? $(`#quoteApprovePopup .quote[id=${e}] .length`).addClass("red")
              : $(`#quoteApprovePopup .quote[id=${e}] .length`).removeClass(
                  "red"
                );
        }
        function m() {
          return s(this, void 0, void 0, function* () {
            l.show();
            const e = yield u.default.quotes.get();
            if ((l.hide(), 200 !== e.status))
              return d.add("Failed to get new quotes: " + e.message, -1);
            (p = e.data), f();
          });
        }
        function g() {
          $("#quoteApprovePopupWrapper").hasClass("hidden") ||
            $("#quoteApprovePopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#quoteApprovePopupWrapper").addClass("hidden"),
                  $("#quoteApprovePopupWrapper .quotes").empty();
              });
        }
        function v(e) {
          $(e).closest(".quote").find(".textButton").removeClass("disabled"),
            $(e).closest(".quote").find(".edit").hasClass("hidden") &&
              $(e).closest(".quote").find(".undo").addClass("disabled");
        }
        (t.show = function (e = !1) {
          return s(this, void 0, void 0, function* () {
            $("#quoteApprovePopupWrapper").hasClass("hidden") &&
              ((p = []),
              m(),
              $("#quoteApprovePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, e ? 0 : 100));
          });
        }),
          (t.hide = g),
          $("#quoteApprovePopupWrapper").on("mousedown", (e) => {
            "quoteApprovePopupWrapper" === $(e.target).attr("id") && g();
          }),
          $("#quoteApprovePopupWrapper .button.refreshList").on("click", () => {
            $("#quoteApprovePopupWrapper .quotes").empty(), m();
          }),
          $("#popups").on("click", "#quoteApprovePopup .quote .undo", (e) =>
            s(void 0, void 0, void 0, function* () {
              const t = parseInt($(e.target).closest(".quote").attr("id"));
              $(`#quoteApprovePopup .quote[id=${t}] .text`).val(p[t].text),
                $(`#quoteApprovePopup .quote[id=${t}] .source`).val(
                  p[t].source
                ),
                $(`#quoteApprovePopup .quote[id=${t}] .undo`).addClass(
                  "disabled"
                ),
                $(`#quoteApprovePopup .quote[id=${t}] .approve`).removeClass(
                  "hidden"
                ),
                $(`#quoteApprovePopup .quote[id=${t}] .edit`).addClass(
                  "hidden"
                ),
                h(t);
            })
          ),
          $("#popups").on("click", "#quoteApprovePopup .quote .approve", (e) =>
            s(void 0, void 0, void 0, function* () {
              var t;
              if (!confirm("Are you sure?")) return;
              const o = parseInt($(e.target).closest(".quote").attr("id")),
                n = $(e.target).closest(".quote").attr("dbid"),
                a = e.target;
              $(a).closest(".quote").find(".textButton").addClass("disabled"),
                $(a)
                  .closest(".quote")
                  .find("textarea, input")
                  .prop("disabled", !0),
                l.show();
              const i = yield u.default.quotes.approveSubmission(n);
              if ((l.hide(), 200 !== i.status))
                return (
                  v(a),
                  $(a)
                    .closest(".quote")
                    .find("textarea, input")
                    .prop("disabled", !1),
                  d.add("Failed to approve quote: " + i.message, -1)
                );
              d.add(
                null !== (t = "Quote approved. " + i.message) && void 0 !== t
                  ? t
                  : "",
                1
              ),
                p.splice(o, 1),
                f();
            })
          ),
          $("#popups").on("click", "#quoteApprovePopup .quote .refuse", (e) =>
            s(void 0, void 0, void 0, function* () {
              if (!confirm("Are you sure?")) return;
              const t = parseInt($(e.target).closest(".quote").attr("id")),
                o = $(e.target).closest(".quote").attr("dbid"),
                n = e.target;
              $(n).closest(".quote").find(".textButton").addClass("disabled"),
                $(n)
                  .closest(".quote")
                  .find("textarea, input")
                  .prop("disabled", !0),
                l.show();
              const a = yield u.default.quotes.rejectSubmission(o);
              if ((l.hide(), 200 !== a.status))
                return (
                  v(n),
                  $(n)
                    .closest(".quote")
                    .find("textarea, input")
                    .prop("disabled", !1),
                  d.add("Failed to refuse quote: " + a.message, -1)
                );
              d.add("Quote refused.", 1), p.splice(t, 1), f();
            })
          ),
          $("#popups").on("click", "#quoteApprovePopup .quote .edit", (e) =>
            s(void 0, void 0, void 0, function* () {
              var t;
              if (!confirm("Are you sure?")) return;
              const o = parseInt($(e.target).closest(".quote").attr("id")),
                n = $(e.target).closest(".quote").attr("dbid"),
                a = $(`#quoteApprovePopup .quote[id=${o}] .text`).val(),
                i = $(`#quoteApprovePopup .quote[id=${o}] .source`).val(),
                s = e.target;
              $(s).closest(".quote").find(".textButton").addClass("disabled"),
                $(s)
                  .closest(".quote")
                  .find("textarea, input")
                  .prop("disabled", !0),
                l.show();
              const r = yield u.default.quotes.approveSubmission(n, a, i);
              if ((l.hide(), 200 !== r.status))
                return (
                  v(s),
                  $(s)
                    .closest(".quote")
                    .find("textarea, input")
                    .prop("disabled", !1),
                  d.add("Failed to approve quote: " + r.message, -1)
                );
              d.add(
                null !== (t = "Quote edited and approved. " + r.message) &&
                  void 0 !== t
                  ? t
                  : "",
                1
              ),
                p.splice(o, 1),
                f();
            })
          ),
          $(document).on("input", "#quoteApprovePopup .quote .text", (e) =>
            s(void 0, void 0, void 0, function* () {
              const t = parseInt($(e.target).closest(".quote").attr("id"));
              $(`#quoteApprovePopup .quote[id=${t}] .undo`).removeClass(
                "disabled"
              ),
                $(`#quoteApprovePopup .quote[id=${t}] .approve`).addClass(
                  "hidden"
                ),
                $(`#quoteApprovePopup .quote[id=${t}] .edit`).removeClass(
                  "hidden"
                ),
                h(t);
            })
          ),
          $(document).on("input", "#quoteApprovePopup .quote .source", (e) =>
            s(void 0, void 0, void 0, function* () {
              const t = parseInt($(e.target).closest(".quote").attr("id"));
              $(`#quoteApprovePopup .quote[id=${t}] .undo`).removeClass(
                "disabled"
              ),
                $(`#quoteApprovePopup .quote[id=${t}] .approve`).addClass(
                  "hidden"
                ),
                $(`#quoteApprovePopup .quote[id=${t}] .edit`).removeClass(
                  "hidden"
                );
            })
          );
      },
      8182: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.clearQuoteStats = t.show = t.getQuoteStats = void 0);
        const u = r(o(7355)),
          l = i(o(6350)),
          d = i(o(9470)),
          c = i(o(9817)),
          p = i(o(3368));
        let f = 0,
          h = null,
          m = null;
        function g(e) {
          return e.totalRating && e.ratings
            ? Math.round((e.totalRating / e.ratings) * 10) / 10
            : 0;
        }
        function v(e) {
          return s(this, void 0, void 0, function* () {
            if (!e) return;
            m = e;
            const t = yield u.default.quotes.getRating(m);
            if ((c.hide(), 200 === t.status))
              return t.data
                ? ((h = t.data), h && !h.average && (h.average = g(h)), h)
                : {};
            p.add("Failed to get quote ratings: " + t.message, -1);
          });
        }
        function y(e) {
          const t = e || f;
          $("#quoteRatePopup .star").removeClass("active");
          for (let e = 1; e <= t; e++)
            $(`#quoteRatePopup .star[rating=${e}]`).addClass("active");
        }
        function b(e, t = !0) {
          var o, n;
          if ($("#quoteRatePopupWrapper").hasClass("hidden")) {
            t &&
              ($("#quoteRatePopup .quote .text").text("-"),
              $("#quoteRatePopup .quote .source .val").text("-"),
              $("#quoteRatePopup .quote .id .val").text("-"),
              $("#quoteRatePopup .quote .length .val").text("-"),
              $("#quoteRatePopup .ratingCount .val").text("-"),
              $("#quoteRatePopup .ratingAverage .val").text("-")),
              (m = e),
              (f = 0);
            const a = l.getSnapshot(),
              i =
                null ===
                  (n =
                    null === (o = null == a ? void 0 : a.quoteRatings) ||
                    void 0 === o
                      ? void 0
                      : o[m.language]) || void 0 === n
                  ? void 0
                  : n[m.id];
            i && (f = i),
              y(),
              (function () {
                if (!m) return;
                let e;
                0 == m.group
                  ? (e = "short")
                  : 1 == m.group
                  ? (e = "medium")
                  : 2 == m.group
                  ? (e = "long")
                  : 3 == m.group && (e = "thicc"),
                  $("#quoteRatePopup .quote .text").text(m.text),
                  $("#quoteRatePopup .quote .source .val").text(m.source),
                  $("#quoteRatePopup .quote .id .val").text(m.id),
                  $("#quoteRatePopup .quote .length .val").text(e),
                  (function () {
                    var e, t, o;
                    s(this, void 0, void 0, function* () {
                      h || (yield v()),
                        $("#quoteRatePopup .ratingCount .val").text(
                          null !== (e = null == h ? void 0 : h.ratings) &&
                            void 0 !== e
                            ? e
                            : "0"
                        ),
                        $("#quoteRatePopup .ratingAverage .val").text(
                          null !==
                            (o =
                              null === (t = null == h ? void 0 : h.average) ||
                              void 0 === t
                                ? void 0
                                : t.toFixed(1)) && void 0 !== o
                            ? o
                            : "-"
                        );
                    });
                  })();
              })(),
              $("#quoteRatePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 125);
          }
        }
        function w() {
          $("#quoteRatePopupWrapper").hasClass("hidden") ||
            $("#quoteRatePopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#quoteRatePopupWrapper").addClass("hidden");
              });
        }
        (t.getQuoteStats = v),
          (t.show = b),
          (t.clearQuoteStats = function () {
            h = null;
          }),
          $("#quoteRatePopupWrapper").on("click", (e) => {
            "quoteRatePopupWrapper" === $(e.target).attr("id") && w();
          }),
          $("#quoteRatePopup .stars .star").hover((e) => {
            y(parseInt($(e.currentTarget).attr("rating")));
          }),
          $("#quoteRatePopup .stars .star").on("click", (e) => {
            const t = parseInt($(e.currentTarget).attr("rating"));
            f = t;
          }),
          $("#quoteRatePopup .stars .star").mouseout(() => {
            $("#quoteRatePopup .star").removeClass("active"), y();
          }),
          $("#quoteRatePopup .submitButton").on("click", () => {
            !(function () {
              var e, t, o;
              s(this, void 0, void 0, function* () {
                if (0 === f) return p.add("Please select a rating");
                if (!m) return;
                w();
                const n = yield u.default.quotes.addRating(m, f);
                if ((c.hide(), 200 !== n.status))
                  return p.add(
                    "Failed to submit quote rating: " + n.message,
                    -1
                  );
                const a = l.getSnapshot();
                if (!a) return;
                const i =
                  null !== (e = a.quoteRatings) && void 0 !== e ? e : {};
                if (
                  null === (t = null == i ? void 0 : i[m.language]) ||
                  void 0 === t
                    ? void 0
                    : t[m.id]
                ) {
                  const e = i[m.language][m.id],
                    t = f - e;
                  (i[m.language][m.id] = f),
                    (h = {
                      ratings: null == h ? void 0 : h.ratings,
                      totalRating: isNaN(null == h ? void 0 : h.totalRating)
                        ? 0
                        : (null == h ? void 0 : h.totalRating) + t,
                      quoteId: m.id,
                      language: m.language,
                    }),
                    p.add("Rating updated", 1);
                } else i[m.language] || (i[m.language] = {}), (i[m.language][m.id] = f), (null == h ? void 0 : h.ratings) && h.totalRating ? (h.ratings++, (h.totalRating += f)) : (h = { ratings: 1, totalRating: f, quoteId: m.id, language: m.language }), p.add("Rating submitted", 1);
                (a.quoteRatings = i),
                  l.setSnapshot(a),
                  (h.average = g(h)),
                  $(".pageTest #result #rateQuoteButton .rating").text(
                    null === (o = h.average) || void 0 === o
                      ? void 0
                      : o.toFixed(1)
                  ),
                  $(".pageTest #result #rateQuoteButton .icon").removeClass(
                    "far"
                  ),
                  $(".pageTest #result #rateQuoteButton .icon").addClass("fas");
              });
            })();
          }),
          $(".pageTest #rateQuoteButton").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              b(d.randomQuote);
            })
          );
      },
      5898: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const u = r(o(7355)),
          l = r(o(6705)),
          d = i(o(9470)),
          c = i(o(9817)),
          p = i(o(3368)),
          f = r(o(6750)),
          h = i(o(6953)),
          m = { previousPopupShowCallback: void 0, quoteToReport: void 0 },
          g = { quoteId: -1, previousPopupShowCallback: () => {}, noAnim: !1 };
        function v(e = g) {
          var t;
          return s(this, void 0, void 0, function* () {
            if ($("#quoteReportPopupWrapper").hasClass("hidden")) {
              h.render(
                document.querySelector("#quoteReportPopup .g-recaptcha"),
                "quoteReportPopup"
              );
              const { quoteId: o, previousPopupShowCallback: n, noAnim: a } = e;
              m.previousPopupShowCallback = n;
              const { quotes: i } = yield f.default.getQuotes(
                l.default.language
              );
              (m.quoteToReport = i.find((e) => e.id === o)),
                $("#quoteReportPopup .quote").text(
                  null === (t = m.quoteToReport) || void 0 === t
                    ? void 0
                    : t.text
                ),
                $("#quoteReportPopup .reason").val("Grammatical error"),
                $("#quoteReportPopup .comment").val(""),
                $("#quoteReportPopup .characterCount").text("-"),
                $("#quoteReportPopup .reason").select2({
                  minimumResultsForSearch: 1 / 0,
                }),
                $("#quoteReportPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate({ opacity: 1 }, a ? 0 : 100, () => {
                    $("#quoteReportPopup textarea")
                      .trigger("focus")
                      .trigger("select");
                  });
            }
          });
        }
        function y() {
          return s(this, void 0, void 0, function* () {
            if (!$("#quoteReportPopupWrapper").hasClass("hidden")) {
              const e = !!m.previousPopupShowCallback;
              $("#quoteReportPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate({ opacity: 0 }, e ? 0 : 100, () => {
                  h.reset("quoteReportPopup"),
                    $("#quoteReportPopupWrapper").addClass("hidden"),
                    m.previousPopupShowCallback &&
                      m.previousPopupShowCallback();
                });
            }
          });
        }
        (t.show = v),
          (t.hide = y),
          $("#quoteReportPopupWrapper").on("mousedown", (e) => {
            "quoteReportPopupWrapper" === $(e.target).attr("id") && y();
          }),
          $("#quoteReportPopup .comment").on("input", () => {
            setTimeout(() => {
              const e = $("#quoteReportPopup .comment").val().length;
              $("#quoteReportPopup .characterCount").text(e),
                e > 250
                  ? $("#quoteReportPopup .characterCount").addClass("red")
                  : $("#quoteReportPopup .characterCount").removeClass("red");
            }, 1);
          }),
          $("#quoteReportPopup .submit").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              yield (function () {
                var e;
                return s(this, void 0, void 0, function* () {
                  const t = h.getResponse("quoteReportPopup");
                  if (!t) return p.add("Please complete the captcha");
                  const o =
                      null === (e = m.quoteToReport) || void 0 === e
                        ? void 0
                        : e.id.toString(),
                    n = l.default.language.replace(/_\d*k$/g, ""),
                    a = $("#quoteReportPopup .reason").val(),
                    i = $("#quoteReportPopup .comment").val(),
                    s = t;
                  if (!o) return p.add("Please select a quote");
                  if (!a) return p.add("Please select a valid report reason");
                  if (!i) return p.add("Please provide a comment");
                  const r = i.length - 250;
                  if (r > 0)
                    return p.add(
                      `Report comment is ${r} character(s) too long`
                    );
                  c.show();
                  const d = yield u.default.quotes.report(o, n, a, i, s);
                  if ((c.hide(), 200 !== d.status))
                    return p.add("Failed to report quote: " + d.message, -1);
                  p.add("Report submitted. Thank you!", 1), y();
                });
              })();
            })
          ),
          $(".pageTest #reportQuoteButton").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              var e;
              v({
                quoteId:
                  null === (e = d.randomQuote) || void 0 === e ? void 0 : e.id,
                noAnim: !1,
              });
            })
          );
      },
      2338: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.apply = t.hide = t.show = t.setSelectedId = t.selectedId = void 0);
        const u = i(o(8673)),
          l = i(o(6705)),
          d = l,
          c = i(o(6350)),
          p = i(o(2203)),
          f = i(o(3368)),
          h = i(o(9753)),
          m = i(o(4571)),
          g = i(o(5898)),
          v = o(6690),
          y = o(6037),
          b = r(o(6750)),
          w = o(6617),
          C = o(2189),
          _ = r(o(7355)),
          S = i(o(9817));
        (t.selectedId = 1),
          (t.setSelectedId = function (e) {
            t.selectedId = e;
          });
        const P = {};
        function x(e, t) {
          return 0 === t.length
            ? e
            : (0, y.splitByAndKeep)(e, '.,"/#!$%^&*;:{}=-_`~() '.split(""))
                .map((e) =>
                  t.find((t) => e.startsWith(t))
                    ? `<span class="highlight">${e}</span>`
                    : e
                )
                .join("");
        }
        function k(e) {
          return s(this, void 0, void 0, function* () {
            const { quotes: t } = yield b.default.getQuotes(l.default.language),
              o = (function (e, t, o) {
                if (e in P) return P[e];
                const n = (0, v.buildSearchService)(
                  t,
                  (e) => `${e.text} ${e.id} ${e.source}`
                );
                return (P[e] = n), n;
              })(l.default.language, t),
              { results: n, matchedQueryTerms: a } = o.query(e),
              i = (function (e) {
                const t = $("#quoteSearchPopup .quoteLengthFilter").val();
                if (0 === t.length) return e;
                const o = t.map((e) => parseInt(e, 10));
                return e.filter((e) => o.includes(e.group));
              })(
                (function (e) {
                  const t = document
                    .querySelector("#toggleShowFavorites")
                    .classList.contains("active");
                  return e.filter((e) => !t || b.default.isQuoteFavorite(e));
                })("" === e ? t : n)
              ),
              s = $("#quoteSearchResults");
            s.empty(),
              i.slice(0, 100).forEach((e) => {
                const t = (function (e, t) {
                  let o;
                  o =
                    e.length < 101
                      ? "short"
                      : e.length < 301
                      ? "medium"
                      : e.length < 601
                      ? "long"
                      : "thicc";
                  const n = !(null === w.Auth || void 0 === w.Auth
                      ? void 0
                      : w.Auth.currentUser),
                    a = !n && b.default.isQuoteFavorite(e);
                  return `\n  <div class="searchResult" id="${
                    e.id
                  }">\n\n    <div class="text">\n      ${x(
                    e.text,
                    t
                  )}\n    </div>\n\n    <div class="id">\n      <div class="sub">id</div>\n      <span class="quote-id">\n        ${x(
                    e.id.toString(),
                    t
                  )}\n      </span>\n    </div>\n\n    <div class="length">\n      <div class="sub">length</div>\n      ${o}\n    </div>\n\n    <div class="source">\n      <div class="sub">source</div>\n      ${x(
                    e.source,
                    t
                  )}\n    </div>\n\n    <div class="textButton report ${
                    n && "hidden"
                  }" aria-label="Report quote" data-balloon-pos="left">\n      <i class="fas fa-flag report"></i>\n    </div>\n\n    <div class="textButton favorite ${
                    n && "hidden"
                  }" aria-label="Favorite quote" data-balloon-pos="left">\n      <i class="${
                    a ? "fas" : "far"
                  } fa-heart favorite"></i>\n    </div>\n\n  </div>\n  `;
                })(e, a);
                s.append(t);
              });
            const r =
              i.length > 100
                ? "<span style='opacity: 0.5'>(only showing 100)</span>"
                : "";
            $("#extraResults").html(`${i.length} result(s) ${r}`);
          });
        }
        function T(e = !0) {
          var t;
          return s(this, void 0, void 0, function* () {
            if ($("#quoteSearchPopupWrapper").hasClass("hidden")) {
              e && $("#quoteSearchPopup input").val("");
              const o = $("#quoteSearchPopup input").val();
              (
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser
              )
                ? ($("#quoteSearchPopup #gotoSubmitQuoteButton").removeClass(
                    "hidden"
                  ),
                  $("#quoteSearchPopup #toggleShowFavorites").removeClass(
                    "hidden"
                  ))
                : ($("#quoteSearchPopup #gotoSubmitQuoteButton").addClass(
                    "hidden"
                  ),
                  $("#quoteSearchPopup #toggleShowFavorites").addClass(
                    "hidden"
                  )),
                (
                  null === (t = c.getSnapshot()) || void 0 === t
                    ? void 0
                    : t.quoteMod
                )
                  ? $("#quoteSearchPopup #goToApproveQuotes").removeClass(
                      "hidden"
                    )
                  : $("#quoteSearchPopup #goToApproveQuotes").addClass(
                      "hidden"
                    ),
                $("#quoteSearchPopup .quoteLengthFilter").select2({
                  placeholder: "Filter by length",
                  maximumSelectionLength: 1 / 0,
                  multiple: !0,
                  width: "100%",
                  data: [
                    { id: 0, text: "short", selected: !1 },
                    { id: 1, text: "medium", selected: !1 },
                    { id: 2, text: "long", selected: !1 },
                    { id: 3, text: "thicc", selected: !1 },
                  ],
                }),
                $("#quoteSearchPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate({ opacity: 1 }, 100, () => {
                    e &&
                      $("#quoteSearchPopup input")
                        .trigger("focus")
                        .trigger("select"),
                      k(o);
                  });
            }
          });
        }
        function O(e = !1, t = !0) {
          $("#quoteSearchPopupWrapper").hasClass("hidden") ||
            $("#quoteSearchPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, e ? 0 : 100, () => {
                $("#quoteSearchPopupWrapper").addClass("hidden"),
                  t &&
                    (u.focusWords(),
                    $("#quoteSearchPopup .quoteLengthFilter").val([]),
                    $("#quoteSearchPopup .quoteLengthFilter").trigger(
                      "change"
                    ));
              });
        }
        (t.show = T),
          (t.hide = O),
          (t.apply = function (e) {
            let o;
            return (
              isNaN(e) &&
                (e = parseInt(document.getElementById("searchBox").value)),
              null !== e && !isNaN(e) && e >= 0
                ? (d.setQuoteLength(-2, !1),
                  (t.selectedId = e),
                  p.set(),
                  (o = !0))
                : (f.add("Quote ID must be at least 1", 0), (o = !1)),
              O(),
              o
            );
          });
        const M = (0, C.debounce)(250, () => {
          k(document.getElementById("searchBox").value);
        });
        $("#quoteSearchPopup .searchBox").on("keyup", (e) => {
          "Escape" !== e.code && M();
        }),
          $("#quoteSearchPopup .quoteLengthFilter").on("change", M),
          $("#quoteSearchPopupWrapper").on("click", (e) => {
            "quoteSearchPopupWrapper" === $(e.target).attr("id") && O();
          }),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #gotoSubmitQuoteButton",
            () => {
              O(!0), h.show(!0);
            }
          ),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #goToApproveQuotes",
            () => {
              O(!0), m.show(!0);
            }
          ),
          $("#popups").on("click", "#quoteSearchPopup .report", (e) =>
            s(void 0, void 0, void 0, function* () {
              const t = e.target.closest(".searchResult").id,
                o = parseInt(t);
              O(!0, !1),
                g.show({
                  quoteId: o,
                  noAnim: !0,
                  previousPopupShowCallback: () => {
                    T(!1);
                  },
                });
            })
          ),
          $("#popups").on(
            "click",
            "#quoteSearchPopup .textButton.favorite",
            (e) =>
              s(void 0, void 0, void 0, function* () {
                var t, o, n;
                const a = l.default.language,
                  i = e.target.closest(".searchResult").id;
                if ("" === a || "" === i)
                  return void f.add("Could not get quote stats!", -1);
                const s = $(
                    `#quoteSearchPopup .searchResult[id=${i}] .textButton.favorite i`
                  ),
                  r = c.getSnapshot();
                if (r) {
                  if (s.hasClass("fas")) {
                    S.show();
                    const e = yield _.default.users.removeQuoteFromFavorites(
                      a,
                      i
                    );
                    if (
                      (S.hide(),
                      f.add(e.message, 200 === e.status ? 1 : -1),
                      200 === e.status)
                    ) {
                      s.removeClass("fas").addClass("far");
                      const e =
                        null === (t = r.favoriteQuotes[a]) || void 0 === t
                          ? void 0
                          : t.indexOf(i);
                      null === (o = r.favoriteQuotes[a]) ||
                        void 0 === o ||
                        o.splice(e, 1);
                    }
                  } else {
                    S.show();
                    const e = yield _.default.users.addQuoteToFavorites(a, i);
                    S.hide(),
                      f.add(e.message, 200 === e.status ? 1 : -1),
                      200 === e.status &&
                        (s.removeClass("far").addClass("fas"),
                        r.favoriteQuotes[a] || (r.favoriteQuotes[a] = []),
                        null === (n = r.favoriteQuotes[a]) ||
                          void 0 === n ||
                          n.push(i));
                  }
                  e.preventDefault();
                }
              })
          ),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #toggleShowFavorites",
            (e) => {
              (null === w.Auth || void 0 === w.Auth
                ? void 0
                : w.Auth.currentUser) &&
                ($(e.target).toggleClass("active"), M());
            }
          ),
          $(".pageTest").on(
            "click",
            "#testConfig .quoteLength .textButton",
            (e) => {
              var t;
              -2 ==
                (null !== (t = $(e.currentTarget).attr("quoteLength")) &&
                void 0 !== t
                  ? t
                  : 0) && T();
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#quoteSearchPopupWrapper").hasClass("hidden") ||
              (O(), e.preventDefault());
          });
      },
      9753: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const u = r(o(7355)),
          l = i(o(9817)),
          d = i(o(3368)),
          c = i(o(6953));
        function p() {
          return s(this, void 0, void 0, function* () {
            const e = $("#quoteSubmitPopup #submitQuoteText").val(),
              t = $("#quoteSubmitPopup #submitQuoteSource").val(),
              o = $("#quoteSubmitPopup #submitQuoteLanguage").val(),
              n = c.getResponse("submitQuote");
            if (!e || !t || !o) return d.add("Please fill in all fields", 0);
            l.show();
            const a = yield u.default.quotes.submit(e, t, o, n);
            if ((l.hide(), 200 !== a.status))
              return d.add("Failed to submit quote: " + a.message, -1);
            d.add("Quote submitted.", 1),
              $("#quoteSubmitPopup #submitQuoteText").val(""),
              $("#quoteSubmitPopup #submitQuoteSource").val(""),
              $("#quoteSubmitPopup .characterCount").removeClass("red"),
              $("#quoteSubmitPopup .characterCount").text("-"),
              c.reset("submitQuote");
          });
        }
        function f() {
          $("#quoteSubmitPopupWrapper").hasClass("hidden") ||
            $("#quoteSubmitPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#quoteSubmitPopupWrapper").addClass("hidden"),
                  c.reset("submitQuote");
              });
        }
        (t.show = function (e = !1) {
          return s(this, void 0, void 0, function* () {
            d.add(
              "Quote submission is disabled temporarily due to a large submission queue.",
              0,
              5
            );
          });
        }),
          (t.hide = f),
          $("#quoteSubmitPopupWrapper").on("mousedown", (e) => {
            "quoteSubmitPopupWrapper" === $(e.target).attr("id") && f();
          }),
          $("#popups").on(
            "click",
            "#quoteSubmitPopup #submitQuoteButton",
            () => {
              p();
            }
          ),
          $("#quoteSubmitPopup textarea").on("input", () => {
            setTimeout(() => {
              var e;
              const t =
                null === (e = $("#quoteSubmitPopup textarea").val()) ||
                void 0 === e
                  ? void 0
                  : e.length;
              $("#quoteSubmitPopup .characterCount").text(t),
                t < 60
                  ? $("#quoteSubmitPopup .characterCount").addClass("red")
                  : $("#quoteSubmitPopup .characterCount").removeClass("red");
            }, 1);
          }),
          $("#quoteSubmitPopup input").on("keydown", (e) => {
            "Enter" === e.key && p();
          });
      },
      7058: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = t.promise = void 0);
        const s = i(o(6953));
        let r;
        function u(e = !1) {
          $("#registerCaptchaPopupWrapper").hasClass("hidden") ||
            (e && r(),
            $("#registerCaptchaPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#registerCaptchaPopupWrapper").addClass("hidden");
              }));
        }
        (t.promise = new Promise((e) => {
          r = e;
        })),
          (t.show = function () {
            $("#registerCaptchaPopupWrapper").hasClass("hidden") &&
              ((t.promise = new Promise((e) => {
                r = e;
              })),
              s.reset("register"),
              s.render(
                $("#registerCaptchaPopup .g-recaptcha")[0],
                "register",
                (e) => {
                  r(e), u();
                }
              ),
              $("#registerCaptchaPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 125));
          }),
          (t.hide = u),
          $("#registerCaptchaPopupWrapper").on("click", (e) => {
            "registerCaptchaPopupWrapper" === $(e.target).attr("id") && u(!0);
          });
      },
      3875: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateButtons = void 0);
        const u = r(o(7355)),
          l = i(o(6350)),
          d = i(o(9817)),
          c = i(o(3368)),
          p = i(o(3285)),
          f = o(3388);
        function h() {
          p.get()
            ? $("#resultEditTagsPanelWrapper").hasClass("hidden") &&
              $("#resultEditTagsPanelWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 125)
            : c.add("You are offline", 0, 2);
        }
        function m() {
          $("#resultEditTagsPanelWrapper").hasClass("hidden") ||
            $("#resultEditTagsPanelWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#resultEditTagsPanelWrapper").addClass("hidden");
              });
        }
        function g(e) {
          0 !== e.length &&
            $.each($("#resultEditTagsPanel .buttons .button"), (t, o) => {
              var n;
              const a =
                null !== (n = $(o).attr("tagid")) && void 0 !== n ? n : "";
              e.includes(a)
                ? $(o).addClass("active")
                : $(o).removeClass("active");
            });
        }
        (t.updateButtons = function () {
          var e, t;
          $("#resultEditTagsPanel .buttons").empty(),
            null ===
              (t =
                null === (e = l.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.tags) ||
              void 0 === t ||
              t.forEach((e) => {
                $("#resultEditTagsPanel .buttons").append(
                  `<div class="button tag" tagid="${e._id}">${e.display}</div>`
                );
              });
        }),
          $(".pageAccount").on(
            "click",
            ".group.history #resultEditTags",
            (e) => {
              var t, o, n;
              if (
                (null !==
                  (n =
                    null ===
                      (o =
                        null === (t = l.getSnapshot()) || void 0 === t
                          ? void 0
                          : t.tags) || void 0 === o
                      ? void 0
                      : o.length) && void 0 !== n
                  ? n
                  : 0) > 0
              ) {
                const t = $(e.target).parents("span").attr("resultid"),
                  o = $(e.target).parents("span").attr("tags");
                $("#resultEditTagsPanel").attr("resultid", t),
                  $("#resultEditTagsPanel").attr("tags", o),
                  $("#resultEditTagsPanel").attr("source", "accountPage"),
                  g(JSON.parse(o)),
                  h();
              } else
                c.add(
                  "You haven't created any tags. You can do it in the settings page",
                  0,
                  4
                );
            }
          ),
          $(".pageTest").on("click", ".tags .editTagsButton", () => {
            var e, t, o;
            if (
              null !==
                (o =
                  null ===
                    (t =
                      null === (e = l.getSnapshot()) || void 0 === e
                        ? void 0
                        : e.tags) || void 0 === t
                    ? void 0
                    : t.length) &&
              void 0 !== o &&
              o
            ) {
              const e = $(".pageTest .tags .editTagsButton").attr("result-id"),
                t = $(".pageTest .tags .editTagsButton").attr("active-tag-ids"),
                o = "" == t ? [] : t.split(",");
              $("#resultEditTagsPanel").attr("resultid", e),
                $("#resultEditTagsPanel").attr("tags", JSON.stringify(o)),
                $("#resultEditTagsPanel").attr("source", "resultPage"),
                g(o),
                h();
            }
          }),
          $("#popups").on(
            "click",
            "#resultEditTagsPanelWrapper .button.tag",
            (e) => {
              $(e.target).toggleClass("active");
            }
          ),
          $("#resultEditTagsPanelWrapper").on("click", (e) => {
            "resultEditTagsPanelWrapper" === $(e.target).attr("id") && m();
          }),
          $("#resultEditTagsPanel .confirmButton").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              var e, t;
              const o = $("#resultEditTagsPanel").attr("resultid"),
                n = [];
              $.each($("#resultEditTagsPanel .buttons .button"), (e, t) => {
                var o;
                const a =
                  null !== (o = $(t).attr("tagid")) && void 0 !== o ? o : "";
                $(t).hasClass("active") && n.push(a);
              });
              const a = JSON.parse($("#resultEditTagsPanel").attr("tags"));
              if ((0, f.areUnsortedArraysEqual)(a, n)) return void m();
              d.show(), m();
              const i = yield u.default.results.updateTags(o, n);
              if ((d.hide(), 200 !== i.status))
                return c.add("Failed to update result tags: " + i.message, -1);
              const s = i.data.tagPbs;
              c.add("Tags updated", 1, 2),
                null ===
                  (t =
                    null === (e = l.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.results) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    e._id === o && (e.tags = n);
                  });
              const r = [];
              let p;
              n.length > 0 &&
                n.forEach((e) => {
                  var t, o;
                  null ===
                    (o =
                      null === (t = l.getSnapshot()) || void 0 === t
                        ? void 0
                        : t.tags) ||
                    void 0 === o ||
                    o.forEach((t) => {
                      e === t._id && r.push(t.display);
                    });
                }),
                (p = void 0 === n ? "[]" : JSON.stringify(n)),
                $(`.pageAccount #resultEditTags[resultid='${o}']`).attr(
                  "tags",
                  p
                );
              const h = $("#resultEditTagsPanel").attr("source");
              if ("accountPage" === h)
                n.length > 0
                  ? ($(`.pageAccount #resultEditTags[resultid='${o}']`).css(
                      "opacity",
                      1
                    ),
                    $(`.pageAccount #resultEditTags[resultid='${o}']`).attr(
                      "aria-label",
                      r.join(", ")
                    ))
                  : ($(`.pageAccount #resultEditTags[resultid='${o}']`).css(
                      "opacity",
                      0.25
                    ),
                    $(`.pageAccount #resultEditTags[resultid='${o}']`).attr(
                      "aria-label",
                      "no tags"
                    ));
              else if ("resultPage" === h) {
                const e = $(".pageTest #result .tags .bottom div[tagid]"),
                  t = [];
                e.each((e, o) => {
                  const a = $(o).attr("tagid");
                  n.includes(a) ? t.push(a) : $(o).remove();
                });
                let o = "";
                n.forEach((e, n) => {
                  t.includes(e) ||
                    (s.includes(e)
                      ? (o += `<div tagid="${e}" data-balloon-pos="up">${r[n]}<i class="fas fa-crown"></i></div>`)
                      : (o += `<div tagid="${e}">${r[n]}</div>`));
                }),
                  $(".pageTest #result .tags .bottom").append(o),
                  $(".pageTest #result .tags .top .editTagsButton").attr(
                    "active-tag-ids",
                    n.join(",")
                  );
              }
            })
          );
      },
      2828: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const r = i(o(8248)),
          u = i(o(3368)),
          l = i(o(7717)),
          d = o(5817),
          c = o(2189),
          p = new d.InputIndicator($("#saveCustomTextPopup .textName"), {
            available: { icon: "fa-check", level: 1 },
            unavailable: { icon: "fa-times", level: -1 },
            loading: { icon: "fa-circle-notch", spinIcon: !0, level: 0 },
          });
        function f(e = !1) {
          $("#saveCustomTextPopupWrapper").addClass("hidden"),
            e ||
              $("#customTextPopupWrapper")
                .removeClass("hidden")
                .css("opacity", 1);
        }
        (t.show = function () {
          return s(this, void 0, void 0, function* () {
            $("#saveCustomTextPopupWrapper").removeClass("hidden"),
              $("#customTextPopupWrapper").addClass("hidden"),
              $("#saveCustomTextPopupWrapper .textName").val(""),
              $("#saveCustomTextPopupWrapper .isLongText").prop("checked", !1),
              $("#saveCustomTextPopupWrapper .button.save").addClass(
                "disabled"
              );
          });
        }),
          $("#popups").on(
            "click",
            "#saveCustomTextPopupWrapper .button.save",
            () => {
              !0 ===
                (function () {
                  const e = $("#saveCustomTextPopupWrapper .textName").val(),
                    t = $("#customTextPopup textarea").val().normalize(),
                    o = $("#saveCustomTextPopupWrapper .isLongText").prop(
                      "checked"
                    );
                  return e
                    ? (r.setCustomText(e, t, o),
                      l.setCustomTextName(e, o),
                      u.add("Custom text saved", 1),
                      !0)
                    : (u.add("Custom text needs a name", 0), !1);
                })() && f();
            }
          ),
          $("#saveCustomTextPopupWrapper").on("mousedown", (e) => {
            "saveCustomTextPopupWrapper" === $(e.target).attr("id") && f();
          });
        const h = (0, c.debounce)(500, function () {
          const e = $("#saveCustomTextPopup .textName").val(),
            t = $("#saveCustomTextPopupWrapper .isLongText").prop("checked");
          e
            ? r.getCustomTextNames(t).includes(e)
              ? (p.show("unavailable"),
                $("#saveCustomTextPopupWrapper .button.save").addClass(
                  "disabled"
                ))
              : (p.show("available"),
                $("#saveCustomTextPopupWrapper .button.save").removeClass(
                  "disabled"
                ))
            : (p.hide(),
              $("#saveCustomTextPopupWrapper .button.save").addClass(
                "disabled"
              ));
        });
        $("#saveCustomTextPopup .textName").on("input", () => {
          $("#saveCustomTextPopup .textName").val().length > 0 &&
            (p.show("loading"), h());
        }),
          $("#saveCustomTextPopupWrapper .isLongText").on("change", () => {
            $("#saveCustomTextPopup .textName").val().length > 0 &&
              (p.show("loading"), h());
          });
      },
      5177: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const r = i(o(8248)),
          u = i(o(7717));
        function l(e = !1) {
          $("#savedTextsPopupWrapper").addClass("hidden"),
            e ||
              (!0 === u.isCustomTextLong()
                ? ($("#customTextPopup .longCustomTextWarning").removeClass(
                    "hidden"
                  ),
                  $("#customTextPopup .randomWordsCheckbox input").prop(
                    "checked",
                    !1
                  ),
                  $("#customTextPopup .delimiterCheck input").prop(
                    "checked",
                    !1
                  ),
                  $("#customTextPopup .typographyCheck").prop("checked", !0),
                  $("#customTextPopup .replaceNewlineWithSpace input").prop(
                    "checked",
                    !1
                  ),
                  $("#customTextPopup .inputs").addClass("disabled"))
                : ($("#customTextPopup .longCustomTextWarning").addClass(
                    "hidden"
                  ),
                  $("#customTextPopup .inputs").removeClass("disabled")),
              $("#customTextPopupWrapper").removeClass("hidden"));
        }
        function d(e, t) {
          let o = r.getCustomText(e, t);
          t && (o = o.slice(r.getCustomTextLongProgress(e))),
            $("#customTextPopupWrapper textarea").val(o.join(r.delimiter));
        }
        (t.show = function () {
          return s(this, void 0, void 0, function* () {
            const e = r.getCustomTextNames(),
              t = $("#savedTextsPopup .list").empty();
            let o = "";
            if (0 === e.length) o += "<div>No saved custom texts found</div>";
            else
              for (const t of e)
                o += `<div class="savedText">\n      <div class="button name">${t}</div>\n      <div class="button delete">\n      <i class="fas fa-fw fa-trash"></i>\n      </div>\n      </div>`;
            t.html(o);
            const n = r.getCustomTextNames(!0),
              a = $("#savedTextsPopup .listLong").empty();
            let i = "";
            if (0 === n.length)
              i += "<div>No saved long custom texts found</div>";
            else
              for (const e of n)
                i += `<div class="savedText">\n      <div class="button name">${e}</div>\n      <div class="button ${
                  r.getCustomTextLongProgress(e) <= 0 ? "disabled" : ""
                } resetProgress">reset</div>\n      <div class="button delete">\n      <i class="fas fa-fw fa-trash"></i>\n      </div>\n      </div>`;
            a.html(i),
              $("#savedTextsPopupWrapper").removeClass("hidden"),
              $("#customTextPopupWrapper").addClass("hidden");
          });
        }),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .list .savedText .button.name",
            (e) => {
              const t = $(e.target).text();
              u.setCustomTextName(t, !1), d(t, !1), l();
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .list .savedText .button.delete",
            () => {
              l(!0);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.name",
            (e) => {
              const t = $(e.target).text();
              u.setCustomTextName(t, !0), d(t, !0), l();
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.resetProgress",
            () => {
              l(!0);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.delete",
            () => {
              l(!0);
            }
          ),
          $("#savedTextsPopupWrapper").on("mousedown", (e) => {
            "savedTextsPopupWrapper" === $(e.target).attr("id") && l();
          });
      },
      4924: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = void 0);
        const u = r(o(6705)),
          l = o(9470),
          d = o(3388),
          c = i(o(8248)),
          p = o(6965);
        function f(e) {
          return $(`#shareTestSettingsPopupWrapper label.${e} input`).prop(
            "checked"
          );
        }
        function h() {
          const e = location.origin + "?testSettings=",
            t = [null, null, null, null, null, null, null, null];
          f("mode") && (t[0] = u.default.mode),
            f("mode2") && (t[1] = (0, d.getMode2)(u.default, l.randomQuote)),
            f("customText") &&
              (t[2] = {
                text: c.text,
                isWordRandom: c.isWordRandom,
                isTimeRandom: c.isTimeRandom,
                word: c.word,
                time: c.time,
                delimiter: c.delimiter,
              }),
            f("punctuation") && (t[3] = u.default.punctuation),
            f("numbers") && (t[4] = u.default.numbers),
            f("language") && (t[5] = u.default.language),
            f("difficulty") && (t[6] = u.default.difficulty),
            f("funbox") && (t[7] = u.default.funbox);
          const o = e + (0, p.compressToURI)(JSON.stringify(t));
          $("#shareTestSettingsPopupWrapper textarea.url").val(o),
            o.length > 2e3
              ? $("#shareTestSettingsPopupWrapper .tooLongWarning").removeClass(
                  "hidden"
                )
              : $("#shareTestSettingsPopupWrapper .tooLongWarning").addClass(
                  "hidden"
                );
        }
        function m() {
          f("mode")
            ? $("#shareTestSettingsPopupWrapper .subgroup").removeClass(
                "hidden"
              )
            : $("#shareTestSettingsPopupWrapper .subgroup").addClass("hidden");
        }
        function g() {
          return s(this, void 0, void 0, function* () {
            $("#shareTestSettingsPopupWrapper").hasClass("hidden") ||
              $("#shareTestSettingsPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate({ opacity: 0 }, 100, () => {
                  $("#shareTestSettingsPopupWrapper").addClass("hidden");
                });
          });
        }
        (t.show = function () {
          $("#shareTestSettingsPopupWrapper").hasClass("hidden") &&
            (h(),
            m(),
            $("#shareTestSettingsPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100));
        }),
          (t.hide = g),
          $("#shareTestSettingsPopupWrapper label input").on("change", () => {
            h(), m();
          }),
          $("#shareTestSettingsPopupWrapper").on("mousedown", (e) => {
            "shareTestSettingsPopupWrapper" === $(e.target).attr("id") && g();
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#shareTestSettingsPopupWrapper").hasClass("hidden") ||
              (g(), e.preventDefault());
          });
      },
      9360: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.list = void 0);
        const u = r(o(7355)),
          l = i(o(4674)),
          d = i(o(6350)),
          c = i(o(6705)),
          p = i(o(9817)),
          f = i(o(3368)),
          h = i(o(8835)),
          m = i(o(6126)),
          g = i(o(4216)),
          v = i(o(8248)),
          y = i(o(5177)),
          b = i(o(5344)),
          w = o(6617),
          C = i(o(3285)),
          _ = o(522),
          S = o(3388),
          P = i(o(7717));
        let x = null;
        t.list = {};
        class k {
          constructor(e, t, o, n = [], a = "", i = "Confirm", s, r, u) {
            (this.parameters = []),
              (this.id = e),
              (this.type = t),
              (this.execFn = (e, ...t) => s(e, ...t)),
              (this.title = o),
              (this.inputs = n),
              (this.text = a),
              (this.wrapper = $("#simplePopupWrapper")),
              (this.element = $("#simplePopup")),
              (this.buttonText = i),
              (this.beforeInitFn = (e) => r(e)),
              (this.beforeShowFn = (e) => u(e)),
              (this.canClose = !0);
          }
          reset() {
            this.element.html(
              '\n    <div class="title"></div>\n    <div class="inputs"></div>\n    <div class="text"></div>\n    <div class="button"></div>'
            );
          }
          init() {
            const e = this.element;
            e.find("input").val(""),
              this.reset(),
              e.attr("popupId", this.id),
              e.find(".title").text(this.title),
              e.find(".text").text(this.text),
              this.initInputs(),
              "" === this.buttonText
                ? e.find(".button").remove()
                : e.find(".button").text(this.buttonText),
              "" === this.text
                ? e.find(".text").addClass("hidden")
                : e.find(".text").removeClass("hidden");
          }
          initInputs() {
            const e = this.element;
            this.inputs.length > 0
              ? ("number" === this.type
                  ? this.inputs.forEach((t) => {
                      e.find(".inputs").append(
                        `\n            <input\n              type="number"\n              min="1"\n              value="${
                          t.initVal
                        }"\n              placeholder="${
                          t.placeholder
                        }"\n              class="${
                          t.hidden ? "hidden" : ""
                        }"\n              ${
                          t.hidden ? "" : "required"
                        }\n              autocomplete="off"\n            >\n          `
                      );
                    })
                  : "text" === this.type &&
                    this.inputs.forEach((t) => {
                      t.type
                        ? "textarea" === t.type
                          ? e
                              .find(".inputs")
                              .append(
                                `\n                <textarea\n                  placeholder="${
                                  t.placeholder
                                }"\n                  class="${
                                  t.hidden ? "hidden" : ""
                                }"\n                  ${
                                  t.hidden ? "" : "required"
                                }\n                  ${
                                  t.disabled ? "disabled" : ""
                                }\n                  autocomplete="off"\n                >${
                                  t.initVal
                                }</textarea>\n              `
                              )
                          : "checkbox" === t.type
                          ? e
                              .find(".inputs")
                              .append(
                                `\n                <label class="checkbox">\n                  <input type="checkbox">\n                  <div class="customTextCheckbox">\n                    <div class="check">\n                      <i class="fas fa-fw fa-check"></i>\n                    </div>\n                  </div>\n                  ${t.label}\n                </label>\n              `
                              )
                          : e
                              .find(".inputs")
                              .append(
                                `\n              <input\n              type="${
                                  t.type
                                }"\n              value="${
                                  t.initVal
                                }"\n              placeholder="${
                                  t.placeholder
                                }"\n              class="${
                                  t.hidden ? "hidden" : ""
                                }"\n              ${
                                  t.hidden ? "" : "required"
                                }\n              ${
                                  t.disabled ? "disabled" : ""
                                }\n              autocomplete="off"\n              >\n              `
                              )
                        : e
                            .find(".inputs")
                            .append(
                              `\n              <input\n                type="text"\n                value="${
                                t.initVal
                              }"\n                placeholder="${
                                t.placeholder
                              }"\n                class="${
                                t.hidden ? "hidden" : ""
                              }"\n                ${
                                t.hidden ? "" : "required"
                              }\n                ${
                                t.disabled ? "disabled" : ""
                              }\n                autocomplete="off"\n              >\n            `
                            );
                    }),
                e.find(".inputs").removeClass("hidden"))
              : e.find(".inputs").addClass("hidden");
          }
          exec() {
            if (!this.canClose) return;
            const e = [];
            $.each($("#simplePopup input"), (t, o) => {
              $(o).is(":checkbox")
                ? e.push($(o).is(":checked") ? "true" : "false")
                : e.push($(o).val());
            }),
              this.execFn(this, ...e),
              this.hide();
          }
          show(e = []) {
            (x = this),
              (this.parameters = e),
              this.beforeInitFn(this),
              this.init(),
              this.beforeShowFn(this),
              this.wrapper
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 125, () => {
                  $($("#simplePopup").find("input")[0]).trigger("focus");
                });
          }
          hide() {
            this.canClose &&
              ((x = null),
              this.wrapper
                .stop(!0, !0)
                .css("opacity", 1)
                .removeClass("hidden")
                .animate({ opacity: 0 }, 125, () => {
                  this.wrapper.addClass("hidden");
                }));
          }
        }
        function T() {
          if (x) return x.hide();
          $("#simplePopupWrapper")
            .stop(!0, !0)
            .css("opacity", 1)
            .removeClass("hidden")
            .animate({ opacity: 0 }, 125, () => {
              $("#simplePopupWrapper").addClass("hidden");
            });
        }
        (t.hide = T),
          $("#simplePopupWrapper").on("mousedown", (e) => {
            if ("simplePopupWrapper" === $(e.target).attr("id")) {
              if (x) return x.hide();
              $("#simplePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .removeClass("hidden")
                .animate({ opacity: 0 }, 125, () => {
                  $("#simplePopupWrapper").addClass("hidden");
                });
            }
          }),
          $("#popups").on("click", "#simplePopupWrapper .button", () => {
            var e;
            const o =
              null !== (e = $("#simplePopup").attr("popupId")) && void 0 !== e
                ? e
                : "";
            t.list[o].exec();
          }),
          $("#popups").on("keyup", "#simplePopupWrapper input", (e) => {
            var o;
            if ("Enter" === e.key) {
              e.preventDefault();
              const n =
                null !== (o = $("#simplePopup").attr("popupId")) && void 0 !== o
                  ? o
                  : "";
              t.list[n].exec();
            }
          }),
          (t.list.updateEmail = new k(
            "updateEmail",
            "text",
            "Update Email",
            [
              { placeholder: "Password", type: "password", initVal: "" },
              { placeholder: "New email", initVal: "" },
              { placeholder: "Confirm new email", initVal: "" },
            ],
            "",
            "Update",
            (e, t, o, n) =>
              s(void 0, void 0, void 0, function* () {
                try {
                  const e =
                    null === w.Auth || void 0 === w.Auth
                      ? void 0
                      : w.Auth.currentUser;
                  if (!e) return;
                  if (o !== n) return void f.add("Emails don't match", 0);
                  if (
                    e.providerData.find(
                      (e) => "password" === (null == e ? void 0 : e.providerId)
                    )
                  ) {
                    const o = _.EmailAuthProvider.credential(e.email, t);
                    yield (0, _.reauthenticateWithCredential)(e, o);
                  }
                  p.show();
                  const a = yield u.default.users.updateEmail(o, e.email);
                  if ((p.hide(), 200 !== a.status))
                    return f.add("Failed to update email: " + a.message, -1);
                  f.add("Email updated", 1),
                    setTimeout(() => {
                      window.location.reload();
                    }, 3e3);
                } catch (e) {
                  "auth/wrong-password" === e.code
                    ? f.add("Incorrect password", -1)
                    : f.add("Something went wrong: " + e, -1);
                }
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = ""),
                  (e.text = "Password authentication is not enabled")));
            },
            (e) => {}
          )),
          (t.list.removeGoogleAuth = new k(
            "removeGoogleAuth",
            "text",
            "Remove Google Authentication",
            [{ placeholder: "Password", type: "password", initVal: "" }],
            "",
            "Remove",
            (e, t) =>
              s(void 0, void 0, void 0, function* () {
                try {
                  const e =
                    null === w.Auth || void 0 === w.Auth
                      ? void 0
                      : w.Auth.currentUser;
                  if (!e) return;
                  if (
                    e.providerData.find(
                      (e) => "password" === (null == e ? void 0 : e.providerId)
                    )
                  ) {
                    const o = _.EmailAuthProvider.credential(e.email, t);
                    yield (0, _.reauthenticateWithCredential)(e, o);
                  }
                  p.show(),
                    (0, _.unlink)(e, "google.com")
                      .then(() => {
                        p.hide(),
                          f.add("Google authentication removed", 1),
                          h.updateAuthSections();
                      })
                      .catch((e) => {
                        p.hide(),
                          f.add("Something went wrong: " + e.message, -1);
                      }),
                    setTimeout(() => {
                      window.location.reload();
                    }, 3e3);
                } catch (e) {
                  "auth/wrong-password" === e.code
                    ? f.add("Incorrect password", -1)
                    : f.add("Something went wrong: " + e, -1);
                }
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = ""),
                  (e.text = "Password authentication is not enabled")));
            },
            (e) => {}
          )),
          (t.list.updateName = new k(
            "updateName",
            "text",
            "Update Name",
            [
              { placeholder: "Password", type: "password", initVal: "" },
              { placeholder: "New name", type: "text", initVal: "" },
            ],
            "",
            "Update",
            (e, t, o) =>
              s(void 0, void 0, void 0, function* () {
                try {
                  const e =
                      null === w.Auth || void 0 === w.Auth
                        ? void 0
                        : w.Auth.currentUser,
                    n = d.getSnapshot();
                  if (!e || !n) return;
                  if (
                    e.providerData.find(
                      (e) => "password" === (null == e ? void 0 : e.providerId)
                    )
                  ) {
                    const o = _.EmailAuthProvider.credential(e.email, t);
                    yield (0, _.reauthenticateWithCredential)(e, o);
                  } else yield (0, _.reauthenticateWithPopup)(e, l.gmailProvider);
                  p.show();
                  const a = yield u.default.users.getNameAvailability(o);
                  if (200 !== a.status)
                    return (
                      p.hide(), f.add("Failed to check name: " + a.message, -1)
                    );
                  const i = yield u.default.users.updateName(o);
                  if (200 !== i.status)
                    return (
                      p.hide(), f.add("Failed to update name: " + i.message, -1)
                    );
                  f.add("Name updated", 1),
                    (n.name = o),
                    $("#menu .textButton.account .text").text(o),
                    n.needsToChangeName &&
                      setTimeout(() => {
                        location.reload();
                      }, 3e3);
                } catch (e) {
                  "auth/wrong-password" === e.code
                    ? f.add("Incorrect password", -1)
                    : f.add("Something went wrong: " + e, -1);
                }
                p.hide();
              }),
            (e) => {
              const t =
                  null === w.Auth || void 0 === w.Auth
                    ? void 0
                    : w.Auth.currentUser,
                o = d.getSnapshot();
              t &&
                o &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs[0].hidden = !0),
                  (e.buttonText = "Reauthenticate to update")),
                !0 === o.needsToChangeName &&
                  (e.text =
                    "We've recently identified several issues that allowed users to register with names that were already taken. Accounts which signed up earliest get to keep the duplicated name, and others are forced to change. Unique names are essential for smooth operation of upcoming features like public profiles, multiplayer, and more. Sorry for the inconvenience."));
            },
            (e) => {}
          )),
          (t.list.updatePassword = new k(
            "updatePassword",
            "text",
            "Update Password",
            [
              { placeholder: "Password", type: "password", initVal: "" },
              { placeholder: "New password", type: "password", initVal: "" },
              {
                placeholder: "Confirm new password",
                type: "password",
                initVal: "",
              },
            ],
            "",
            "Update",
            (e, t, o, n) =>
              s(void 0, void 0, void 0, function* () {
                try {
                  const e =
                    null === w.Auth || void 0 === w.Auth
                      ? void 0
                      : w.Auth.currentUser;
                  if (!e) return;
                  const a = _.EmailAuthProvider.credential(e.email, t);
                  if (o !== n)
                    return void f.add("New passwords don't match", 0);
                  if (
                    "localhost" !== window.location.hostname &&
                    !(0, S.isPasswordStrong)(o)
                  )
                    return void f.add(
                      "New password must contain at least one capital letter, number, a special character and at least 8 characters long",
                      0,
                      4
                    );
                  p.show(),
                    yield (0, _.reauthenticateWithCredential)(e, a),
                    yield (0, _.updatePassword)(e, o),
                    p.hide(),
                    f.add("Password updated", 1),
                    setTimeout(() => {
                      window.location.reload();
                    }, 3e3);
                } catch (e) {
                  const t = e;
                  p.hide(),
                    "auth/wrong-password" === t.code
                      ? f.add("Incorrect password", -1)
                      : f.add("Something went wrong: " + e, -1);
                }
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = ""),
                  (e.text = "Password authentication is not enabled")));
            },
            (e) => {}
          )),
          (t.list.addPasswordAuth = new k(
            "addPasswordAuth",
            "text",
            "Add Password Authentication",
            [
              { placeholder: "email", type: "email", initVal: "" },
              { placeholder: "confirm email", type: "email", initVal: "" },
              { placeholder: "new password", type: "password", initVal: "" },
              {
                placeholder: "confirm new password",
                type: "password",
                initVal: "",
              },
            ],
            "",
            "Add",
            (e, t, o, n, a) =>
              s(void 0, void 0, void 0, function* () {
                t === o
                  ? n === a
                    ? yield l.addPasswordAuth(t, n)
                    : f.add("Passwords don't match", 0)
                  : f.add("Emails don't match", 0);
              }),
            () => {},
            (e) => {}
          )),
          (t.list.deleteAccount = new k(
            "deleteAccount",
            "text",
            "Delete Account",
            [{ placeholder: "Password", type: "password", initVal: "" }],
            "This is the last time you can change your mind. After pressing the button everything is gone.",
            "Delete",
            (e, t) =>
              s(void 0, void 0, void 0, function* () {
                var e;
                try {
                  const o =
                    null === w.Auth || void 0 === w.Auth
                      ? void 0
                      : w.Auth.currentUser;
                  if (!o) return;
                  if (
                    o.providerData.find(
                      (e) => "password" === (null == e ? void 0 : e.providerId)
                    )
                  ) {
                    const e = _.EmailAuthProvider.credential(o.email, t);
                    yield (0, _.reauthenticateWithCredential)(o, e);
                  } else yield (0, _.reauthenticateWithPopup)(o, l.gmailProvider);
                  p.show(), f.add("Deleting stats...", 0);
                  const n = yield u.default.users.delete();
                  if ((p.hide(), 200 !== n.status))
                    return f.add(
                      "Failed to delete user stats: " + n.message,
                      -1
                    );
                  p.show(), f.add("Deleting results...", 0);
                  const a = yield u.default.results.deleteAll();
                  if ((p.hide(), 200 !== a.status))
                    return f.add(
                      "Failed to delete user results: " + a.message,
                      -1
                    );
                  f.add("Deleting login information...", 0),
                    yield null ===
                      (e =
                        null === w.Auth || void 0 === w.Auth
                          ? void 0
                          : w.Auth.currentUser) || void 0 === e
                      ? void 0
                      : e.delete(),
                    f.add("Goodbye", 1, 5),
                    setTimeout(() => {
                      location.reload();
                    }, 3e3);
                } catch (e) {
                  const t = e;
                  p.hide(),
                    "auth/wrong-password" === t.code
                      ? f.add("Incorrect password", -1)
                      : f.add("Something went wrong: " + e, -1);
                }
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = "Reauthenticate to delete")));
            },
            (e) => {}
          )),
          (t.list.resetAccount = new k(
            "resetAccount",
            "text",
            "Reset Account",
            [{ placeholder: "Password", type: "password", initVal: "" }],
            "This is the last time you can change your mind. After pressing the button everything is gone.",
            "Reset",
            (e, t) =>
              s(void 0, void 0, void 0, function* () {
                try {
                  const e =
                    null === w.Auth || void 0 === w.Auth
                      ? void 0
                      : w.Auth.currentUser;
                  if (!e) return;
                  if (
                    e.providerData.find(
                      (e) => "password" === (null == e ? void 0 : e.providerId)
                    )
                  ) {
                    const o = _.EmailAuthProvider.credential(e.email, t);
                    yield (0, _.reauthenticateWithCredential)(e, o);
                  } else yield (0, _.reauthenticateWithPopup)(e, l.gmailProvider);
                  if (
                    (f.add("Resetting settings...", 0),
                    c.reset(),
                    p.show(),
                    f.add("Resetting account and stats...", 0),
                    200 !== (yield u.default.users.reset()).status)
                  )
                    return (
                      p.hide(),
                      f.add(
                        "There was an error resetting your account. Please try again.",
                        -1
                      )
                    );
                  p.hide(),
                    f.add("Reset complete", 1),
                    setTimeout(() => {
                      location.reload();
                    }, 3e3);
                } catch (e) {
                  const t = e;
                  p.hide(),
                    "auth/wrong-password" === t.code
                      ? f.add("Incorrect password", -1)
                      : f.add("Something went wrong: " + e, -1);
                }
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = "Reauthenticate to reset")));
            },
            (e) => {}
          )),
          (t.list.clearTagPb = new k(
            "clearTagPb",
            "text",
            "Clear Tag PB",
            [],
            "Are you sure you want to clear this tags PB?",
            "Clear",
            (e) =>
              s(void 0, void 0, void 0, function* () {
                var t, o;
                const n = e.parameters[0];
                p.show();
                const a = yield u.default.users.deleteTagPersonalBest(n);
                if ((p.hide(), 200 !== a.status))
                  return f.add("Failed to delete tag's PB: " + a.message);
                if (1 === a.data.resultCode) {
                  const e =
                    null ===
                      (o =
                        null === (t = d.getSnapshot()) || void 0 === t
                          ? void 0
                          : t.tags) || void 0 === o
                      ? void 0
                      : o.filter((e) => e._id === n)[0];
                  if (void 0 === e) return;
                  (e.personalBests = {
                    time: {},
                    words: {},
                    zen: { zen: [] },
                    quote: { custom: [] },
                    custom: { custom: [] },
                  }),
                    $(
                      `.pageSettings .section.tags .tagsList .tag[id="${n}"] .clearPbButton`
                    ).attr("aria-label", "No PB found"),
                    f.add("Tag PB cleared.", 0);
                } else f.add("Something went wrong: " + a.message, -1);
              }),
            (e) => {
              e.text = `Are you sure you want to clear PB for tag ${e.parameters[1]}?`;
            },
            (e) => {}
          )),
          (t.list.applyCustomFont = new k(
            "applyCustomFont",
            "text",
            "Custom font",
            [{ placeholder: "Font name", initVal: "" }],
            "Make sure you have the font installed on your computer before applying",
            "Apply",
            (e, t) => {
              var o;
              "" !== t &&
                (null === (o = h.groups.fontFamily) ||
                  void 0 === o ||
                  o.setValue(t.replace(/\s/g, "_")));
            },
            () => {},
            (e) => {}
          )),
          (t.list.resetPersonalBests = new k(
            "resetPersonalBests",
            "text",
            "Reset Personal Bests",
            [{ placeholder: "Password", type: "password", initVal: "" }],
            "",
            "Reset",
            (e, t) =>
              s(void 0, void 0, void 0, function* () {
                try {
                  const e =
                      null === w.Auth || void 0 === w.Auth
                        ? void 0
                        : w.Auth.currentUser,
                    o = d.getSnapshot();
                  if (!e || !o) return;
                  if (
                    e.providerData.find(
                      (e) => "password" === (null == e ? void 0 : e.providerId)
                    )
                  ) {
                    const o = _.EmailAuthProvider.credential(e.email, t);
                    yield (0, _.reauthenticateWithCredential)(e, o);
                  } else yield (0, _.reauthenticateWithPopup)(e, l.gmailProvider);
                  p.show();
                  const n = yield u.default.users.deletePersonalBests();
                  if ((p.hide(), 200 !== n.status))
                    return f.add(
                      "Failed to reset personal bests: " + n.message,
                      -1
                    );
                  f.add("Personal bests have been reset", 1),
                    (o.personalBests = {
                      time: {},
                      words: {},
                      zen: { zen: [] },
                      quote: { custom: [] },
                      custom: { custom: [] },
                    });
                } catch (e) {
                  p.hide(), f.add(e, -1);
                }
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = "Reauthenticate to reset")));
            },
            (e) => {}
          )),
          (t.list.resetSettings = new k(
            "resetSettings",
            "text",
            "Reset Settings",
            [],
            "Are you sure you want to reset all your settings?",
            "Reset",
            () => {
              c.reset();
            },
            () => {},
            (e) => {}
          )),
          (t.list.unlinkDiscord = new k(
            "unlinkDiscord",
            "text",
            "Unlink Discord",
            [],
            "Are you sure you want to unlink your Discord account?",
            "Unlink",
            () =>
              s(void 0, void 0, void 0, function* () {
                const e = d.getSnapshot();
                if (!e) return;
                p.show();
                const t = yield u.default.users.unlinkDiscord();
                if ((p.hide(), 200 !== t.status))
                  return f.add("Failed to unlink Discord: " + t.message, -1);
                f.add("Accounts unlinked", 1),
                  (e.discordAvatar = void 0),
                  (e.discordId = void 0),
                  b.update(),
                  d.setSnapshot(e),
                  h.updateDiscordSection();
              }),
            () => {},
            (e) => {}
          )),
          (t.list.generateApeKey = new k(
            "generateApeKey",
            "text",
            "Generate new key",
            [{ placeholder: "Name", initVal: "" }],
            "",
            "Generate",
            (e, o) =>
              s(void 0, void 0, void 0, function* () {
                p.show();
                const e = yield u.default.apeKeys.generate(o, !1);
                if ((p.hide(), 200 !== e.status))
                  return f.add("Failed to generate key: " + e.message, -1);
                {
                  const o = e.data;
                  t.list.viewApeKey.show([o.apeKey]);
                }
              }),
            () => {},
            (e) => {}
          )),
          (t.list.viewApeKey = new k(
            "viewApeKey",
            "text",
            "Ape Key",
            [
              {
                type: "textarea",
                disabled: !0,
                placeholder: "Key",
                initVal: "",
              },
            ],
            "This is your new Ape Key. Please keep it safe. You will only see it once!",
            "Close",
            (e) => {
              m.show();
            },
            (e) => {
              e.inputs[0].initVal = e.parameters[0];
            },
            (e) => {
              (e.canClose = !1),
                $("#simplePopup textarea").css("height", "110px"),
                $("#simplePopup .button").addClass("hidden"),
                setTimeout(() => {
                  (e.canClose = !0),
                    $("#simplePopup .button").removeClass("hidden");
                }, 3e3);
            }
          )),
          (t.list.deleteApeKey = new k(
            "deleteApeKey",
            "text",
            "Delete Ape Key",
            [],
            "Are you sure?",
            "Delete",
            (e) =>
              s(void 0, void 0, void 0, function* () {
                p.show();
                const t = yield u.default.apeKeys.delete(e.parameters[0]);
                if ((p.hide(), 200 !== t.status))
                  return f.add("Failed to delete key: " + t.message, -1);
                f.add("Key deleted", 1), m.show();
              }),
            (e) => {},
            (e) => {}
          )),
          (t.list.editApeKey = new k(
            "editApeKey",
            "text",
            "Edit Ape Key",
            [{ placeholder: "Name", initVal: "" }],
            "",
            "Edit",
            (e, t) =>
              s(void 0, void 0, void 0, function* () {
                p.show();
                const o = yield u.default.apeKeys.update(e.parameters[0], {
                  name: t,
                });
                if ((p.hide(), 200 !== o.status))
                  return f.add("Failed to update key: " + o.message, -1);
                f.add("Key updated", 1), m.show();
              }),
            (e) => {},
            (e) => {}
          )),
          (t.list.deleteCustomText = new k(
            "deleteCustomText",
            "text",
            "Delete custom text",
            [],
            "Are you sure?",
            "Delete",
            (e) => {
              v.deleteCustomText(e.parameters[0]),
                f.add("Custom text deleted", 1),
                P.setCustomTextName("", void 0),
                y.show();
            },
            (e) => {
              e.text = `Are you sure you want to delete custom text ${e.parameters[0]}?`;
            },
            () => {}
          )),
          (t.list.deleteCustomTextLong = new k(
            "deleteCustomTextLong",
            "text",
            "Delete custom text",
            [],
            "Are you sure?",
            "Delete",
            (e) => {
              v.deleteCustomText(e.parameters[0], !0),
                f.add("Custom text deleted", 1),
                P.setCustomTextName("", void 0),
                y.show();
            },
            (e) => {
              e.text = `Are you sure you want to delete custom text ${e.parameters[0]}?`;
            },
            () => {}
          )),
          (t.list.resetProgressCustomTextLong = new k(
            "resetProgressCustomTextLong",
            "text",
            "Reset progress for custom text",
            [],
            "Are you sure?",
            "Reset",
            (e) => {
              v.setCustomTextLongProgress(e.parameters[0], 0),
                f.add("Custom text progress reset", 1),
                y.show(),
                $("#customTextPopupWrapper textarea").val(
                  v.getCustomText(e.parameters[0], !0).join(" ")
                );
            },
            (e) => {
              e.text = `Are you sure you want to reset your progress for custom text ${e.parameters[0]}?`;
            },
            () => {}
          )),
          (t.list.updateCustomTheme = new k(
            "updateCustomTheme",
            "text",
            "Update Custom Theme",
            [
              { type: "text", placeholder: "Name", initVal: "" },
              {
                type: "checkbox",
                initVal: "false",
                label: "Update custom theme to current colors",
              },
            ],
            "",
            "Update",
            (e, t, o) =>
              s(void 0, void 0, void 0, function* () {
                const n = d.getSnapshot();
                if (!n) return;
                const a = n.customThemes.find((t) => t._id === e.parameters[0]);
                if (void 0 === a)
                  return void f.add("Custom theme does not exist", -1);
                let i = [];
                "true" === o
                  ? $.each(
                      $(
                        ".pageSettings .customTheme .customThemeEdit [type='color']"
                      ),
                      (e, t) => {
                        i.push($(t).attr("value"));
                      }
                    )
                  : (i = a.colors);
                const s = { name: t.replaceAll(" ", "_"), colors: i };
                p.show();
                const r = yield d.editCustomTheme(a._id, s);
                p.hide(),
                  r &&
                    (c.setCustomThemeColors(i),
                    f.add("Custom theme updated", 1),
                    g.refreshButtons());
              }),
            (e) => {
              const t = d.getSnapshot();
              if (!t) return;
              const o = t.customThemes.find((t) => t._id === e.parameters[0]);
              o && (e.inputs[0].initVal = o.name);
            },
            (e) => {}
          )),
          (t.list.deleteCustomTheme = new k(
            "deleteCustomTheme",
            "text",
            "Delete Custom Theme",
            [],
            "Are you sure?",
            "Delete",
            (e) =>
              s(void 0, void 0, void 0, function* () {
                p.show(),
                  yield d.deleteCustomTheme(e.parameters[0]),
                  p.hide(),
                  f.add("Custom theme deleted", 1),
                  g.refreshButtons();
              }),
            (e) => {},
            (e) => {}
          )),
          $(
            ".pageSettings .section.discordIntegration #unlinkDiscordButton"
          ).on("click", () => {
            C.get()
              ? t.list.unlinkDiscord.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings #removeGoogleAuth").on("click", () => {
            C.get()
              ? t.list.removeGoogleAuth.show()
              : f.add("You are offline", 0, 2);
          }),
          $("#resetSettingsButton").on("click", () => {
            C.get()
              ? t.list.resetSettings.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings #resetPersonalBestsButton").on("click", () => {
            C.get()
              ? t.list.resetPersonalBests.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings #updateAccountName").on("click", () => {
            C.get() ? t.list.updateName.show() : f.add("You are offline", 0, 2);
          }),
          $("#bannerCenter").on(
            "click",
            ".banner .text .openNameChange",
            () => {
              C.get()
                ? t.list.updateName.show()
                : f.add("You are offline", 0, 2);
            }
          ),
          $(".pageSettings #addPasswordAuth").on("click", () => {
            C.get()
              ? t.list.addPasswordAuth.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings #emailPasswordAuth").on("click", () => {
            C.get()
              ? t.list.updateEmail.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings #passPasswordAuth").on("click", () => {
            C.get()
              ? t.list.updatePassword.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings #deleteAccount").on("click", () => {
            C.get()
              ? t.list.deleteAccount.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings #resetAccount").on("click", () => {
            C.get()
              ? t.list.resetAccount.show()
              : f.add("You are offline", 0, 2);
          }),
          $("#apeKeysPopup .generateApeKey").on("click", () => {
            C.get()
              ? t.list.generateApeKey.show()
              : f.add("You are offline", 0, 2);
          }),
          $(".pageSettings").on(
            "click",
            ".section.themes .customTheme .delButton",
            (e) => {
              if (!C.get()) return void f.add("You are offline", 0, 2);
              const o = $(e.currentTarget)
                .parent(".customTheme.button")
                .attr("customThemeId");
              t.list.deleteCustomTheme.show([o]);
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.themes .customTheme .editButton",
            (e) => {
              if (!C.get()) return void f.add("You are offline", 0, 2);
              const o = $(e.currentTarget)
                .parent(".customTheme.button")
                .attr("customThemeId");
              t.list.updateCustomTheme.show([o]);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .list .savedText .button.delete",
            (e) => {
              const o = $(e.target).siblings(".button.name").text();
              t.list.deleteCustomText.show([o]);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.delete",
            (e) => {
              const o = $(e.target).siblings(".button.name").text();
              t.list.deleteCustomTextLong.show([o]);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.resetProgress",
            (e) => {
              const o = $(e.target).siblings(".button.name").text();
              t.list.resetProgressCustomTextLong.show([o]);
            }
          ),
          $("#popups").on(
            "click",
            "#apeKeysPopup table tbody tr .button.delete",
            (e) => {
              if (!C.get()) return void f.add("You are offline", 0, 2);
              const o = $(e.target).closest("tr").attr("keyId");
              t.list.deleteApeKey.show([o]);
            }
          ),
          $("#popups").on(
            "click",
            "#apeKeysPopup table tbody tr .button.edit",
            (e) => {
              if (!C.get()) return void f.add("You are offline", 0, 2);
              const o = $(e.target).closest("tr").attr("keyId");
              t.list.editApeKey.show([o]);
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.fontFamily .button.custom",
            () => {
              t.list.applyCustomFont.show([]);
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#simplePopupWrapper").hasClass("hidden") ||
              (T(), e.preventDefault());
          });
      },
      4660: () => {
        function e() {
          $("#supportMeWrapper")
            .css("opacity", 0)
            .removeClass("hidden")
            .animate({ opacity: 1 }, 125);
        }
        $("#supportMeButton").on("click", () => {
          e();
        }),
          $(".pageAbout").on("click", "#supportMeAboutButton", () => {
            e();
          }),
          $("#popups").on("click", "#supportMeWrapper", () => {
            $("#supportMeWrapper")
              .css("opacity", 1)
              .animate({ opacity: 0 }, 125, () => {
                $("#supportMeWrapper").addClass("hidden");
              });
          }),
          $("#popups").on("click", "#supportMeWrapper .button.ads", () => {
            $("#supportMeWrapper")
              .css("opacity", 1)
              .animate({ opacity: 0 }, 125, () => {
                $("#supportMeWrapper").addClass("hidden");
              });
          }),
          $("#popups").on("click", "#supportMeWrapper a.button", () => {
            $("#supportMeWrapper")
              .css("opacity", 1)
              .animate({ opacity: 0 }, 125, () => {
                $("#supportMeWrapper").addClass("hidden");
              });
          }),
          $(document).on(
            "keypress",
            "#supportMeButton, #supportMeAboutButton",
            (e) => {
              "Enter" === e.key && $(e.currentTarget).trigger("click");
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#supportMeWrapper").hasClass("hidden") ||
              $("#supportMeWrapper")
                .css("opacity", 1)
                .animate({ opacity: 0 }, 125, () => {
                  $("#supportMeWrapper").addClass("hidden");
                });
          });
      },
      2666: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const a = n(o(9546)),
          i = o(3388);
        function s() {
          $("#versionHistory").html(
            '\n    <div class="preloader">\n      <i class="fas fa-fw fa-spin fa-circle-notch"></i>\n    </div\n  '
          ),
            (0, i.getReleasesFromGitHub)().then((e) => {
              $("#versionHistory").html('<div class="releases"></div'),
                e.forEach((e) => {
                  e.draft ||
                    e.prerelease ||
                    $("#versionHistory .releases").append(
                      `\n        <div class="release">\n          <div class="title">${
                        e.name
                      }</div>\n          <div class="date">${(0, a.default)(
                        new Date(e.published_at),
                        "dd MMM yyyy"
                      )}</div>\n          <div class="body">${e.body.replace(
                        /\r\n/g,
                        "<br>"
                      )}</div>\n        </div>\n      `
                    );
                });
            }),
            $("#versionHistoryWrapper")
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 125),
            $("#newVersionIndicator").addClass("hidden");
        }
        function r() {
          $("#versionHistoryWrapper")
            .css("opacity", 1)
            .animate({ opacity: 0 }, 125, () => {
              $("#versionHistoryWrapper").addClass("hidden"),
                $("#versionHistory").html("");
            });
        }
        (t.show = s),
          $("#bottom").on("click", "#newVersionIndicator", () => {
            $("#newVersionIndicator").addClass("hidden");
          }),
          $("#bottom").on("click", ".version", (e) => {
            e.shiftKey || s();
          }),
          $("#popups").on("click", "#versionHistoryWrapper", (e) => {
            "versionHistoryWrapper" === $(e.target).attr("id") && r();
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#versionHistoryWrapper").hasClass("hidden") ||
              (r(), e.preventDefault());
          });
      },
      2864: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.egVideoListener = t.show = void 0);
        const r = i(o(3368)),
          u = i(o(1493));
        function l() {
          return s(this, void 0, void 0, function* () {
            yield u.checkAdblock(),
              u.adBlock
                ? r.add(
                    "Looks like you're using an adblocker. Video ads will not work until you disable it.",
                    0,
                    6
                  )
                : (yield u.checkCookieblocker(),
                  u.cookieBlocker
                    ? r.add(
                        "Looks like you're using a cookie popup blocker. Video ads will not work without giving your consent through the popup.",
                        0,
                        7
                      )
                    : $("#videoAdPopupWrapper").hasClass("hidden") &&
                      $("#videoAdPopupWrapper")
                        .stop(!0, !0)
                        .css("opacity", 0)
                        .removeClass("hidden")
                        .animate({ opacity: 1 }, 100, () => {
                          window.dataLayer.push({ event: "EG_Video" });
                        }));
          });
        }
        function d() {
          $("#videoAdPopupWrapper").hasClass("hidden") ||
            $("#videoAdPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#videoAdPopupWrapper").addClass("hidden");
              });
        }
        (t.show = l),
          (t.egVideoListener = function (e) {
            const t = e.event;
            "started" === t ||
              ("finished" === t
                ? d()
                : "empty" === t &&
                  (r.add(
                    "Failed to load video ad. Please try again later",
                    -1,
                    3
                  ),
                  d()));
          }),
          $(".pageTest #watchVideoAdButton").on("click", () => {
            l();
          });
      },
      9231: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = void 0);
        const r = i(o(3388)),
          u = i(o(8248)),
          l = i(o(3368));
        let d = !1;
        function c() {
          $("#wordFilterPopupWrapper").addClass("hidden"),
            $("#customTextPopupWrapper").removeClass("hidden");
        }
        (t.show = function () {
          return s(this, void 0, void 0, function* () {
            yield (function () {
              return s(this, void 0, void 0, function* () {
                if (!d) {
                  let e;
                  $("#wordFilterPopup .languageInput").empty();
                  try {
                    e = yield r.getLanguageList();
                  } catch (e) {
                    return void console.error(
                      r.createErrorMessage(
                        e,
                        "Failed to initialise word filter popup language list"
                      )
                    );
                  }
                  e.forEach((e) => {
                    let t = e;
                    (t = t.replace("_", " ")),
                      $("#wordFilterPopup .languageInput").append(
                        `\n        <option value=${e}>${t}</option>\n      `
                      );
                  }),
                    (d = !0);
                }
              });
            })(),
              $("#wordFilterPopupWrapper").removeClass("hidden"),
              $("#customTextPopupWrapper").addClass("hidden"),
              $("#wordFilterPopup .languageInput").select2({ width: "100%" });
          });
        }),
          $("#wordFilterPopupWrapper").on("mousedown", (e) => {
            "wordFilterPopupWrapper" === $(e.target).attr("id") && c();
          }),
          $("#wordFilterPopup .languageInput").one("select2:open", function () {
            $("input.select2-search__field").prop("placeholder", "search");
          }),
          $("#wordFilterPopupWrapper .button").on("mousedown", (e) => {
            $("#wordFilterPopupWrapper .loadingIndicator").removeClass(
              "hidden"
            ),
              $("#wordFilterPopupWrapper .button").addClass("hidden"),
              setTimeout(() => {
                (function (e) {
                  return s(this, void 0, void 0, function* () {
                    const t = $("#wordFilterPopup .languageInput").val(),
                      o = yield (function (e) {
                        return s(this, void 0, void 0, function* () {
                          let t = $("#wordFilterPopup .wordIncludeInput").val();
                          (t = r.escapeRegExp(null == t ? void 0 : t.trim())),
                            (t = t.replace(/\s+/gi, "|"));
                          const o = new RegExp(t, "i");
                          let n = $("#wordFilterPopup .wordExcludeInput").val();
                          (n = r.escapeRegExp(n.trim())),
                            (n = n.replace(/\s+/gi, "|"));
                          const a = new RegExp(n, "i"),
                            i = [];
                          let s;
                          try {
                            s = yield r.getLanguage(e);
                          } catch (e) {
                            return (
                              l.add(
                                r.createErrorMessage(
                                  e,
                                  "Failed to filter language words"
                                ),
                                -1
                              ),
                              []
                            );
                          }
                          const u = $("#wordFilterPopup .wordMaxInput").val(),
                            d = $("#wordFilterPopup .wordMinInput").val();
                          let c, p;
                          (c = "" == u ? 999 : parseInt(u)),
                            (p = "" == d ? 1 : parseInt(d));
                          for (let e = 0; e < s.words.length; e++) {
                            const t = s.words[e],
                              r = o.test(t),
                              u = a.test(t);
                            ((r && !u) || (r && "" == n)) &&
                              t.length <= c &&
                              t.length >= p &&
                              i.push(t);
                          }
                          return i;
                        });
                      })(t),
                      n = o.join(u.delimiter);
                    $("#customTextPopup textarea").val(
                      (t, o) => (e ? "" : o + " ") + n
                    ),
                      c();
                  });
                })($(e.target).is("#set")).then(() => {
                  $("#wordFilterPopupWrapper .loadingIndicator").addClass(
                    "hidden"
                  ),
                    $("#wordFilterPopupWrapper .button").removeClass("hidden");
                });
              }, 1);
          });
      },
      8325: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const r = i(o(2203)),
          u = i(o(6705)),
          l = u,
          d = i(o(3388)),
          c = i(o(6578)),
          p = i(o(8980)),
          f = i(o(3368)),
          h = i(o(8911)),
          m = i(o(4044)),
          g = i(o(2709)),
          v = i(o(3285)),
          y = o(5131),
          b = s(o(4166));
        r.set(),
          l.loadFromLocalStorage(),
          "localhost" === window.location.hostname
            ? ($("#bottom .version .text").text("localhost"),
              $("#bottom #versionGroup").removeClass("hidden"),
              $("body").prepend(
                "<a class='button configureAPI' href='http://localhost:5005/configure/' target='_blank' aria-label=\"Configure API\" data-balloon-pos=\"right\"><i class=\"fas fa-fw fa-server\"></i></a>"
              ))
            : d.getLatestReleaseFromGitHub().then((e) => {
                $("#bottom .version .text").text(e),
                  $("#bottom #versionGroup").removeClass("hidden"),
                  p.show(e);
              }),
          h.set(!0, !0),
          $(document).ready(() => {
            m.check(),
              $("body").css("transition", "all .25s, transform .05s"),
              ("tab" !== u.default.quickRestart &&
                "esc" !== u.default.quickRestart) ||
                $("#restartTestButton").addClass("hidden"),
              window.localStorage.getItem("merchbannerclosed") ||
                f.addBanner(
                  'Check out our merchandise, available at <a target="_blank" href="https://monkeytype.store/">monkeytype.store</a>',
                  1,
                  "./images/merch2.png",
                  !1,
                  () => {
                    window.localStorage.setItem("merchbannerclosed", "true");
                  },
                  !0
                ),
              $("#centerContent")
                .css("opacity", "0")
                .removeClass("hidden")
                .stop(!0, !0)
                .animate({ opacity: 1 }, 250),
              v.get() && g.show(),
              c.init(),
              new b.default("https://keymash.io/");
          }),
          "serviceWorker" in navigator &&
            window.addEventListener("load", () => {
              if ("localhost" === window.location.hostname)
                navigator.serviceWorker.getRegistrations().then(function (e) {
                  for (const t of e) t.unregister();
                });
              else {
                const e = new y.Workbox("/service-worker.js");
                let t;
                e.addEventListener("waiting", (o) => {
                  e.addEventListener("controlling", (e) => {
                    (o.isUpdate || e.isUpdate) &&
                      void 0 === t &&
                      (t = f.addBanner(
                        "Update ready - please refresh",
                        1,
                        "gift",
                        !0
                      ));
                  }),
                    e.messageSkipWaiting();
                }),
                  e
                    .register()
                    .then((t) => {
                      console.log("Service worker registration succeeded:", t),
                        setInterval(() => {
                          e.update();
                        }, 9e5);
                    })
                    .catch((e) => {
                      console.log("Service worker registration failed:", e);
                    });
              }
            });
      },
      8427: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const a = n(o(6705));
        t.default = class {
          constructor(e, t, o, n, i) {
            (this.configName = e),
              (this.configValue = a.default[e]),
              (this.mode = o),
              (this.configFunction = t),
              (this.setCallback = n),
              (this.updateCallback = i),
              this.updateInput(),
              "select" === this.mode
                ? $(".pageSettings").on(
                    "change",
                    `.section.${this.configName} select`,
                    (e) => {
                      const t = $(e.currentTarget);
                      t.hasClass("disabled") ||
                        t.hasClass("no-auto-handle") ||
                        this.setValue(t.val());
                    }
                  )
                : "button" === this.mode &&
                  $(".pageSettings").on(
                    "click",
                    `.section.${this.configName} .button`,
                    (t) => {
                      const o = $(t.currentTarget);
                      if (
                        o.hasClass("disabled") ||
                        o.hasClass("no-auto-handle")
                      )
                        return;
                      let n = o.attr(e);
                      const a = o.attr("params");
                      (n || a) &&
                        ("true" === n && (n = !0),
                        "false" === n && (n = !1),
                        this.setValue(n, a));
                    }
                  );
          }
          setValue(e, t) {
            void 0 === t
              ? this.configFunction(e)
              : this.configFunction(e, ...t),
              this.updateInput(),
              this.setCallback && this.setCallback();
          }
          updateInput() {
            (this.configValue = a.default[this.configName]),
              $(
                `.pageSettings .section.${this.configName} .button`
              ).removeClass("active"),
              "select" === this.mode
                ? $(`.pageSettings .section.${this.configName} select`)
                    .val(this.configValue)
                    .trigger("change.select2")
                : "button" === this.mode &&
                  $(
                    `.pageSettings .section.${this.configName} .button[${this.configName}='${this.configValue}']`
                  ).addClass("active"),
              this.updateCallback && this.updateCallback();
          }
        };
      },
      4216: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateActiveTab =
            t.saveCustomThemeColors =
            t.setCustomInputs =
            t.refreshButtons =
            t.updateActiveButton =
              void 0);
        const r = i(o(6705)),
          u = r,
          l = i(o(743)),
          d = i(o(3388)),
          c = i(o(3368)),
          p = i(o(4203)),
          f = i(o(1833)),
          h = i(o(8628)),
          m = i(o(9817)),
          g = i(o(6350)),
          v = i(o(1446)),
          y = o(6617);
        function b() {
          let e = r.default.theme;
          "off" !== r.default.randomTheme &&
            "custom" !== r.default.randomTheme &&
            null !== l.randomTheme &&
            (e = l.randomTheme),
            $(".pageSettings .section.themes .theme").removeClass("active"),
            $(`.pageSettings .section.themes .theme[theme=${e}]`).addClass(
              "active"
            );
        }
        function w(e, t, o = !1, n = !1) {
          if (o) {
            const o = e.find("input.color").attr("id");
            void 0 === o && console.error("Could not find color ID!"),
              n ||
                void 0 === o ||
                document.documentElement.style.setProperty(o, t);
            const a = e.find("label");
            return (
              a.val(t),
              a.attr("value", t),
              "--bg-color" !== a.attr("for") && a.css("background-color", t),
              e.find("input.input").val(t),
              void e.find("input.color").attr("value", t)
            );
          }
          const a = [
            {
              rule: /\b[0-9]{1,3},\s?[0-9]{1,3},\s?[0-9]{1,3}\s*\b/,
              start: "rgb(",
              end: ")",
            },
            { rule: /\b[A-Z, a-z, 0-9]{6}\b/, start: "#", end: "" },
            {
              rule: /\b[0-9]{1,3},\s?[0-9]{1,3}%,\s?[0-9]{1,3}%?\s*\b/,
              start: "hsl(",
              end: ")",
            },
          ];
          t = t.replace("", "");
          for (const e of a)
            if (t.match(e.rule)) {
              t = e.start + t + e.end;
              break;
            }
          $(".colorConverter").css("color", t);
          const i = d.convertRGBtoHEX($(".colorConverter").css("color"));
          if (void 0 === i) return;
          t = i;
          const s = e.find("input.color").attr("id");
          void 0 === s && console.error("Could not find color ID!"),
            n ||
              void 0 === s ||
              document.documentElement.style.setProperty(s, t);
          const r = e.find("label");
          r.val(t),
            r.attr("value", t),
            "--bg-color" !== r.attr("for") && r.css("background-color", t),
            e.find("input.input").val(t),
            e.find("input.color").attr("value", t);
        }
        function C() {
          var e, t;
          return s(this, void 0, void 0, function* () {
            if (r.default.customTheme) {
              const o = $(
                  ".pageSettings .section.themes .allCustomThemes.buttons"
                ).empty(),
                n = $(".pageSettings .section.themes .addCustomThemeButton");
              if (
                !(null === y.Auth || void 0 === y.Auth
                  ? void 0
                  : y.Auth.currentUser)
              )
                return void $(
                  ".pageSettings .section.themes .customThemeEdit .saveCustomThemeButton"
                ).text("save");
              $(
                ".pageSettings .section.themes .customThemeEdit .saveCustomThemeButton"
              ).text("save as new"),
                n.removeClass("hidden"),
                (null !==
                  (t =
                    null === (e = g.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.customThemes) && void 0 !== t
                  ? t
                  : []
                ).forEach((e) => {
                  const t = e.colors[0],
                    n = e.colors[1];
                  o.append(
                    `<div class="customTheme button" customThemeId='${
                      e._id
                    }' \n        style="color:${n};background:${t}">\n        <div class="editButton"><i class="fas fa-pen"></i></div>\n        <div class="text">${e.name.replace(
                      /_/g,
                      " "
                    )}</div>\n        <div class="delButton"><i class="fas fa-trash fa-fw"></i></div>\n        </div>`
                  );
                });
            } else {
              const e = $(
                  ".pageSettings .section.themes .favThemes.buttons"
                ).empty(),
                t = $(
                  ".pageSettings .section.themes .allThemes.buttons"
                ).empty();
              let o,
                n = r.default.theme;
              "off" !== r.default.randomTheme &&
                "custom" !== r.default.randomTheme &&
                null !== l.randomTheme &&
                (n = l.randomTheme);
              try {
                o = yield d.getSortedThemesList();
              } catch (e) {
                return void c.add(
                  d.createErrorMessage(e, "Failed to refresh theme buttons"),
                  -1
                );
              }
              r.default.favThemes.length > 0
                ? (e.css({ paddingBottom: "1rem" }),
                  o.forEach((t) => {
                    if (r.default.favThemes.includes(t.name)) {
                      const o = n === t.name ? "active" : "";
                      e.append(
                        `<div class="theme button ${o}" theme='${
                          t.name
                        }' \n            style="color:${
                          t.mainColor
                        };background:${
                          t.bgColor
                        }">\n            <div class="activeIndicator"><i class="fas fa-circle"></i></div>\n            <div class="text">${t.name.replace(
                          /_/g,
                          " "
                        )}</div>\n            <div class="favButton active"><i class="fas fa-star"></i></div></div>`
                      );
                    }
                  }))
                : e.css({ paddingBottom: "0" }),
                o.forEach((e) => {
                  if (r.default.favThemes.includes(e.name)) return;
                  const o = n === e.name ? "active" : "";
                  t.append(
                    `<div class="theme button ${o}" theme='${
                      e.name
                    }' style="color:${e.mainColor};background:${
                      e.bgColor
                    }">\n        <div class="activeIndicator"><i class="fas fa-circle"></i></div>\n        <div class="text">${e.name.replace(
                      /_/g,
                      " "
                    )}</div>\n        <div class="favButton"><i class="far fa-star"></i></div></div>`
                  );
                });
            }
            b();
          });
        }
        function _() {
          const e = [];
          $.each(
            $(".pageSettings .customTheme .customThemeEdit [type='color']"),
            (t, o) => {
              e.push($(o).attr("value"));
            }
          ),
            u.setCustomThemeColors(e),
            c.add("Custom theme saved", 1);
        }
        function S(e = !1) {
          const t = $(
              ".pageSettings .section.themes .tabs .button[tab='preset']"
            ),
            o = $(".pageSettings .section.themes .tabs .button[tab='custom']");
          r.default.customTheme
            ? (t.removeClass("active"),
              (o.hasClass("active") && !e) || (o.addClass("active"), C()),
              d.swapElements(
                $('.pageSettings [tabContent="preset"]'),
                $('.pageSettings [tabContent="custom"]'),
                250
              ))
            : (o.removeClass("active"),
              (t.hasClass("active") && !e) || (t.addClass("active"), C()),
              d.swapElements(
                $('.pageSettings [tabContent="custom"]'),
                $('.pageSettings [tabContent="preset"]'),
                250
              ));
        }
        (t.updateActiveButton = b),
          (t.refreshButtons = C),
          (t.setCustomInputs = function (e = !1) {
            $(
              ".pageSettings .section.themes .tabContainer .customTheme .colorPicker"
            ).each((t, o) => {
              const n =
                r.default.customThemeColors[
                  l.colorVars.indexOf($(o).find("input.color").attr("id"))
                ];
              w($(o), n, !1, e);
            });
          }),
          (t.saveCustomThemeColors = _),
          (t.updateActiveTab = S),
          $(".pageSettings .section.themes .tabs .button").on("click", (e) => {
            $(".pageSettings .section.themes .tabs .button").removeClass(
              "active"
            );
            const t = $(e.currentTarget);
            t.addClass("active"),
              "preset" == t.attr("tab")
                ? u.setCustomTheme(!1)
                : u.setCustomTheme(!0);
          }),
          $(".pageSettings").on(
            "click",
            " .section.themes .customTheme.button",
            (e) => {
              var t;
              if ($(e.target).hasClass("delButton")) return;
              if ($(e.target).hasClass("editButton")) return;
              const o =
                null !== (t = $(e.currentTarget).attr("customThemeId")) &&
                void 0 !== t
                  ? t
                  : "";
              l.set(o, !0);
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.themes .theme .favButton",
            (e) => {
              const t = $(e.currentTarget)
                .parents(".theme.button")
                .attr("theme");
              void 0 !== t
                ? (function (e) {
                    if (r.default.favThemes.includes(e))
                      u.setFavThemes(
                        r.default.favThemes.filter((t) => t !== e)
                      );
                    else {
                      const t = r.default.favThemes;
                      t.push(e), u.setFavThemes(t);
                    }
                    u.saveFullConfigToLocalStorage();
                  })(t)
                : console.error(
                    "Could not find the theme attribute attached to the button clicked!"
                  );
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.themes .theme.button",
            (e) => {
              const t = $(e.currentTarget).attr("theme");
              $(e.target).hasClass("favButton") ||
                void 0 === t ||
                (u.setTheme(t), b());
            }
          ),
          $(
            ".pageSettings .section.themes .tabContainer .customTheme input[type=color]"
          ).on("input", (e) => {
            const t = $(e.currentTarget).attr("id"),
              o = $(e.currentTarget).val();
            w($(".colorPicker #" + t).parent(), o, !0);
          }),
          $(
            ".pageSettings .section.themes .tabContainer .customTheme input[type=color]"
          ).on("change", (e) => {
            const t = $(e.currentTarget).attr("id"),
              o = $(e.currentTarget).val();
            w($(".colorPicker #" + t).parent(), o);
          }),
          $(
            ".pageSettings .section.themes .tabContainer .customTheme input.input"
          )
            .on("blur", (e) => {
              if ("name" === e.target.id) return;
              const t = $(e.currentTarget).attr("id"),
                o = $(e.currentTarget).val();
              w($(".colorPicker #" + t).parent(), o);
            })
            .on("keypress", function (e) {
              if ("name" !== e.target.id && "Enter" === e.code) {
                $(this).attr("disabled", "disabled");
                const t = $(e.currentTarget).attr("id"),
                  o = $(e.currentTarget).val();
                w($(".colorPicker #" + t).parent(), o),
                  $(this).removeAttr("disabled");
              }
            }),
          $(".pageSettings #loadCustomColorsFromPreset").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              yield l.loadStyle(r.default.theme),
                l.colorVars.forEach((e) => {
                  document.documentElement.style.setProperty(e, "");
                }),
                f.updateAllChartColors();
              const e = yield p.getAll();
              l.colorVars.forEach((t) => {
                let o;
                "--bg-color" === t
                  ? (o = e.bg)
                  : "--main-color" === t
                  ? (o = e.main)
                  : "--sub-color" === t
                  ? (o = e.sub)
                  : "--sub-alt-color" === t
                  ? (o = e.subAlt)
                  : "--caret-color" === t
                  ? (o = e.caret)
                  : "--text-color" === t
                  ? (o = e.text)
                  : "--error-color" === t
                  ? (o = e.error)
                  : "--error-extra-color" === t
                  ? (o = e.errorExtra)
                  : "--colorful-error-color" === t
                  ? (o = e.colorfulError)
                  : "--colorful-error-extra-color" === t &&
                    (o = e.colorfulErrorExtra),
                  w($(".colorPicker #" + t).parent(), o);
              });
            })
          ),
          $("#shareCustomThemeButton").on("click", () => {
            const e = [];
            $.each(
              $(".pageSettings .customTheme .customThemeEdit [type='color']"),
              (t, o) => {
                e.push($(o).attr("value"));
              }
            );
            const t =
              "https://monkeytype.com?customTheme=" + btoa(JSON.stringify(e));
            navigator.clipboard.writeText(t).then(
              function () {
                c.add("URL Copied to clipboard", 0);
              },
              function () {
                h.show(t);
              }
            );
          }),
          $(".pageSettings .saveCustomThemeButton").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              if (
                (_(),
                null === y.Auth || void 0 === y.Auth
                  ? void 0
                  : y.Auth.currentUser)
              ) {
                const e = {
                  name: "custom",
                  colors: r.default.customThemeColors,
                };
                m.show();
                const t = yield g.addCustomTheme(e);
                m.hide(), t && S(!0);
              } else S(!0);
            })
          ),
          v.subscribe((e) => {
            "customThemeId" === e && C();
          });
      },
      7346: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.set = t.get = void 0);
        let o = "loading";
        (t.get = function () {
          return o;
        }),
          (t.set = function (e) {
            o = e;
          });
      },
      8526: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setStartPos =
            t.setComposing =
            t.getStartPos =
            t.getComposing =
            t.get =
              void 0);
        const o = { composing: !1, startPos: -1 };
        (t.get = function () {
          return o;
        }),
          (t.getComposing = function () {
            return o.composing;
          }),
          (t.getStartPos = function () {
            return o.startPos;
          }),
          (t.setComposing = function (e) {
            o.composing = e;
          }),
          (t.setStartPos = function (e) {
            o.startPos = e;
          });
      },
      3285: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.get = void 0);
        const s = i(o(3368)),
          r = i(o(5928));
        let u,
          l = navigator.onLine;
        function d() {
          null == u &&
            (u = s.addBanner(
              "No internet connection",
              0,
              "exclamation-triangle",
              !1
            ));
        }
        (t.get = function () {
          return l;
        }),
          r.subscribe((e) => {
            (l = e),
              l
                ? (s.add("You're back online", 1, 3, "Connection"),
                  null != u &&
                    ($(`#bannerCenter .banner[id="${u}"] .closeButton`).trigger(
                      "click"
                    ),
                    (u = void 0)))
                : d();
          }),
          window.addEventListener("load", () => {
            (l = navigator.onLine), l || d();
          });
      },
      7717: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setCustomTextName =
            t.isCustomTextLong =
            t.getCustomTextName =
              void 0);
        let o = "",
          n = !1;
        (t.getCustomTextName = function () {
          return o;
        }),
          (t.isCustomTextLong = function () {
            return n;
          }),
          (t.setCustomTextName = function (e, t) {
            (o = e), (n = t);
          });
      },
      9029: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.enable = t.get = void 0);
        let o = !1;
        (t.get = function () {
          return o;
        }),
          (t.enable = function () {
            (o = !0),
              console.log(
                "Glarses Mode On - test result will be hidden. You can check the stats in the console (here)"
              ),
              console.log("To disable Glarses Mode refresh the page.");
          });
      },
      5705: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.get = t.set = void 0);
        let o = !0;
        (t.set = function (e) {
          o = e;
        }),
          (t.get = function () {
            return o;
          });
      },
      210: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.get = t.clear = t.set = void 0);
        let o = !1;
        (t.set = function () {
          o || ((o = !0), console.error("Slow timer, disabling animations"));
        }),
          (t.clear = function () {
            o = !1;
          }),
          (t.get = function () {
            return o;
          });
      },
      6443: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.set = t.get = void 0);
        let o = !1;
        (t.get = function () {
          return o;
        }),
          (t.set = function (e) {
            o = e;
          });
      },
      195: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.increment = t.set = t.get = void 0);
        let o = 0;
        (t.get = function () {
          return o;
        }),
          (t.set = function (e) {
            o = e;
          }),
          (t.increment = function () {
            o++;
          });
      },
      262: function (e, t, o) {
        var n =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.replace = t.getList = void 0);
        const a = o(3388);
        let i = [];
        function s() {
          return n(this, void 0, void 0, function* () {
            return 0 === i.length
              ? $.getJSON("languages/britishenglish.json", function (e) {
                  return (i = e), i;
                })
              : i;
          });
        }
        (t.getList = s),
          (t.replace = function (e) {
            return n(this, void 0, void 0, function* () {
              const t = (yield s()).find((t) =>
                e.match(RegExp(`^([\\W]*${t[0]}[\\W]*)$`, "gi"))
              );
              return t
                ? e.replace(
                    RegExp(`^(?:([\\W]*)(${t[0]})([\\W]*))$`, "gi"),
                    (e, o, n, i) =>
                      o +
                      (n.charAt(0) === n.charAt(0).toUpperCase()
                        ? n === n.toUpperCase()
                          ? t[1].toUpperCase()
                          : (0, a.capitalizeFirstLetterOfEachWord)(t[1])
                        : t[1]) +
                      i
                  )
                : e;
            });
          });
      },
      4173: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.capsState = void 0);
        const a = n(o(6705));
        t.capsState = !1;
        let i = !1;
        function s() {
          i || ($("#capsWarning").removeClass("hidden"), (i = !0));
        }
        function r() {
          i && ($("#capsWarning").addClass("hidden"), (i = !1));
        }
        $("#wordsInput").on("keydown", function (e) {
          var o, n;
          (null === (o = null == e ? void 0 : e.originalEvent) || void 0 === o
            ? void 0
            : o.getModifierState) &&
          (null === (n = null == e ? void 0 : e.originalEvent) || void 0 === n
            ? void 0
            : n.getModifierState("CapsLock"))
            ? (t.capsState = !0)
            : (t.capsState = !1);
          try {
            a.default.capsLockWarning && t.capsState ? s() : r();
          } catch (e) {}
        }),
          $("#wordsInput").on("keyup", function (e) {
            var o, n;
            (null === (o = null == e ? void 0 : e.originalEvent) || void 0 === o
              ? void 0
              : o.getModifierState) &&
            (null === (n = null == e ? void 0 : e.originalEvent) || void 0 === n
              ? void 0
              : n.getModifierState("CapsLock"))
              ? (t.capsState = !0)
              : (t.capsState = !1);
            try {
              a.default.capsLockWarning && t.capsState ? s() : r();
            } catch (e) {}
          });
      },
      4292: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show =
            t.updatePosition =
            t.hide =
            t.startAnimation =
            t.stopAnimation =
            t.caretAnimating =
              void 0);
        const u = i(o(3388)),
          l = r(o(6705)),
          d = i(o(4897)),
          c = i(o(210)),
          p = i(o(6443));
        t.caretAnimating = !0;
        const f = $("#caret");
        function h() {
          !1 === t.caretAnimating &&
            (l.default.smoothCaret && !c.get()
              ? f.css("animation-name", "caretFlashSmooth")
              : f.css("animation-name", "caretFlashHard"),
            (t.caretAnimating = !0));
        }
        function m() {
          var e, t, o, n, a;
          return s(this, void 0, void 0, function* () {
            const i = Math.round(
                null !==
                  (t =
                    null === (e = document.querySelector("#caret")) ||
                    void 0 === e
                      ? void 0
                      : e.getBoundingClientRect().width) && void 0 !== t
                  ? t
                  : 0
              ),
              s = ["block", "outline", "underline"].includes(
                l.default.caretStyle
              ),
              r = d.input.current.length,
              h = r,
              m = 0 == $("#words .active").children().length;
            m &&
              $("#words .active").append(
                '<letter style="opacity: 0;">_</letter>'
              );
            const g =
              null ===
                (o =
                  null === document || void 0 === document
                    ? void 0
                    : document.querySelector("#words .active")) || void 0 === o
                ? void 0
                : o.querySelectorAll("letter");
            if (!g) return;
            const v = g[h],
              y = g[Math.min(h - 1, g.length - 1)],
              b = (yield u.getCurrentLanguage(l.default.language)).leftToRight,
              w =
                (v ? v.offsetLeft : y.offsetLeft + y.offsetWidth) +
                (b ? 0 : v ? v.offsetWidth : -y.offsetWidth),
              C =
                (v ? v.offsetTop : y.offsetTop) -
                l.default.fontSize * u.convertRemToPixels(1) * 0.1;
            let _ = w - (s ? 0 : i / 2);
            const S =
              null !==
                (n = $(document.querySelector("#wordsWrapper")).width()) &&
              void 0 !== n
                ? n
                : 0;
            if ("letter" === l.default.tapeMode) _ = S / 2 - (s ? 0 : i / 2);
            else if ("word" === l.default.tapeMode)
              if (0 == r) _ = S / 2 - (s ? 0 : i / 2);
              else {
                let e = 0;
                for (let t = 0; t < r; t++) e += $(g[t]).outerWidth(!0);
                _ = S / 2 + e - (s ? 0 : i / 2);
              }
            const P = s
              ? (null !== (a = v ? v.offsetWidth : y.offsetWidth) &&
                void 0 !== a
                  ? a
                  : 0) + "px"
              : "";
            let x = $("#words .smoothScroller").height();
            void 0 === x && (x = 0), f.css("display", "block");
            const k = { top: C - x, left: _ };
            if (
              ("" !== P ? (k.width = P) : f.css("width", ""),
              f
                .stop(!0, !1)
                .animate(k, l.default.smoothCaret && !c.get() ? 100 : 0),
              l.default.showAllLines)
            ) {
              const e = window.innerHeight,
                t = e / 2 - f.outerHeight() / 2,
                o = document.body.scrollHeight;
              if (C >= t && o > e && p.get()) {
                const e = C - t / 2;
                window.scrollTo({ left: 0, top: e, behavior: "smooth" });
              }
            }
            m && $("#words .active").children().remove();
          });
        }
        (t.stopAnimation = function () {
          !0 === t.caretAnimating &&
            (f.css("animation-name", "none"),
            f.css("opacity", "1"),
            (t.caretAnimating = !1));
        }),
          (t.startAnimation = h),
          (t.hide = function () {
            f.addClass("hidden");
          }),
          (t.updatePosition = m),
          (t.show = function () {
            $("#result").hasClass("hidden") &&
              (f.removeClass("hidden"), m(), h());
          });
      },
      8248: (e, t) => {
        function o() {
          var e;
          return JSON.parse(
            null !== (e = window.localStorage.getItem("customText")) &&
              void 0 !== e
              ? e
              : "{}"
          );
        }
        function n() {
          var e;
          return JSON.parse(
            null !== (e = window.localStorage.getItem("customTextLong")) &&
              void 0 !== e
              ? e
              : "{}"
          );
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getCustomTextNames =
            t.setCustomTextLongProgress =
            t.getCustomTextLongProgress =
            t.deleteCustomText =
            t.setCustomText =
            t.getCustomText =
            t.setDelimiter =
            t.setWord =
            t.setTime =
            t.setIsTimeRandom =
            t.setIsWordRandom =
            t.getTextArray =
            t.getText =
            t.setText =
            t.delimiter =
            t.time =
            t.word =
            t.isTimeRandom =
            t.isWordRandom =
            t.text =
              void 0),
          (t.text = [
            "The",
            "quick",
            "brown",
            "fox",
            "jumps",
            "over",
            "the",
            "lazy",
            "dog",
          ]),
          (t.isWordRandom = !1),
          (t.isTimeRandom = !1),
          (t.word = -1),
          (t.time = -1),
          (t.delimiter = " "),
          (t.setText = function (e) {
            t.text = e;
          }),
          (t.getText = function () {
            return t.text.join(" ");
          }),
          (t.getTextArray = function () {
            return t.text;
          }),
          (t.setIsWordRandom = function (e) {
            t.isWordRandom = e;
          }),
          (t.setIsTimeRandom = function (e) {
            t.isTimeRandom = e;
          }),
          (t.setTime = function (e) {
            t.time = e;
          }),
          (t.setWord = function (e) {
            t.word = e;
          }),
          (t.setDelimiter = function (e) {
            t.delimiter = e;
          }),
          (t.getCustomText = function (e, t = !1) {
            return t ? n()[e].text.split(/ +/) : o()[e].split(/ +/);
          }),
          (t.setCustomText = function (e, t, a = !1) {
            if (a) {
              const o = n();
              (o[e] = { text: "", progress: 0 }),
                (o[e].text = "string" == typeof t ? t : t.join(" ")),
                window.localStorage.setItem(
                  "customTextLong",
                  JSON.stringify(o)
                );
            } else {
              const n = o();
              (n[e] = "string" == typeof t ? t : t.join(" ")),
                window.localStorage.setItem("customText", JSON.stringify(n));
            }
          }),
          (t.deleteCustomText = function (e, t = !1) {
            const a = t ? n() : o();
            a[e] && delete a[e],
              t
                ? window.localStorage.setItem(
                    "customTextLong",
                    JSON.stringify(a)
                  )
                : window.localStorage.setItem("customText", JSON.stringify(a));
          }),
          (t.getCustomTextLongProgress = function (e) {
            var t;
            return null !== (t = n()[e].progress) && void 0 !== t ? t : 0;
          }),
          (t.setCustomTextLongProgress = function (e, t) {
            const o = n();
            (o[e].progress = t),
              window.localStorage.setItem("customTextLong", JSON.stringify(o));
          }),
          (t.getCustomTextNames = function (e = !1) {
            return e ? Object.keys(n()) : Object.keys(o());
          });
      },
      476: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (a, i) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  i(e);
                }
              }
              function r(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  i(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? a(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(s, r);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.replace = t.check = t.getList = void 0);
        let n = [];
        function a() {
          return o(this, void 0, void 0, function* () {
            return 0 === n.length
              ? $.getJSON("languages/english_punctuation.json", function (e) {
                  return (n = e), n;
                })
              : n;
          });
        }
        (t.getList = a),
          (t.check = function (e) {
            return o(this, void 0, void 0, function* () {
              return (
                void 0 !==
                (yield a()).find((t) =>
                  e.match(RegExp(`^([\\W]*${t[0]}[\\W]*)$`, "gi"))
                )
              );
            });
          }),
          (t.replace = function (e) {
            return o(this, void 0, void 0, function* () {
              const t = (yield a()).find((t) =>
                e.match(RegExp(`^([\\W]*${t[0]}[\\W]*)$`, "gi"))
              );
              return t
                ? e.replace(
                    RegExp(`^(?:([\\W]*)(${t[0]})([\\W]*))$`, "gi"),
                    t[1]
                  )
                : e;
            });
          });
      },
      8911: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.set = void 0);
        const s = i(o(4292)),
          r = i(o(7346)),
          u = i(o(3261)),
          l = i(o(8700)),
          d = i(o(2331));
        let c = !1;
        function p(e, t = !1) {
          e && !c
            ? ((c = !0),
              s.stopAnimation(),
              $("#top").addClass("focus"),
              $("#bottom").addClass("focus"),
              t || $("body").css("cursor", "none"),
              $("#middle").addClass("focus"),
              $("#testConfig").addClass("focus"),
              $("#mobileTestConfig").addClass("focus"),
              $("#bannerCenter").addClass("focus"),
              $("#capsWarning").addClass("focus"),
              $("#ad-vertical-right-wrapper").addClass("focus"),
              $("#ad-vertical-left-wrapper").addClass("focus"),
              $("#ad-footer-wrapper").addClass("focus"),
              $("#ad-footer-small-wrapper").addClass("focus"),
              u.show(),
              l.show(),
              d.show())
            : !e &&
              c &&
              ((c = !1),
              s.startAnimation(),
              $("#top").removeClass("focus"),
              $("#bottom").removeClass("focus"),
              $("body").css("cursor", "default"),
              $("#middle").removeClass("focus"),
              $("#testConfig").removeClass("focus"),
              $("#mobileTestConfig").removeClass("focus"),
              $("#bannerCenter").removeClass("focus"),
              $("#capsWarning").removeClass("focus"),
              $("#app").removeClass("focus"),
              $("#ad-vertical-right-wrapper").removeClass("focus"),
              $("#ad-vertical-left-wrapper").removeClass("focus"),
              $("#ad-footer-wrapper").removeClass("focus"),
              $("#ad-footer-small-wrapper").removeClass("focus"),
              u.hide(),
              l.hide(),
              d.hide());
        }
        (t.set = p),
          $(document).on("mousemove", function (e) {
            c &&
              "loading" != r.get() &&
              (("account" == r.get() && 1 == c) ||
                (e.originalEvent &&
                  (e.originalEvent.movementX > 3 ||
                    e.originalEvent.movementY > 3) &&
                  p(!1)));
          });
      },
      8059: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.rememberSettings =
            t.activate =
            t.clear =
            t.setFunbox =
            t.toggleScript =
            t.reset =
            t.startMemoryTimer =
            t.resetMemoryTimer =
              void 0);
        const r = i(o(9470)),
          u = i(o(3368)),
          l = i(o(3388)),
          d = i(o(2203)),
          c = i(o(6705)),
          p = c,
          f = i(o(6857)),
          h = i(o(2453));
        let m = null,
          g = null,
          v = null,
          y = {};
        function b(e, t, o) {
          var n;
          (null !== (n = y[e]) && void 0 !== n) ||
            (y[e] = { value: t, setFunction: o });
        }
        function w() {
          $("#typingTest #memoryTimer")
            .stop(!0, !0)
            .animate({ opacity: 0 }, 125);
        }
        function C() {
          null !== v && (clearInterval(v), (v = null)), (g = null), w();
        }
        function _(e) {
          $("#typingTest #memoryTimer").text(
            `Timer left to memorise all words: ${e}s`
          );
        }
        function S() {
          C();
        }
        function P() {
          return s(this, void 0, void 0, function* () {
            return (
              $("#funBoxTheme").attr("href", ""),
              $("#words").removeClass("nospace"),
              $("#words").removeClass("arrows"),
              S(),
              $("#wordsWrapper").removeClass("hidden"),
              d.set(),
              h.update(),
              !0
            );
          });
        }
        (t.resetMemoryTimer = C),
          (t.startMemoryTimer = function () {
            C(),
              (g = Math.round(Math.pow(r.words.length, 1.2))),
              _(g),
              $("#typingTest #memoryTimer")
                .stop(!0, !0)
                .animate({ opacity: 1 }, 125),
              (v = setInterval(() => {
                null !== g &&
                  ((g -= 1),
                  0 == g ? w() : _(g),
                  g <= 0 && (C(), $("#wordsWrapper").addClass("hidden")));
              }, 1e3));
          }),
          (t.reset = S),
          (t.toggleScript = function (...e) {
            "tts" === c.default.funbox && f.speak(e[0]);
          }),
          (t.setFunbox = function (e, t) {
            return (
              (m = t),
              Object.keys(y).forEach((e) => {
                y[e].setFunction(y[e].value, !0);
              }),
              (y = {}),
              p.setFunbox(e, !1),
              !0
            );
          }),
          (t.clear = P),
          (t.activate = function (e) {
            return s(this, void 0, void 0, function* () {
              let t,
                o,
                n = m;
              null == e && (e = c.default.funbox);
              try {
                t = yield l.getFunbox(e);
              } catch (e) {
                return (
                  u.add(
                    l.createErrorMessage(e, "Failed to activate funbox"),
                    -1
                  ),
                  p.setFunbox("none", !0),
                  yield P(),
                  !1
                );
              }
              $("#funBoxTheme").attr("href", ""),
                $("#words").removeClass("nospace"),
                $("#words").removeClass("arrows");
              try {
                o = yield l.getCurrentLanguage(c.default.language);
              } catch (e) {
                return (
                  u.add(
                    l.createErrorMessage(e, "Failed to activate funbox"),
                    -1
                  ),
                  p.setFunbox("none", !0),
                  yield P(),
                  !1
                );
              }
              if (o.ligatures && ("choo_choo" == e || "earthquake" == e))
                return (
                  u.add(
                    "Current language does not support this funbox mode",
                    0
                  ),
                  p.setFunbox("none", !0),
                  void (yield P())
                );
              if (
                "none" !== e &&
                ("zen" === c.default.mode || "quote" == c.default.mode) &&
                !0 === (null == t ? void 0 : t.affectsWordGeneration)
              )
                return (
                  u.add(
                    `${l.capitalizeFirstLetterOfEachWord(
                      c.default.mode
                    )} mode does not support the ${e} funbox`,
                    0
                  ),
                  p.setFunbox("none", !0),
                  void (yield P())
                );
              if (
                (S(),
                $("#wordsWrapper").removeClass("hidden"),
                "none" === e && void 0 === n)
              )
                n = null;
              else if (
                ("none" !== e && void 0 === n) ||
                ("none" !== e && null === n)
              ) {
                let t;
                try {
                  t = yield l.getFunboxList();
                } catch (e) {
                  return (
                    u.add(
                      l.createErrorMessage(e, "Failed to activate funbox"),
                      -1
                    ),
                    void (yield P())
                  );
                }
                n = t.filter((t) => t.name === e)[0].type;
              }
              return (
                d.set(),
                "style" === n
                  ? (null != e &&
                      $("#funBoxTheme").attr("href", `funbox/${e}.css`),
                    "simon_says" === e && p.setKeymapMode("next", !0),
                    ("read_ahead" !== e &&
                      "read_ahead_easy" !== e &&
                      "read_ahead_hard" !== e) ||
                      "word" !== c.default.highlightMode ||
                      p.setHighlightMode("letter", !0))
                  : "script" === n &&
                    ("tts" === e
                      ? ($("#funBoxTheme").attr(
                          "href",
                          "funbox/simon_says.css"
                        ),
                        p.setKeymapMode("off", !0),
                        p.setHighlightMode("letter", !0))
                      : "layoutfluid" === e
                      ? (p.setLayout(
                          c.default.customLayoutfluid
                            ? c.default.customLayoutfluid.split("#")[0]
                            : "qwerty",
                          !0
                        ),
                        p.setKeymapLayout(
                          c.default.customLayoutfluid
                            ? c.default.customLayoutfluid.split("#")[0]
                            : "qwerty",
                          !0
                        ))
                      : "memory" === e
                      ? (p.setMode("words", !0),
                        p.setShowAllLines(!0, !0),
                        "next" === c.default.keymapMode &&
                          p.setKeymapMode("react", !0))
                      : "nospace" === e
                      ? ($("#words").addClass("nospace"),
                        p.setHighlightMode("letter", !0))
                      : "arrows" === e &&
                        ($("#words").addClass("arrows"),
                        p.setHighlightMode("letter", !0))),
                !0
              );
            });
          }),
          (t.rememberSettings = function () {
            return s(this, void 0, void 0, function* () {
              const e = c.default.funbox;
              let t = m;
              if ("none" === e && void 0 === t) t = null;
              else if (
                ("none" !== e && void 0 === t) ||
                ("none" !== e && null === t)
              ) {
                let o;
                try {
                  o = yield l.getFunboxList();
                } catch (e) {
                  return (
                    u.add(
                      l.createErrorMessage(e, "Failed to remember setting"),
                      -1
                    ),
                    void (yield P())
                  );
                }
                t = o.filter((t) => t.name === e)[0].type;
              }
              "style" === t
                ? ("simon_says" === e &&
                    b("keymapMode", c.default.keymapMode, p.setKeymapMode),
                  ("read_ahead" !== e &&
                    "read_ahead_easy" !== e &&
                    "read_ahead_hard" !== e) ||
                    b(
                      "highlightMode",
                      c.default.highlightMode,
                      p.setHighlightMode
                    ))
                : "script" === t &&
                  ("tts" === e
                    ? b("keymapMode", c.default.keymapMode, p.setKeymapMode)
                    : "layoutfluid" === e
                    ? (b("keymapMode", c.default.keymapMode, p.setKeymapMode),
                      b("layout", c.default.layout, p.setLayout),
                      b(
                        "keymapLayout",
                        c.default.keymapLayout,
                        p.setKeymapLayout
                      ))
                    : "memory" === e
                    ? (b("mode", c.default.mode, p.setMode),
                      b(
                        "showAllLines",
                        c.default.showAllLines,
                        p.setShowAllLines
                      ),
                      "next" === c.default.keymapMode &&
                        b("keymapMode", c.default.keymapMode, p.setKeymapMode))
                    : "nospace" === e || "arrows" === e
                    ? b(
                        "highlightMode",
                        c.default.highlightMode,
                        p.setHighlightMode
                      )
                    : "58008" === e &&
                      b("numbers", c.default.numbers, p.setNumbers));
            });
          });
      },
      4583: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getCharFromEvent = void 0);
        const u = r(o(6705)),
          l = i(o(3388)),
          d = o(4173),
          c = i(o(3368));
        t.getCharFromEvent = function (e) {
          return s(this, void 0, void 0, function* () {
            let t;
            try {
              t = yield l.getLayout(u.default.layout);
            } catch (t) {
              return (
                c.add(l.createErrorMessage(t, "Failed to emulate event"), -1),
                e.key
              );
            }
            let o = [];
            "ansi" === t.type
              ? (o = [
                  "Backquote",
                  "Digit1",
                  "Digit2",
                  "Digit3",
                  "Digit4",
                  "Digit5",
                  "Digit6",
                  "Digit7",
                  "Digit8",
                  "Digit9",
                  "Digit0",
                  "Minus",
                  "Equal",
                  "KeyQ",
                  "KeyW",
                  "KeyE",
                  "KeyR",
                  "KeyT",
                  "KeyY",
                  "KeyU",
                  "KeyI",
                  "KeyO",
                  "KeyP",
                  "BracketLeft",
                  "BracketRight",
                  "Backslash",
                  "KeyA",
                  "KeyS",
                  "KeyD",
                  "KeyF",
                  "KeyG",
                  "KeyH",
                  "KeyJ",
                  "KeyK",
                  "KeyL",
                  "Semicolon",
                  "Quote",
                  "KeyZ",
                  "KeyX",
                  "KeyC",
                  "KeyV",
                  "KeyB",
                  "KeyN",
                  "KeyM",
                  "Comma",
                  "Period",
                  "Slash",
                  "Space",
                ])
              : "iso" === t.type
              ? (o = [
                  "Backquote",
                  "Digit1",
                  "Digit2",
                  "Digit3",
                  "Digit4",
                  "Digit5",
                  "Digit6",
                  "Digit7",
                  "Digit8",
                  "Digit9",
                  "Digit0",
                  "Minus",
                  "Equal",
                  "KeyQ",
                  "KeyW",
                  "KeyE",
                  "KeyR",
                  "KeyT",
                  "KeyY",
                  "KeyU",
                  "KeyI",
                  "KeyO",
                  "KeyP",
                  "BracketLeft",
                  "BracketRight",
                  "KeyA",
                  "KeyS",
                  "KeyD",
                  "KeyF",
                  "KeyG",
                  "KeyH",
                  "KeyJ",
                  "KeyK",
                  "KeyL",
                  "Semicolon",
                  "Quote",
                  "Backslash",
                  "IntlBackslash",
                  "KeyZ",
                  "KeyX",
                  "KeyC",
                  "KeyV",
                  "KeyB",
                  "KeyN",
                  "KeyM",
                  "Comma",
                  "Period",
                  "Slash",
                  "Space",
                ])
              : "matrix" === t.type &&
                (o = [
                  "Backquote",
                  "Digit1",
                  "Digit2",
                  "Digit3",
                  "Digit4",
                  "Digit5",
                  "Digit6",
                  "Digit7",
                  "Digit8",
                  "Digit9",
                  "Digit0",
                  "Minus",
                  "Equal",
                  "KeyQ",
                  "KeyW",
                  "KeyE",
                  "KeyR",
                  "KeyT",
                  "KeyY",
                  "KeyU",
                  "KeyI",
                  "KeyO",
                  "KeyP",
                  "BracketLeft",
                  "BracketRight",
                  "Backslash",
                  "KeyA",
                  "KeyS",
                  "KeyD",
                  "KeyF",
                  "KeyG",
                  "KeyH",
                  "KeyJ",
                  "KeyK",
                  "KeyL",
                  "Semicolon",
                  "Quote",
                  "KeyZ",
                  "KeyX",
                  "KeyC",
                  "KeyV",
                  "KeyB",
                  "KeyN",
                  "KeyM",
                  "Comma",
                  "Period",
                  "Slash",
                  "Space",
                ]);
            const n = t.keys,
              a = n.row1
                .concat(n.row2)
                .concat(n.row3)
                .concat(n.row4)
                .concat(n.row5);
            let i = null;
            for (let t = 0; t < o.length; t++) e.code == o[t] && (i = t);
            if (!i) return e.code.includes("Numpad") ? e.key : null;
            const s = a[i][0],
              r = (function (e, t) {
                return d.capsState
                  ? l.isASCIILetter(t) !== e.shiftKey
                  : e.shiftKey;
              })(e, s)
                ? 1
                : 0;
            return a[i][r] || e.key;
          });
        };
      },
      3439: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.replaceAccents = void 0);
        const o = [
          ["", "a"],
          ["", "e"],
          ["", "i"],
          ["", "o"],
          ["", "u"],
          ["", "n"],
          ["", "c"],
          ["", "r"],
          ["", "d"],
          ["", "t"],
          ["", "ae"],
          ["", "oe"],
          ["", "w"],
          ["g", "g"],
          ["", "h"],
          ["", "j"],
          ["", "n"],
          ["", "s"],
          ["", "ss"],
          ["", "z"],
          ["", "y"],
          ["", "l"],
          ["", ""],
          ["", ""],
          ["", ""],
          ["", ""],
          ["", ""],
          ["", ""],
          ["", ""],
          ["", ""],
          ["", ""],
          ["", ""],
        ];
        t.replaceAccents = function (e, t) {
          let n,
            a = e;
          if (!o && !t) return a;
          const i = t || o;
          for (let e = 0; e < i.length; e++)
            (n = new RegExp(`[${i[e][0]}]`, "gi")), (a = a.replace(n, i[e][1]));
          return a;
        };
      },
      2331: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = t.update = void 0);
        const r = s(o(6705)),
          u = i(o(6443)),
          l = i(o(1446));
        function d() {
          if (r.default.showLiveAcc && u.get())
            if ("mini" === r.default.timerStyle) {
              if (!$("#miniTimerAndLiveWpm .acc").hasClass("hidden")) return;
              $("#miniTimerAndLiveWpm .acc")
                .stop(!0, !1)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate({ opacity: r.default.timerOpacity }, 125);
            } else {
              if (!$("#liveAcc").hasClass("hidden")) return;
              $("#liveAcc")
                .stop(!0, !1)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate({ opacity: r.default.timerOpacity }, 125);
            }
        }
        function c() {
          $("#liveAcc")
            .stop(!0, !1)
            .animate({ opacity: 0 }, 125, () => {
              $("#liveAcc").addClass("hidden");
            }),
            $("#miniTimerAndLiveWpm .acc")
              .stop(!0, !1)
              .animate({ opacity: 0 }, 125, () => {
                $("#miniTimerAndLiveWpm .acc").addClass("hidden");
              });
        }
        (t.update = function (e) {
          let t = Math.floor(e);
          r.default.blindMode && (t = 100),
            (document.querySelector("#miniTimerAndLiveWpm .acc").innerHTML =
              t + "%"),
            (document.querySelector("#liveAcc").innerHTML = t + "%");
        }),
          (t.show = d),
          (t.hide = c),
          l.subscribe((e, t) => {
            "showLiveAcc" === e && (t ? d() : c());
          });
      },
      8700: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = t.update = void 0);
        const u = r(o(6705)),
          l = i(o(6443)),
          d = i(o(1446));
        function c() {
          if (u.default.showLiveBurst && l.get())
            if ("mini" === u.default.timerStyle) {
              if (!$("#miniTimerAndLiveWpm .burst").hasClass("hidden")) return;
              $("#miniTimerAndLiveWpm .burst")
                .stop(!0, !1)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate({ opacity: u.default.timerOpacity }, 125);
            } else {
              if (!$("#liveBurst").hasClass("hidden")) return;
              $("#liveBurst")
                .stop(!0, !1)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate({ opacity: u.default.timerOpacity }, 125);
            }
        }
        function p() {
          $("#liveBurst")
            .stop(!0, !1)
            .animate({ opacity: 0 }, 125, () => {
              $("#liveBurst").addClass("hidden");
            }),
            $("#miniTimerAndLiveWpm .burst")
              .stop(!0, !1)
              .animate({ opacity: 0 }, 125, () => {
                $("#miniTimerAndLiveWpm .burst").addClass("hidden");
              });
        }
        (t.update = function (e) {
          return s(this, void 0, void 0, function* () {
            if (!u.default.showLiveBurst) return;
            let t = e;
            u.default.blindMode && (t = 0),
              (document.querySelector("#miniTimerAndLiveWpm .burst").innerHTML =
                t.toString()),
              (document.querySelector("#liveBurst").innerHTML = t.toString());
          });
        }),
          (t.show = c),
          (t.hide = p),
          d.subscribe((e, t) => {
            "showLiveBurst" === e && (t ? c() : p());
          });
      },
      3261: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = t.update = void 0);
        const r = s(o(6705)),
          u = i(o(6443)),
          l = i(o(1446)),
          d = document.querySelector("#liveWpm"),
          c = document.querySelector("#miniTimerAndLiveWpm .wpm");
        function p() {
          if (r.default.showLiveWpm && u.get())
            if ("mini" === r.default.timerStyle) {
              if (!$("#miniTimerAndLiveWpm .wpm").hasClass("hidden")) return;
              $("#miniTimerAndLiveWpm .wpm")
                .stop(!0, !0)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate({ opacity: r.default.timerOpacity }, 125);
            } else {
              if (!$("#liveWpm").hasClass("hidden")) return;
              $("#liveWpm")
                .stop(!0, !0)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate({ opacity: r.default.timerOpacity }, 125);
            }
        }
        function f() {
          $("#liveWpm")
            .stop(!0, !0)
            .animate({ opacity: 0 }, 125, () => {
              $("#liveWpm").addClass("hidden");
            }),
            $("#miniTimerAndLiveWpm .wpm")
              .stop(!0, !0)
              .animate({ opacity: 0 }, 125, () => {
                $("#miniTimerAndLiveWpm .wpm").addClass("hidden");
              });
        }
        (t.update = function (e, t) {
          let o = e;
          r.default.blindMode && (o = t),
            r.default.alwaysShowCPM && (o = Math.round(5 * o)),
            (c.innerHTML = o.toString()),
            (d.innerHTML = o.toString());
        }),
          (t.show = p),
          (t.hide = f),
          l.subscribe((e, t) => {
            "showLiveWpm" === e && (t ? p() : f());
          });
      },
      2203: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.get = t.reset = t.set = void 0);
        let o = !1;
        (t.set = function () {
          o = !0;
        }),
          (t.reset = function () {
            o = !1;
          }),
          (t.get = function () {
            return o;
          });
      },
      7353: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hide = t.show = t.stop = t.type = t.updateFastOpacity = void 0);
        const r = o(3388),
          u = s(o(6705)),
          l = i(o(1446)),
          d = i(o(6443));
        l.subscribe((e) => {
          "monkey" === e &&
            d.get() &&
            (u.default.monkey
              ? $("#monkey").removeClass("hidden")
              : $("#monkey").addClass("hidden"));
        });
        let c = !1,
          p = !1;
        const f = {
            "00": document.querySelector("#monkey .up"),
            "01": document.querySelector("#monkey .right"),
            10: document.querySelector("#monkey .left"),
            11: document.querySelector("#monkey .both"),
          },
          h = {
            "00": document.querySelector("#monkey .fast .up"),
            "01": document.querySelector("#monkey .fast .right"),
            10: document.querySelector("#monkey .fast .left"),
            11: document.querySelector("#monkey .fast .both"),
          };
        let m = "right";
        function g(e) {
          return e ? "1" : "0";
        }
        function v() {
          var e, t, o;
          if (
            u.default.monkey &&
            !(null === (e = document.querySelector("#monkey")) || void 0 === e
              ? void 0
              : e.classList.contains("hidden"))
          ) {
            Object.keys(f).forEach((e) => {
              var t;
              null === (t = f[e]) || void 0 === t || t.classList.add("hidden");
            }),
              Object.keys(h).forEach((e) => {
                var t;
                null === (t = h[e]) ||
                  void 0 === t ||
                  t.classList.add("hidden");
              });
            const e = `${g(c)}${g(p)}`;
            null === (t = f[e]) || void 0 === t || t.classList.remove("hidden"),
              null === (o = h[e]) ||
                void 0 === o ||
                o.classList.remove("hidden");
          }
        }
        (t.updateFastOpacity = function (e) {
          if (!u.default.monkey) return;
          const t = (0, r.mapRange)(e, 130, 180, 0, 1);
          $("#monkey .fast").animate({ opacity: t }, 1e3);
          let o = (0, r.mapRange)(e, 130, 180, 0.25, 0.01);
          0.25 == o && (o = 0),
            $("#monkey").css({ animationDuration: o + "s" });
        }),
          (t.type = function () {
            u.default.monkey &&
              (c || "right" != m
                ? p || ((p = !0), (m = "right"))
                : ((c = !0), (m = "left")),
              v());
          }),
          (t.stop = function () {
            u.default.monkey && (c ? (c = !1) : p && (p = !1), v());
          }),
          (t.show = function () {
            u.default.monkey &&
              $("#monkey")
                .css("opacity", 0)
                .removeClass("hidden")
                .animate({ opacity: 1 }, 125);
          }),
          (t.hide = function () {
            $("#monkey")
              .css("opacity", 1)
              .animate({ opacity: 1 }, 125, () => {
                $("#monkey").addClass("hidden");
              });
          });
      },
      1333: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = t.hide = void 0);
        const s = i(o(3388)),
          r = [];
        (t.hide = function () {
          $("#words, #koInputVisualContainer")
            .css("transition", "none")
            .removeClass("blurred"),
            $(".outOfFocusWarning").addClass("hidden"),
            s.clearTimeouts(r);
        }),
          (t.show = function () {
            r.push(
              setTimeout(() => {
                $("#words, #koInputVisualContainer")
                  .css("transition", "0.25s")
                  .addClass("blurred"),
                  $(".outOfFocusWarning").removeClass("hidden");
              }, 1e3)
            );
          });
      },
      5886: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.start =
            t.handleSpace =
            t.reset =
            t.update =
            t.init =
            t.settings =
              void 0);
        const u = i(o(2474)),
          l = i(o(9470)),
          d = i(o(8673)),
          c = r(o(6705)),
          p = i(o(6350)),
          f = i(o(210)),
          h = i(o(3388)),
          m = i(o(6443)),
          g = i(o(1322)),
          v = i(o(1446));
        function y() {
          return s(this, void 0, void 0, function* () {
            $("#paceCaret").addClass("hidden");
            const e = h.getMode2(c.default, l.randomQuote);
            let o;
            if (
              ("pb" === c.default.paceCaret
                ? (o = yield p.getLocalPB(
                    c.default.mode,
                    e,
                    c.default.punctuation,
                    c.default.language,
                    c.default.difficulty,
                    c.default.lazyMode,
                    c.default.funbox
                  ))
                : "average" === c.default.paceCaret
                ? (([o] = yield p.getUserAverage10(
                    c.default.mode,
                    e,
                    c.default.punctuation,
                    c.default.language,
                    c.default.difficulty,
                    c.default.lazyMode
                  )),
                  (o = Math.round(o)))
                : "daily" === c.default.paceCaret
                ? ((o = yield p.getUserDailyBest(
                    c.default.mode,
                    e,
                    c.default.punctuation,
                    c.default.language,
                    c.default.difficulty,
                    c.default.lazyMode
                  )),
                  (o = Math.round(o)))
                : "custom" === c.default.paceCaret
                ? (o = c.default.paceCaretCustomSpeed)
                : ("last" !== c.default.paceCaret && 1 != g.isPaceRepeat) ||
                  (o = u.lastTestWpm),
              void 0 === o || o < 1 || Number.isNaN(o))
            )
              return void (t.settings = null);
            const n = 5 * o,
              a = n / 60,
              i = 60 / n;
            (t.settings = {
              wpm: o,
              cps: a,
              spc: i,
              correction: 0,
              currentWordIndex: 0,
              currentLetterIndex: -1,
              wordsStatus: {},
              timeout: null,
            }),
              (function () {
                var e;
                if ("off" === c.default.paceCaret && !g.isPaceRepeat) return;
                if (
                  ($("#paceCaret").hasClass("hidden") ||
                    $("#paceCaret").addClass("hidden"),
                  "zen" === c.default.mode)
                )
                  return;
                const t = $("#paceCaret"),
                  o =
                    null ===
                      (e =
                        null === document || void 0 === document
                          ? void 0
                          : document.querySelector("#words .word")) ||
                    void 0 === e
                      ? void 0
                      : e.querySelector("letter"),
                  n = $(o).height();
                void 0 !== o &&
                  void 0 !== n &&
                  t
                    .stop(!0, !0)
                    .animate(
                      { top: o.offsetTop - n / 4, left: o.offsetLeft },
                      0,
                      "linear"
                    );
              })();
          });
        }
        function b(e) {
          if (null !== t.settings && m.get() && !d.resultVisible) {
            try {
              if (
                (t.settings.currentLetterIndex++,
                t.settings.currentLetterIndex >=
                  l.words.get(t.settings.currentWordIndex).length &&
                  ((t.settings.currentLetterIndex = -1),
                  t.settings.currentWordIndex++),
                !c.default.blindMode)
              )
                if (t.settings.correction < 0)
                  for (; t.settings.correction < 0; )
                    t.settings.currentLetterIndex--,
                      t.settings.currentLetterIndex <= -2 &&
                        ((t.settings.currentLetterIndex =
                          l.words.get(t.settings.currentWordIndex - 1).length -
                          1),
                        t.settings.currentWordIndex--),
                      t.settings.correction++;
                else if (t.settings.correction > 0)
                  for (; t.settings.correction > 0; )
                    t.settings.currentLetterIndex++,
                      t.settings.currentLetterIndex >=
                        l.words.get(t.settings.currentWordIndex).length &&
                        ((t.settings.currentLetterIndex = -1),
                        t.settings.currentWordIndex++),
                      t.settings.correction--;
            } catch (e) {
              return (
                (t.settings = null), void $("#paceCaret").addClass("hidden")
              );
            }
            try {
              const o = $("#paceCaret");
              let n, a, i;
              try {
                const e =
                    t.settings.currentWordIndex -
                    (l.words.currentIndex - d.currentWordElementIndex),
                  s = document.querySelectorAll("#words .word")[e];
                n =
                  -1 === t.settings.currentLetterIndex
                    ? s.querySelectorAll("letter")[0]
                    : s.querySelectorAll("letter")[
                        t.settings.currentLetterIndex
                      ];
                const r = $(n).height(),
                  u = $(n).width(),
                  p = o.width();
                if (void 0 === r || void 0 === u || void 0 === p) throw "";
                (a =
                  n.offsetTop -
                  c.default.fontSize * h.convertRemToPixels(1) * 0.1),
                  (i =
                    -1 === t.settings.currentLetterIndex
                      ? n.offsetLeft
                      : n.offsetLeft + u - p / 2),
                  o.removeClass("hidden");
              } catch (e) {
                o.addClass("hidden");
              }
              const s = e - performance.now();
              if (void 0 !== a) {
                let e = $("#words .smoothScroller").height();
                void 0 === e && (e = 0),
                  $("#paceCaret").css({ top: a - e }),
                  c.default.smoothCaret
                    ? o
                        .stop(!0, !0)
                        .animate({ left: i }, f.get() ? 0 : s, "linear")
                    : o.stop(!0, !0).animate({ left: i }, 0, "linear");
              }
              t.settings.timeout = setTimeout(() => {
                var o;
                try {
                  b(
                    e +
                      1e3 *
                        (null !==
                          (o =
                            null === t.settings || void 0 === t.settings
                              ? void 0
                              : t.settings.spc) && void 0 !== o
                          ? o
                          : 0)
                  );
                } catch (e) {
                  t.settings = null;
                }
              }, s);
            } catch (e) {
              console.error(e), $("#paceCaret").addClass("hidden");
            }
          }
        }
        (t.settings = null),
          (t.init = y),
          (t.update = b),
          (t.reset = function () {
            null !== t.settings &&
              null !== t.settings.timeout &&
              clearTimeout(t.settings.timeout),
              (t.settings = null);
          }),
          (t.handleSpace = function (e, o) {
            e
              ? null === t.settings ||
                !0 !== t.settings.wordsStatus[l.words.currentIndex] ||
                c.default.blindMode ||
                ((t.settings.wordsStatus[l.words.currentIndex] = void 0),
                (t.settings.correction -= o.length + 1))
              : null === t.settings ||
                void 0 !== t.settings.wordsStatus[l.words.currentIndex] ||
                c.default.blindMode ||
                ((t.settings.wordsStatus[l.words.currentIndex] = !0),
                (t.settings.correction += o.length + 1));
          }),
          (t.start = function () {
            var e;
            b(
              performance.now() +
                1e3 *
                  (null !==
                    (e =
                      null === t.settings || void 0 === t.settings
                        ? void 0
                        : t.settings.spc) && void 0 !== e
                    ? e
                    : 0)
            );
          }),
          v.subscribe((e) => {
            "paceCaret" === e && y();
          });
      },
      5486: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.show = t.hide = void 0),
          (t.hide = function () {
            $("#result .stats .wpm .crown")
              .css("opacity", 0)
              .addClass("hidden");
          }),
          (t.show = function () {
            $("#result .stats .wpm .crown")
              .removeClass("hidden")
              .css("opacity", "0")
              .animate({ opacity: 1 }, 250, "easeOutCubic");
          });
      },
      3118: function (e, t, o) {
        var n =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          a =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getPoem = t.Poem = void 0);
        const i = a(o(9669)),
          s = ["", "_", " "];
        class r {
          constructor(e, t, o) {
            (this.title = e),
              (this.author = t),
              (this.words = o),
              this.cleanUpText();
          }
          cleanUpText() {
            let e = 0;
            const t = [];
            for (let o = 0; o < this.words.length; o++) {
              let n = "";
              for (let e = 0; e < this.words[o].length; e++)
                s.includes(this.words[o][e]) || (n += this.words[o][e]);
              if ("" != n && (t.push(n), e++, 100 == e)) break;
            }
            this.words = t;
          }
        }
        (t.Poem = r),
          (t.getPoem = function () {
            return n(this, void 0, void 0, function* () {
              console.log("Getting poem");
              try {
                const e = (yield i.default.get("https://poetrydb.org/random"))
                    .data[0],
                  t = [];
                return (
                  e.lines.forEach((e) => {
                    e.split(/ +/).forEach((e) => {
                      t.push(e);
                    });
                  }),
                  new r(e.title, e.author, t)
                );
              } catch (e) {
                return console.log(e), !1;
              }
            });
          });
      },
      9196: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hidePopup =
            t.showPopup =
            t.resetBefore =
            t.init =
            t.before =
              void 0);
        const s = i(o(9470)),
          r = i(o(3368)),
          u = i(o(6705)),
          l = u,
          d = i(o(8248)),
          c = i(o(4897)),
          p = i(o(1446)),
          f = o(7717);
        function h() {
          (t.before.mode = null),
            (t.before.punctuation = null),
            (t.before.numbers = null);
        }
        function m(e = !1) {
          if ($("#practiseWordsPopupWrapper").hasClass("hidden")) {
            if ("zen" === u.default.mode)
              return void r.add("Practice words is unsupported in zen mode", 0);
            $("#practiseWordsPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate({ opacity: 1 }, 100, () => {
                e &&
                  (console.log("focusing"),
                  $("#practiseWordsPopup .missed").trigger("focus"));
              });
          }
        }
        function g() {
          $("#practiseWordsPopupWrapper").hasClass("hidden") ||
            $("#practiseWordsPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate({ opacity: 0 }, 100, () => {
                $("#practiseWordsPopupWrapper").addClass("hidden");
              });
        }
        (t.before = { mode: null, punctuation: null, numbers: null }),
          (t.init = function (e, o) {
            if ("zen" === u.default.mode) return;
            let n;
            n = (e && !o) || (!e && o) ? 20 : 10;
            let a = [];
            if (
              (e &&
                (Object.keys(c.missedWords).forEach((e) => {
                  a.push([e, c.missedWords[e]]);
                }),
                a.sort((e, t) => t[1] - e[1]),
                (a = a.slice(0, n))),
              e && !o && 0 == a.length)
            )
              return void r.add("You haven't missed any words", 0);
            let i = [];
            if (
              (o &&
                ((i = s.words.get().map((e, t) => [e, c.burstHistory[t]])),
                i.sort((e, t) => e[1] - t[1]),
                (i = i.slice(
                  0,
                  Math.min(n, Math.round(0.2 * s.words.length))
                ))),
              0 == a.length && 0 == i.length)
            )
              return void r.add("Could not start a new custom test", 0);
            const p = [];
            a.forEach((e) => {
              for (let t = 0; t < e[1]; t++) p.push(e[0]);
            }),
              i.forEach((e, t) => {
                for (let o = 0; o < i.length - t; o++) p.push(e[0]);
              });
            const h = null === t.before.mode ? u.default.mode : t.before.mode,
              m =
                null === t.before.punctuation
                  ? u.default.punctuation
                  : t.before.punctuation,
              g =
                null === t.before.numbers
                  ? u.default.numbers
                  : t.before.numbers;
            l.setMode("custom"),
              d.setText(p),
              d.setIsWordRandom(!0),
              d.setIsTimeRandom(!1),
              d.setWord(5 * (i.length + a.length)),
              d.setTime(-1),
              (0, f.setCustomTextName)("practise", void 0),
              (t.before.mode = h),
              (t.before.punctuation = m),
              (t.before.numbers = g);
          }),
          (t.resetBefore = h),
          (t.showPopup = m),
          (t.hidePopup = g),
          $("#practiseWordsPopupWrapper").on("click", (e) => {
            "practiseWordsPopupWrapper" === $(e.target).attr("id") && g();
          }),
          $("#practiseWordsPopup .button").on("keypress", (e) => {
            "Enter" === e.key && $(e.currentTarget).trigger("click");
          }),
          $("#practiseWordsPopup .button.both").on("focusout", (e) => {
            e.preventDefault(),
              $("#practiseWordsPopup .missed").trigger("focus");
          }),
          $(document).on("keydown", (e) => {
            "Escape" !== e.key ||
              $("#practiseWordsPopupWrapper").hasClass("hidden") ||
              (g(), e.preventDefault());
          }),
          $(document).on("keypress", "#practiseWordsButton", (e) => {
            "Enter" === e.key && m(!0);
          }),
          $(".pageTest").on("click", "#practiseWordsButton", () => {
            m();
          }),
          p.subscribe((e) => {
            "mode" === e && h();
          });
      },
      4626: function (e, t, o) {
        var n,
          a =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          s =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    a(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getReplayExport =
            t.replayGetWordsList =
            t.addReplayEvent =
            t.stopReplayRecording =
            t.startReplayRecording =
            t.pauseReplay =
              void 0);
        const u = r(o(6705)),
          l = s(o(5929));
        let d = [],
          c = [],
          p = 0,
          f = !0,
          h = 0,
          m = 0,
          g = 0,
          v = 0,
          y = [],
          b = [];
        const w =
          null === (n = document.getElementById("playpauseReplayButton")) ||
          void 0 === n
            ? void 0
            : n.children[0];
        function C() {
          const e = document.getElementById("replayWords");
          if (null === e) return;
          e.innerHTML = "";
          let t = 0;
          c.forEach((e) => {
            "backWord" === e.action
              ? t--
              : ("submitCorrectWord" !== e.action &&
                  "submitErrorWord" !== e.action) ||
                t++;
          }),
            d.forEach((o, n) => {
              if (n > t) return;
              const a = document.createElement("div");
              for (a.className = "word", n = 0; n < o.length; n++) {
                const e = document.createElement("letter");
                (e.innerHTML = o[n]), a.appendChild(e);
              }
              e.appendChild(a);
            });
        }
        function _() {
          var e;
          y.forEach((e) => {
            clearTimeout(e);
          }),
            (y = []),
            b.forEach((e) => {
              clearTimeout(e);
            }),
            (b = []),
            (v = m),
            (g = h),
            void 0 !== w &&
              ((w.className = "fas fa-play"),
              null === (e = w.parentNode) ||
                void 0 === e ||
                e.setAttribute("aria-label", "Resume replay"));
        }
        function S(e = !1) {
          e && u.default.playSoundOnError ? l.playError() : l.playClick();
        }
        function P(e, t = !1) {
          var o, n, a;
          let i =
            null === (o = document.getElementById("replayWords")) ||
            void 0 === o
              ? void 0
              : o.children[h];
          if (void 0 !== i)
            if ("correctLetter" === e.action)
              t || S(), i.children[m].classList.add("correct"), m++;
            else if ("incorrectLetter" === e.action) {
              let o;
              t || S(!0),
                m >= i.children.length &&
                  ((o = document.createElement("letter")),
                  o.classList.add("extra"),
                  (o.innerHTML =
                    null !==
                      (a =
                        null === (n = e.value) || void 0 === n
                          ? void 0
                          : n.toString()) && void 0 !== a
                      ? a
                      : ""),
                  i.appendChild(o)),
                (o = i.children[m]),
                o.classList.add("incorrect"),
                m++;
            } else if (
              "setLetterIndex" === e.action &&
              "number" == typeof e.value
            ) {
              t || S(), (m = e.value);
              for (const e of [...i.children].slice(m))
                e.classList.contains("extra") ? e.remove() : (e.className = "");
            } else if ("submitCorrectWord" === e.action) t || S(), h++, (m = 0);
            else if ("submitErrorWord" === e.action)
              t || S(!0), i.classList.add("error"), h++, (m = 0);
            else if ("backWord" === e.action) {
              t || S(), h--;
              const e = document.getElementById("replayWords");
              for (
                null !== e && (i = e.children[h]), m = i.children.length;
                "" === i.children[m - 1].className;

              )
                m--;
              i.classList.remove("error");
            }
        }
        function x() {
          let e = 0;
          (m = 0),
            (h = 0),
            c.forEach((t, o) => {
              (h < g || (h === g && m < v)) && (P(t, !0), (e = o + 1));
            });
          const t = Math.floor(c[e].time / 1e3);
          return $("#replayStopwatch").text(t + "s"), e;
        }
        function k() {
          var e;
          $("#resultReplay").stop(!0, !0).hasClass("hidden")
            ? (C(),
              x(),
              $("#watchReplayButton").hasClass("loaded") ||
                $("#words").html(
                  '<div class="preloader"><i class="fas fa-fw fa-spin fa-circle-notch"></i></div>'
                ),
              $("#resultReplay")
                .removeClass("hidden")
                .css("display", "none")
                .slideDown(250))
            : ("Start replay" !=
                (null === (e = null == w ? void 0 : w.parentNode) ||
                void 0 === e
                  ? void 0
                  : e.getAttribute("aria-label")) && _(),
              $("#resultReplay").slideUp(250, () => {
                $("#resultReplay").addClass("hidden");
              }));
        }
        (t.replayGetWordsList = function (e) {
          d = e;
        }),
          (t.pauseReplay = _),
          (t.startReplayRecording = function () {
            $("#resultReplay").stop(!0, !0).hasClass("hidden") || k(),
              $("#replayStopwatch").text("0s"),
              (c = []),
              (p = performance.now()),
              (f = !0),
              (v = 0),
              (g = 0);
          }),
          (t.stopReplayRecording = function () {
            f = !1;
          }),
          (t.addReplayEvent = function (e, t) {
            if (!f) return;
            const o = performance.now() - p;
            c.push({ action: e, value: t, time: o });
          }),
          (t.getReplayExport = function () {
            return JSON.stringify({ replayData: c, wordsList: d });
          }),
          $(".pageTest #playpauseReplayButton").on("click", () => {
            "fas fa-play" === (null == w ? void 0 : w.className)
              ? (function () {
                  var e;
                  if (((m = 0), (h = 0), void 0 === w)) return;
                  (w.className = "fas fa-pause"),
                    null === (e = w.parentNode) ||
                      void 0 === e ||
                      e.setAttribute("aria-label", "Pause replay"),
                    C();
                  const t = x(),
                    o = c[t].time;
                  let n = Math.round(o / 1e3);
                  const a = Math.round(c[c.length - 1].time / 1e3);
                  for (; n <= a; ) {
                    const e = n;
                    b.push(
                      setTimeout(() => {
                        $("#replayStopwatch").text(e + "s");
                      }, 1e3 * e - o)
                    ),
                      n++;
                  }
                  c.forEach((e, n) => {
                    n < t ||
                      y.push(
                        setTimeout(() => {
                          P(e);
                        }, e.time - o)
                      );
                  }),
                    y.push(
                      setTimeout(() => {
                        (v = 0),
                          (g = 0),
                          (w.className = "fas fa-play"),
                          w.parentNode.setAttribute(
                            "aria-label",
                            "Start replay"
                          );
                      }, c[c.length - 1].time - o)
                    );
                })()
              : "fas fa-pause" === (null == w ? void 0 : w.className) && _();
          }),
          $("#replayWords").on("click", "letter", (e) => {
            var t;
            _();
            const o = document.querySelector("#replayWords"),
              n = [
                ...(null !== (t = null == o ? void 0 : o.children) &&
                void 0 !== t
                  ? t
                  : []),
              ];
            g = n.indexOf(e.target.parentNode);
            const a = [...n[g].children];
            (v = a.indexOf(e.target)), C(), x();
          }),
          $(document).on("keypress", "#watchReplayButton", (e) => {
            "Enter" === e.key && k();
          }),
          $(".pageTest").on("click", "#watchReplayButton", () => {
            k();
          });
      },
      3448: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.update =
            t.updateRateQuote =
            t.updateCrown =
            t.hideCrown =
            t.showConfetti =
            t.showCrown =
            t.updateTodayTracker =
            t.updateGraphPBLine =
            t.toggleUnsmoothedRaw =
              void 0);
        const u = i(o(8673)),
          l = r(o(6705)),
          d = i(o(3388)),
          c = i(o(2474)),
          p = i(o(2148)),
          f = i(o(1833)),
          h = i(o(4203)),
          m = i(o(6350)),
          g = i(o(2026)),
          v = i(o(5486)),
          y = i(o(8182)),
          b = i(o(9029)),
          w = i(o(4897)),
          C = i(o(3368)),
          _ = i(o(9817)),
          S = r(o(6750)),
          P = i(o(1493)),
          x = i(o(5513)),
          k = o(3328),
          T = o(6617),
          O = i(o(210)),
          M = r(o(7355)),
          A = r(o(9883));
        let j,
          L,
          W = !1,
          B = "",
          E = "";
        t.toggleUnsmoothedRaw = function () {
          (W = !W), C.add(W ? "on" : "off", 1);
        };
        let I = [],
          D = f.result.options.scales;
        function R() {
          var e, t, o;
          return s(this, void 0, void 0, function* () {
            const n = yield h.getAll(),
              a = yield m.getLocalPB(
                j.mode,
                j.mode2,
                null !== (e = j.punctuation) && void 0 !== e && e,
                j.language,
                j.difficulty,
                null !== (t = j.lazyMode) && void 0 !== t && t,
                null !== (o = j.funbox) && void 0 !== o ? o : "none"
              );
            if (0 == a) return;
            const i = d
              .roundTo2(l.default.alwaysShowCPM ? 5 * a : a)
              .toFixed(2);
            I.push({
              display: !0,
              type: "line",
              id: "lpb",
              scaleID: "wpm",
              value: i,
              borderColor: n.sub,
              borderWidth: 1,
              borderDash: [2, 2],
              label: {
                backgroundColor: n.sub,
                font: {
                  family: l.default.fontFamily.replace(/_/g, " "),
                  size: 11,
                  style: "normal",
                  weight: k.Chart.defaults.font.weight,
                  lineHeight: k.Chart.defaults.font.lineHeight,
                },
                color: n.bg,
                padding: 3,
                borderRadius: 3,
                position: "center",
                enabled: !0,
                content: `PB: ${i}`,
              },
            }),
              L >= parseFloat(i) - 20 &&
                L <= parseFloat(i) + 20 &&
                (L = parseFloat(i) + 15),
              (D.wpm.max = Math.round(L + 5)),
              (D.raw.max = Math.round(L + 5));
          });
        }
        (t.updateGraphPBLine = R),
          (t.updateTodayTracker = function () {
            $("#result .stats .time .bottom .timeToday").text(g.getString());
          }),
          (t.showCrown = function () {
            v.show();
          }),
          (t.showConfetti = function () {
            if (O.get()) return;
            const e = getComputedStyle(document.body),
              t = [
                e.getPropertyValue("--main-color"),
                e.getPropertyValue("--text-color"),
                e.getPropertyValue("--sub-color"),
              ],
              o = Date.now() + 125;
            !(function e() {
              (0, A.default)({
                particleCount: 5,
                angle: 60,
                spread: 75,
                origin: { x: 0 },
                colors: t,
              }),
                (0, A.default)({
                  particleCount: 5,
                  angle: 120,
                  spread: 75,
                  origin: { x: 1 },
                  colors: t,
                }),
                Date.now() < o && requestAnimationFrame(e);
            })();
          }),
          (t.hideCrown = function () {
            v.hide(), $("#result .stats .wpm .crown").attr("aria-label", "");
          }),
          (t.updateCrown = function () {
            return s(this, void 0, void 0, function* () {
              let e = 0;
              const t = yield m.getLocalPB(
                l.default.mode,
                j.mode2,
                l.default.punctuation,
                l.default.language,
                l.default.difficulty,
                l.default.lazyMode,
                l.default.funbox
              );
              (e = Math.abs(j.wpm - t)),
                $("#result .stats .wpm .crown").attr(
                  "aria-label",
                  "+" + d.roundTo2(e)
                );
            });
          }),
          (t.updateRateQuote = function (e) {
            var t, o, n;
            "quote" === l.default.mode &&
              ((null ===
                (n =
                  null ===
                    (o =
                      null === (t = m.getSnapshot()) || void 0 === t
                        ? void 0
                        : t.quoteRatings) || void 0 === o
                    ? void 0
                    : o[e.language]) || void 0 === n
                ? void 0
                : n[e.id]) &&
                $(".pageTest #result #rateQuoteButton .icon")
                  .removeClass("far")
                  .addClass("fas"),
              y.getQuoteStats(e).then((e) => {
                var t, o;
                $(".pageTest #result #rateQuoteButton .rating").text(
                  null !==
                    (o =
                      null === (t = null == e ? void 0 : e.average) ||
                      void 0 === t
                        ? void 0
                        : t.toFixed(1)) && void 0 !== o
                    ? o
                    : ""
                ),
                  $(".pageTest #result #rateQuoteButton")
                    .css({ opacity: 0 })
                    .removeClass("hidden")
                    .css({ opacity: 1 });
              }));
          }),
          (t.update = function (e, t, o, n, a, i, r, g) {
            return s(this, void 0, void 0, function* () {
              (D = f.result.options.scales),
                (I = []),
                (j = e),
                $("#result #resultWordsHistory").addClass("hidden"),
                $("#retrySavingResultButton").addClass("hidden"),
                $(".pageTest #result #rateQuoteButton .icon")
                  .removeClass("fas")
                  .addClass("far"),
                $(".pageTest #result #rateQuoteButton .rating").text(""),
                $(".pageTest #result #rateQuoteButton").addClass("hidden"),
                $("#testModesNotice").css("opacity", 0),
                $("#words").removeClass("blurred"),
                $("#wordsInput").blur(),
                $("#result .stats .time .bottom .afk").text(""),
                (
                  null === T.Auth || void 0 === T.Auth
                    ? void 0
                    : T.Auth.currentUser
                )
                  ? $("#result .loginTip").addClass("hidden")
                  : $("#result .loginTip").removeClass("hidden"),
                "off" === l.default.ads || "result" === l.default.ads
                  ? $("#result #watchVideoAdButton").addClass("hidden")
                  : $("#result #watchVideoAdButton").removeClass("hidden"),
                (function () {
                  let e = !1;
                  if (
                    (j.wpm >= 1e3 && (e = !0),
                    l.default.alwaysShowDecimalPlaces)
                  ) {
                    0 == l.default.alwaysShowCPM
                      ? ($("#result .stats .wpm .top .text").text("wpm"),
                        e
                          ? $("#result .stats .wpm .bottom").text("Infinite")
                          : $("#result .stats .wpm .bottom").text(
                              d.roundTo2(j.wpm).toFixed(2)
                            ),
                        $("#result .stats .raw .bottom").text(
                          d.roundTo2(j.rawWpm).toFixed(2)
                        ),
                        $("#result .stats .wpm .bottom").attr(
                          "aria-label",
                          d.roundTo2(5 * j.wpm).toFixed(2) + " cpm"
                        ))
                      : ($("#result .stats .wpm .top .text").text("cpm"),
                        e
                          ? $("#result .stats .wpm .bottom").text("Infinite")
                          : $("#result .stats .wpm .bottom").text(
                              d.roundTo2(5 * j.wpm).toFixed(2)
                            ),
                        $("#result .stats .raw .bottom").text(
                          d.roundTo2(5 * j.rawWpm).toFixed(2)
                        ),
                        $("#result .stats .wpm .bottom").attr(
                          "aria-label",
                          d.roundTo2(j.wpm).toFixed(2) + " wpm"
                        )),
                      $("#result .stats .acc .bottom").text(
                        100 == j.acc
                          ? "100%"
                          : d.roundTo2(j.acc).toFixed(2) + "%"
                      );
                    let t = d.roundTo2(j.testDuration).toFixed(2) + "s";
                    j.testDuration > 61 &&
                      (t = d.secondsToString(d.roundTo2(j.testDuration))),
                      $("#result .stats .time .bottom .text").text(t),
                      $("#result .stats .raw .bottom").removeAttr("aria-label"),
                      $("#result .stats .acc .bottom").removeAttr("aria-label");
                  } else
                    0 == l.default.alwaysShowCPM
                      ? ($("#result .stats .wpm .top .text").text("wpm"),
                        $("#result .stats .wpm .bottom").attr(
                          "aria-label",
                          j.wpm + ` (${d.roundTo2(5 * j.wpm)} cpm)`
                        ),
                        e
                          ? $("#result .stats .wpm .bottom").text("Infinite")
                          : $("#result .stats .wpm .bottom").text(
                              Math.round(j.wpm)
                            ),
                        $("#result .stats .raw .bottom").text(
                          Math.round(j.rawWpm)
                        ),
                        $("#result .stats .raw .bottom").attr(
                          "aria-label",
                          j.rawWpm
                        ))
                      : ($("#result .stats .wpm .top .text").text("cpm"),
                        $("#result .stats .wpm .bottom").attr(
                          "aria-label",
                          d.roundTo2(5 * j.wpm) + ` (${d.roundTo2(j.wpm)} wpm)`
                        ),
                        e
                          ? $("#result .stats .wpm .bottom").text("Infinite")
                          : $("#result .stats .wpm .bottom").text(
                              Math.round(5 * j.wpm)
                            ),
                        $("#result .stats .raw .bottom").text(
                          Math.round(5 * j.rawWpm)
                        ),
                        $("#result .stats .raw .bottom").attr(
                          "aria-label",
                          5 * j.rawWpm
                        )),
                      $("#result .stats .acc .bottom").text(
                        Math.floor(j.acc) + "%"
                      ),
                      $("#result .stats .acc .bottom").attr(
                        "aria-label",
                        j.acc + "%"
                      );
                })(),
                l.default.alwaysShowDecimalPlaces
                  ? ($("#result .stats .consistency .bottom").text(
                      d.roundTo2(j.consistency).toFixed(2) + "%"
                    ),
                    $("#result .stats .consistency .bottom").attr(
                      "aria-label",
                      `${j.keyConsistency.toFixed(2)}% key`
                    ))
                  : ($("#result .stats .consistency .bottom").text(
                      Math.round(j.consistency) + "%"
                    ),
                    $("#result .stats .consistency .bottom").attr(
                      "aria-label",
                      `${j.consistency}% (${j.keyConsistency}% key)`
                    )),
                (function () {
                  const e = d.roundTo2((j.afkDuration / j.testDuration) * 100);
                  if (
                    ($("#result .stats .time .bottom .afk").text(""),
                    e > 0 &&
                      $("#result .stats .time .bottom .afk").text(e + "% afk"),
                    $("#result .stats .time .bottom").attr(
                      "aria-label",
                      `${j.afkDuration}s afk ${e}%`
                    ),
                    l.default.alwaysShowDecimalPlaces)
                  ) {
                    let e = d.roundTo2(j.testDuration).toFixed(2) + "s";
                    j.testDuration > 61 &&
                      (e = d.secondsToString(d.roundTo2(j.testDuration))),
                      $("#result .stats .time .bottom .text").text(e);
                  } else {
                    let t = Math.round(j.testDuration) + "s";
                    j.testDuration > 61 &&
                      (t = d.secondsToString(Math.round(j.testDuration))),
                      $("#result .stats .time .bottom .text").text(t),
                      $("#result .stats .time .bottom").attr(
                        "aria-label",
                        `${d.roundTo2(j.testDuration)}s (${
                          j.afkDuration
                        }s afk ${e}%)`
                      );
                  }
                })(),
                $("#result .stats .key .bottom").text(
                  j.charStats[0] +
                    "/" +
                    j.charStats[1] +
                    "/" +
                    j.charStats[2] +
                    "/" +
                    j.charStats[3]
                ),
                (function (e) {
                  let t = "";
                  (t += l.default.mode),
                    "time" === l.default.mode
                      ? (t += " " + l.default.time)
                      : "words" === l.default.mode
                      ? (t += " " + l.default.words)
                      : "quote" === l.default.mode &&
                        void 0 !== e.group &&
                        (t +=
                          " " + ["short", "medium", "long", "thicc"][e.group]),
                    "custom" != l.default.mode &&
                      "gibberish" !== l.default.funbox &&
                      "ascii" !== l.default.funbox &&
                      "58008" !== l.default.funbox &&
                      (t += "<br>" + j.language.replace(/_/g, " ")),
                    l.default.punctuation && (t += "<br>punctuation"),
                    l.default.numbers && (t += "<br>numbers"),
                    l.default.blindMode && (t += "<br>blind"),
                    l.default.lazyMode && (t += "<br>lazy"),
                    "none" !== l.default.funbox &&
                      (t += "<br>" + l.default.funbox.replace(/_/g, " ")),
                    "expert" == l.default.difficulty
                      ? (t += "<br>expert")
                      : "master" == l.default.difficulty && (t += "<br>master"),
                    $("#result .stats .testType .bottom").html(t);
                })(r),
                (function (e) {
                  "quote" === l.default.mode
                    ? ($("#result .stats .source").removeClass("hidden"),
                      $("#result .stats .source .bottom").html(e.source))
                    : $("#result .stats .source").addClass("hidden");
                })(r),
                (function (e) {
                  (B = "quote" === l.default.mode ? e.language : ""),
                    (E = "quote" === l.default.mode ? e.id.toString() : "");
                  const t = $(".pageTest #result #favoriteQuoteButton .icon");
                  if (
                    "quote" === l.default.mode &&
                    (null === T.Auth || void 0 === T.Auth
                      ? void 0
                      : T.Auth.currentUser)
                  ) {
                    const o = S.default.isQuoteFavorite(e);
                    t
                      .removeClass(o ? "far" : "fas")
                      .addClass(o ? "fas" : "far"),
                      t.parent().removeClass("hidden");
                  } else t.parent().addClass("hidden");
                })(r),
                yield (function () {
                  var e, t;
                  return s(this, void 0, void 0, function* () {
                    const o = [];
                    for (let e = 1; e <= w.wpmHistory.length; e++)
                      c.lastSecondNotRound && e === w.wpmHistory.length
                        ? o.push(d.roundTo2(j.testDuration).toString())
                        : o.push(e.toString());
                    (f.result.data.labels = o),
                      (D.wpm.title.text = l.default.alwaysShowCPM
                        ? "Character per Minute"
                        : "Words per Minute");
                    const n = l.default.alwaysShowCPM
                      ? w.wpmHistory.map((e) => 5 * e)
                      : w.wpmHistory;
                    let a;
                    if ("toolong" === j.chartData) return;
                    if (
                      ((a = W
                        ? null !==
                            (t = l.default.alwaysShowCPM
                              ? null === (e = j.chartData.unsmoothedRaw) ||
                                void 0 === e
                                ? void 0
                                : e.map((e) => 5 * e)
                              : j.chartData.unsmoothedRaw) && void 0 !== t
                          ? t
                          : []
                        : l.default.alwaysShowCPM
                        ? j.chartData.raw.map((e) => 5 * e)
                        : j.chartData.raw),
                      (f.result.data.datasets[0].data = n),
                      (f.result.data.datasets[1].data = a),
                      (f.result.data.datasets[0].label = l.default.alwaysShowCPM
                        ? "cpm"
                        : "wpm"),
                      (L = Math.max(Math.max(...a), Math.max(...n))),
                      l.default.startGraphsAtZero)
                    )
                      (D.wpm.min = 0), (D.raw.min = 0);
                    else {
                      const e = Math.min(Math.min(...a), Math.min(...n));
                      (D.wpm.min = e), (D.raw.min = e);
                    }
                    f.result.data.datasets[2].data = j.chartData.err;
                    const i = yield h.get("sub");
                    if ("none" !== l.default.funbox) {
                      let e = l.default.funbox;
                      "layoutfluid" === l.default.funbox &&
                        (e +=
                          " " + l.default.customLayoutfluid.replace(/#/g, " ")),
                        I.push({
                          display: !0,
                          id: "funbox-label",
                          type: "line",
                          scaleID: "wpm",
                          value: D.wpm.min,
                          borderColor: "transparent",
                          borderWidth: 1,
                          borderDash: [2, 2],
                          label: {
                            backgroundColor: "transparent",
                            font: {
                              family: l.default.fontFamily.replace(/_/g, " "),
                              size: 11,
                              style: "normal",
                              weight: k.Chart.defaults.font.weight,
                              lineHeight: k.Chart.defaults.font.lineHeight,
                            },
                            color: i,
                            padding: 3,
                            borderRadius: 3,
                            position: "start",
                            enabled: !0,
                            content: `${e}`,
                          },
                        });
                    }
                    (D.wpm.max = L),
                      (D.raw.max = L),
                      (D.error.max = Math.max(...j.chartData.err));
                  });
                })(),
                yield R(),
                (function (e) {
                  var t, o, n, a, i;
                  const r = [],
                    u =
                      null !==
                        (n =
                          null ===
                            (o =
                              null === (t = m.getSnapshot()) || void 0 === t
                                ? void 0
                                : t.tags) || void 0 === o
                            ? void 0
                            : o.length) && void 0 !== n
                        ? n
                        : 0;
                  try {
                    null ===
                      (i =
                        null === (a = m.getSnapshot()) || void 0 === a
                          ? void 0
                          : a.tags) ||
                      void 0 === i ||
                      i.forEach((e) => {
                        !0 === e.active && r.push(e);
                      });
                  } catch (e) {}
                  0 === u
                    ? $("#result .stats .tags").addClass("hidden")
                    : $("#result .stats .tags").removeClass("hidden"),
                    0 === r.length
                      ? $("#result .stats .tags .bottom").text("no tags")
                      : $("#result .stats .tags .bottom").text(""),
                    $("#result .stats .tags .editTagsButton").attr(
                      "result-id",
                      ""
                    ),
                    $("#result .stats .tags .editTagsButton").attr(
                      "active-tag-ids",
                      r.map((e) => e._id).join(",")
                    ),
                    $("#result .stats .tags .editTagsButton").addClass(
                      "invisible"
                    );
                  let c = "start",
                    p = 15;
                  r.forEach((t) =>
                    s(this, void 0, void 0, function* () {
                      const o = yield m.getLocalTagPB(
                        t._id,
                        l.default.mode,
                        j.mode2,
                        l.default.punctuation,
                        l.default.language,
                        l.default.difficulty,
                        l.default.lazyMode
                      );
                      if (
                        ($("#result .stats .tags .bottom").append(
                          `\n      <div tagid="${t._id}" aria-label="PB: ${o}" data-balloon-pos="up">${t.display}<i class="fas fa-crown hidden"></i></div>\n    `
                        ),
                        "quote" != l.default.mode && !e)
                      )
                        if (o < j.wpm)
                          m.saveLocalTagPB(
                            t._id,
                            l.default.mode,
                            j.mode2,
                            l.default.punctuation,
                            l.default.language,
                            l.default.difficulty,
                            l.default.lazyMode,
                            j.wpm,
                            j.acc,
                            j.rawWpm,
                            j.consistency
                          ),
                            $(
                              `#result .stats .tags .bottom div[tagid="${t._id}"] .fas`
                            ).removeClass("hidden"),
                            $(
                              `#result .stats .tags .bottom div[tagid="${t._id}"]`
                            ).attr("aria-label", "+" + d.roundTo2(j.wpm - o));
                        else {
                          const e = yield h.getAll();
                          I.push({
                            display: !0,
                            type: "line",
                            id: "tpb",
                            scaleID: "wpm",
                            value: l.default.alwaysShowCPM ? 5 * o : o,
                            borderColor: e.sub,
                            borderWidth: 1,
                            borderDash: [2, 2],
                            label: {
                              backgroundColor: e.sub,
                              font: {
                                family: l.default.fontFamily.replace(/_/g, " "),
                                size: 11,
                                style: "normal",
                                weight: k.Chart.defaults.font.weight,
                                lineHeight: k.Chart.defaults.font.lineHeight,
                              },
                              color: e.bg,
                              padding: 3,
                              borderRadius: 3,
                              position: c,
                              xAdjust: p,
                              enabled: !0,
                              content: `${t.display} PB: ${d
                                .roundTo2(l.default.alwaysShowCPM ? 5 * o : o)
                                .toFixed(2)}`,
                            },
                          }),
                            "start" === c
                              ? ((c = "end"), (p = -15))
                              : ((c = "start"), (p = 15));
                        }
                    })
                  );
                })(g),
                (function (e, t, o, n, a) {
                  let i = "";
                  if (
                    (e && (i += `<br>failed (${t})`),
                    o && (i += "<br>afk detected"),
                    c.invalid)
                  ) {
                    i += "<br>invalid";
                    const e = [];
                    (j.wpm < 0 || j.wpm > 350) && e.push("wpm"),
                      (j.rawWpm < 0 || j.rawWpm > 350) && e.push("raw"),
                      (j.acc < 75 || j.acc > 100) && e.push("accuracy"),
                      e.length > 0 && (i += ` (${e.join(",")})`);
                  }
                  n && (i += "<br>repeated"),
                    j.bailedOut && (i += "<br>bailed out"),
                    a && (i += "<br>too short"),
                    "" == i
                      ? $("#result .stats .info").addClass("hidden")
                      : ($("#result .stats .info").removeClass("hidden"),
                        (i = i.substring(4)),
                        $("#result .stats .info .bottom").html(i));
                })(t, o, n, a, i),
                (f.result.options.plugins.annotation.annotations = I),
                f.result.updateColors(),
                f.result.resize(),
                $("#result .stats .tags").hasClass("hidden") &&
                $("#result .stats .info").hasClass("hidden")
                  ? $("#result .stats .infoAndTags").addClass("hidden")
                  : $("#result .stats .infoAndTags").removeClass("hidden"),
                b.get()
                  ? ($("#middle #result .noStressMessage").remove(),
                    $("#middle #result").prepend(
                      '\n\n      <div class=\'noStressMessage\' style="\n        text-align: center;\n        grid-column: 1/3;\n        font-size: 2rem;\n        padding-bottom: 2rem;\n      ">\n      <i class="fas fa-check"></i>\n      </div>\n\n    '
                    ),
                    $("#middle #result .stats").addClass("hidden"),
                    $("#middle #result .chart").addClass("hidden"),
                    $("#middle #result #resultWordsHistory").addClass("hidden"),
                    $("#middle #result #resultReplay").addClass("hidden"),
                    $("#middle #result .loginTip").addClass("hidden"),
                    $("#middle #result #showWordHistoryButton").addClass(
                      "hidden"
                    ),
                    $("#middle #result #watchReplayButton").addClass("hidden"),
                    $("#middle #result #saveScreenshotButton").addClass(
                      "hidden"
                    ),
                    console.log(
                      `Test Completed: ${j.wpm} wpm ${j.acc}% acc ${j.rawWpm} raw ${j.consistency}% consistency`
                    ))
                  : ($("#middle #result .stats").removeClass("hidden"),
                    $("#middle #result .chart").removeClass("hidden"),
                    (null === T.Auth || void 0 === T.Auth
                      ? void 0
                      : T.Auth.currentUser) ||
                      $("#middle #result .loginTip").removeClass("hidden"),
                    $("#middle #result #showWordHistoryButton").removeClass(
                      "hidden"
                    ),
                    $("#middle #result #watchReplayButton").removeClass(
                      "hidden"
                    ),
                    $("#middle #result #saveScreenshotButton").removeClass(
                      "hidden"
                    )),
                window.scrollY > 0 &&
                  $([document.documentElement, document.body])
                    .stop()
                    .animate({ scrollTop: 0 }, 250),
                x.hide(),
                d.swapElements(
                  $("#typingTest"),
                  $("#result"),
                  250,
                  () =>
                    s(this, void 0, void 0, function* () {
                      P.renderResult(),
                        u.setResultCalculating(!1),
                        $("#words").empty(),
                        f.result.resize(),
                        l.default.alwaysShowWordsHistory &&
                          l.default.burstHeatmap &&
                          u.applyBurstHeatmap(),
                        $("#result").trigger("focus"),
                        window.scrollTo({ top: 0 }),
                        $("#testModesNotice").addClass("hidden");
                    }),
                  () =>
                    s(this, void 0, void 0, function* () {
                      $("#resultExtraButtons")
                        .removeClass("hidden")
                        .css("opacity", 0)
                        .animate({ opacity: 1 }, 125),
                        l.default.alwaysShowWordsHistory &&
                          !b.get() &&
                          u.toggleResultWords(),
                        p.hide(),
                        P.updateTestPageAds(!0);
                    })
                );
            });
          }),
          $(".pageTest #favoriteQuoteButton").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              var e, t, o;
              if ("" === B || "" === E)
                return void C.add("Could not get quote stats!", -1);
              const n = $(".pageTest #favoriteQuoteButton .icon"),
                a = m.getSnapshot();
              if (a)
                if (n.hasClass("fas")) {
                  _.show();
                  const o = yield M.default.users.removeQuoteFromFavorites(
                    B,
                    E
                  );
                  if (
                    (_.hide(),
                    C.add(o.message, 200 === o.status ? 1 : -1),
                    200 === o.status)
                  ) {
                    n.removeClass("fas").addClass("far");
                    const o =
                      null === (e = a.favoriteQuotes[B]) || void 0 === e
                        ? void 0
                        : e.indexOf(E);
                    null === (t = a.favoriteQuotes[B]) ||
                      void 0 === t ||
                      t.splice(o, 1);
                  }
                } else {
                  _.show();
                  const e = yield M.default.users.addQuoteToFavorites(B, E);
                  _.hide(),
                    C.add(e.message, 200 === e.status ? 1 : -1),
                    200 === e.status &&
                      (n.removeClass("far").addClass("fas"),
                      a.favoriteQuotes[B] || (a.favoriteQuotes[B] = []),
                      null === (o = a.favoriteQuotes[B]) ||
                        void 0 === o ||
                        o.push(E));
                }
            })
          );
      },
      5578: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.isUsingOppositeShift =
            t.reset =
            t.rightState =
            t.leftState =
              void 0);
        const u = r(o(6705)),
          l = i(o(3388)),
          d = o(4173),
          c = i(o(3368));
        (t.leftState = !1), (t.rightState = !1);
        let p = !1;
        const f = { left: null, right: null, keymap: null };
        function h(e) {
          const t = [...document.getElementsByClassName("keymapKey")],
            o = t.map((e) => e.dataset.key),
            n = t.map((e) => e.childNodes[1]);
          if (
            (d.capsState && (e = !e), o.filter((e) => void 0 === e).length > 2)
          )
            return;
          if ((e && p) || (!e && !p)) return;
          p = e;
          const a = p ? 1 : 0;
          for (let e = 0; e < o.length; e++) {
            const t = o[e],
              i = n[e];
            void 0 !== i && void 0 !== t && (i.textContent = t[a]);
          }
        }
        $(document).on("keydown", (e) => {
          "ShiftLeft" === e.code
            ? ((t.leftState = !0), (t.rightState = !1))
            : "ShiftRight" === e.code &&
              ((t.leftState = !1), (t.rightState = !0)),
            "dynamic" === u.default.keymapLegendStyle &&
              h(t.leftState || t.rightState);
        }),
          $(document).keyup((e) => {
            ("ShiftLeft" !== e.code && "ShiftRight" !== e.code) ||
              ((t.leftState = !1), (t.rightState = !1)),
              "dynamic" === u.default.keymapLegendStyle &&
                h(t.leftState || t.rightState);
          }),
          (t.reset = function () {
            (t.leftState = !1), (t.rightState = !1);
          });
        const m = [
            "KeyQ",
            "KeyW",
            "KeyE",
            "KeyR",
            "KeyT",
            "KeyA",
            "KeyS",
            "KeyD",
            "KeyF",
            "KeyG",
            "KeyZ",
            "KeyX",
            "KeyC",
            "KeyV",
            "Backquote",
            "Digit1",
            "Digit2",
            "Digit3",
            "Digit4",
            "Digit5",
          ],
          g = [
            "KeyU",
            "KeyI",
            "KeyO",
            "KeyP",
            "KeyH",
            "KeyJ",
            "KeyK",
            "KeyL",
            "KeyN",
            "KeyM",
            "Digit7",
            "Digit8",
            "Digit9",
            "Digit0",
            "Backslash",
            "BracketLeft",
            "BracketRight",
            "Semicolon",
            "Quote",
            "Comma",
            "Period",
            "Slash",
          ];
        t.isUsingOppositeShift = function (e) {
          return s(this, void 0, void 0, function* () {
            return t.leftState || t.rightState
              ? "on" === u.default.oppositeShiftMode ||
                ("keymap" === u.default.oppositeShiftMode &&
                  "overrideSync" === u.default.keymapLayout &&
                  "default" === u.default.layout)
                ? g.includes(e.code) || m.includes(e.code)
                  ? !!(
                      (t.leftState && g.includes(e.code)) ||
                      (t.rightState && m.includes(e.code))
                    )
                  : null
                : "keymap" !== u.default.oppositeShiftMode ||
                  (yield (function () {
                    return s(this, void 0, void 0, function* () {
                      if (f.keymap === u.default.keymapLayout) return;
                      const e =
                        "overrideSync" === u.default.keymapLayout
                          ? u.default.layout
                          : u.default.keymapLayout;
                      let t;
                      try {
                        t = yield l.getLayout(e);
                      } catch (e) {
                        return void c.add(
                          l.createErrorMessage(
                            e,
                            "Failed to track shift state"
                          ),
                          -1
                        );
                      }
                      const o = t.keys,
                        n = Object.entries(o);
                      (f.keymap = u.default.keymapLayout),
                        t
                          ? ((f.left = n
                              .map(([e, t]) =>
                                t
                                  .slice(
                                    0,
                                    ["row1", "row2"].includes(e)
                                      ? "row1" === e
                                        ? 7
                                        : 6
                                      : 5
                                  )
                                  .map((e) => e.split(""))
                              )
                              .flat(2)),
                            (f.right = n
                              .map(([e, t]) =>
                                t
                                  .slice(
                                    ["row1", "row4"].includes(e)
                                      ? "row1" === e
                                        ? 6
                                        : 4
                                      : 5
                                  )
                                  .map((e) => e.split(""))
                              )
                              .flat(2)))
                          : ((f.left = null), (f.right = null));
                    });
                  })(),
                  f.left && f.right
                    ? !!(
                        (t.leftState && f.right.includes(e.key)) ||
                        (t.rightState && f.left.includes(e.key))
                      )
                    : null)
              : null;
          });
        };
      },
      5513: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hideFavoriteQuoteLength =
            t.showFavoriteQuoteLength =
            t.updateExtras =
            t.update =
            t.hide =
            t.show =
              void 0);
        const r = i(o(1446));
        function u(e, t) {
          var o, n, a, i;
          return s(this, void 0, void 0, function* () {
            if (e === t) return;
            $("#testConfig .mode .textButton").removeClass("active"),
              $("#testConfig .mode .textButton[mode='" + t + "']").addClass(
                "active"
              );
            const s = {
                time: "time",
                words: "wordCount",
                custom: "customText",
                quote: "quoteLength",
                zen: "zen",
              },
              r = { time: !0, words: !0, custom: !0, quote: !1, zen: !1 };
            0 == r[e] && 1 == r[t]
              ? ($("#testConfig .leftSpacer").removeClass("scrolled"),
                $("#testConfig .puncAndNum")
                  .css({ opacity: 0, maxWidth: 0 })
                  .animate(
                    { opacity: 1, maxWidth: "14rem" },
                    250,
                    "easeInOutSine"
                  ))
              : 1 == r[e] &&
                0 == r[t] &&
                ($("#testConfig .leftSpacer").addClass("scrolled"),
                $("#testConfig .puncAndNum")
                  .css({ opacity: 1, maxWidth: "14rem" })
                  .animate(
                    { opacity: 0, maxWidth: "0" },
                    250,
                    "easeInOutSine"
                  )),
              "zen" == t
                ? $("#testConfig .rightSpacer").addClass("scrolled")
                : $("#testConfig .rightSpacer").removeClass("scrolled");
            const u = Math.round(
              null !==
                (n =
                  null ===
                    (o = document.querySelector(`#testConfig .${s[e]}`)) ||
                  void 0 === o
                    ? void 0
                    : o.getBoundingClientRect().width) && void 0 !== n
                ? n
                : 0
            );
            $(`#testConfig .${s[e]}`).addClass("hidden"),
              $(`#testConfig .${s[t]}`).removeClass("hidden");
            const l = Math.round(
              null !==
                (i =
                  null ===
                    (a = document.querySelector(`#testConfig .${s[t]}`)) ||
                  void 0 === a
                    ? void 0
                    : a.getBoundingClientRect().width) && void 0 !== i
                ? i
                : 0
            );
            $(`#testConfig .${s[e]}`).removeClass("hidden"),
              $(`#testConfig .${s[t]}`).addClass("hidden");
            const d = (l - u) / 2;
            $(`#testConfig .${s[e]}`)
              .css({ opacity: 1, width: u })
              .animate({ width: u + d, opacity: 0 }, 125, "easeInSine", () => {
                $(`#testConfig .${s[e]}`)
                  .css({ opacity: 1, width: "unset" })
                  .addClass("hidden"),
                  $(`#testConfig .${s[t]}`)
                    .css({ opacity: 0, width: u + d })
                    .removeClass("hidden")
                    .animate(
                      { opacity: 1, width: l },
                      125,
                      "easeOutSine",
                      () => {
                        $(`#testConfig .${s[t]}`).css("width", "unset");
                      }
                    );
              });
          });
        }
        function l(e, t) {
          if ("time" == e) {
            $("#testConfig .time .textButton").removeClass("active");
            const e = [15, 30, 60, 120].includes(t) ? t : "custom";
            $("#testConfig .time .textButton[timeConfig='" + e + "']").addClass(
              "active"
            );
          } else if ("words" == e) {
            $("#testConfig .wordCount .textButton").removeClass("active");
            const e = [10, 25, 50, 100, 200].includes(t) ? t : "custom";
            $(
              "#testConfig .wordCount .textButton[wordCount='" + e + "']"
            ).addClass("active");
          } else
            "quoteLength" == e
              ? ($("#testConfig .quoteLength .textButton").removeClass(
                  "active"
                ),
                t.forEach((e) => {
                  $(
                    "#testConfig .quoteLength .textButton[quoteLength='" +
                      e +
                      "']"
                  ).addClass("active");
                }))
              : "numbers" == e
              ? t
                ? $("#testConfig .numbersMode.textButton").addClass("active")
                : $("#testConfig .numbersMode.textButton").removeClass("active")
              : "punctuation" == e &&
                (t
                  ? $("#testConfig .punctuationMode.textButton").addClass(
                      "active"
                    )
                  : $("#testConfig .punctuationMode.textButton").removeClass(
                      "active"
                    ));
        }
        (t.show = function () {
          $("#testConfig").removeClass("invisible");
        }),
          (t.hide = function () {
            $("#testConfig").addClass("invisible");
          }),
          (t.update = u),
          (t.updateExtras = l),
          (t.showFavoriteQuoteLength = function () {
            $("#testConfig .quoteLength .favorite").removeClass("hidden");
          }),
          (t.hideFavoriteQuoteLength = function () {
            $("#testConfig .quoteLength .favorite").addClass("hidden");
          }),
          r.subscribe((e, t, o, n) => {
            "mode" === e
              ? u(n, t)
              : [
                  "time",
                  "quoteLength",
                  "words",
                  "numbers",
                  "punctuation",
                ].includes(e) && l(e, t);
          });
      },
      4897: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.restart =
            t.pushBurstToHistory =
            t.pushToRawHistory =
            t.pushToWpmHistory =
            t.pushMissedWord =
            t.resetKeypressTimings =
            t.recordKeypressSpacing =
            t.setKeypressDuration =
            t.pushKeypressDuration =
            t.setKeypressTimingsTooLong =
            t.incrementAccuracy =
            t.pushKeypressesToHistory =
            t.setBurstStart =
            t.pushKeypressWord =
            t.incrementKeypressErrors =
            t.setKeypressNotAfk =
            t.incrementKeypressCount =
            t.updateLastKeypress =
            t.enableSpacingDebug =
            t.spacingDebug =
            t.setBailout =
            t.bailout =
            t.burstHistory =
            t.rawHistory =
            t.wpmHistory =
            t.keypressTimings =
            t.accuracy =
            t.missedWords =
            t.currentBurstStart =
            t.lastKeypress =
            t.currentKeypress =
            t.keypressPerSecond =
            t.corrected =
            t.input =
              void 0);
        const s = i(o(9470)),
          r = o(3388);
        (t.input = new (class {
          constructor() {
            (this.current = ""),
              (this.history = []),
              (this.historyLength = 0),
              (this.length = 0),
              (this.koreanStatus = !1);
          }
          reset() {
            (this.current = ""), (this.history = []), (this.length = 0);
          }
          resetHistory() {
            (this.history = []), (this.length = 0);
          }
          setCurrent(e) {
            (this.current = e), (this.length = this.current.length);
          }
          setKoreanStatus(e) {
            this.koreanStatus = e;
          }
          appendCurrent(e) {
            (this.current += e), (this.length = this.current.length);
          }
          resetCurrent() {
            this.current = "";
          }
          getCurrent() {
            return this.current;
          }
          getKoreanStatus() {
            return this.koreanStatus;
          }
          pushHistory() {
            this.history.push(this.current),
              (this.historyLength = this.history.length),
              this.resetCurrent();
          }
          popHistory() {
            var e;
            const t =
              null !== (e = this.history.pop()) && void 0 !== e ? e : "";
            return (this.historyLength = this.history.length), t;
          }
          getHistory(e) {
            return void 0 === e ? this.history : this.history[e];
          }
          getHistoryLast() {
            return this.history[this.history.length - 1];
          }
        })()),
          (t.corrected = new (class {
            constructor() {
              (this.current = ""), (this.history = []);
            }
            setCurrent(e) {
              this.current = e;
            }
            appendCurrent(e) {
              this.current += e;
            }
            resetCurrent() {
              this.current = "";
            }
            resetHistory() {
              this.history = [];
            }
            reset() {
              this.resetCurrent(), this.resetHistory();
            }
            getHistory(e) {
              return this.history[e];
            }
            popHistory() {
              var e;
              return null !== (e = this.history.pop()) && void 0 !== e ? e : "";
            }
            pushHistory() {
              this.history.push(this.current), (this.current = "");
            }
          })()),
          (t.keypressPerSecond = []),
          (t.currentKeypress = { count: 0, errors: 0, words: [], afk: !0 }),
          (t.currentBurstStart = 0),
          (t.missedWords = {}),
          (t.accuracy = { correct: 0, incorrect: 0 }),
          (t.keypressTimings = {
            spacing: { current: -1, array: [] },
            duration: { current: -1, array: [] },
          }),
          (t.wpmHistory = []),
          (t.rawHistory = []),
          (t.burstHistory = []),
          (t.bailout = !1),
          (t.setBailout = function (e) {
            t.bailout = e;
          }),
          (t.spacingDebug = !1),
          (t.enableSpacingDebug = function () {
            (t.spacingDebug = !0), console.clear();
          }),
          (t.updateLastKeypress = function () {
            t.lastKeypress = performance.now();
          }),
          (t.incrementKeypressCount = function () {
            t.currentKeypress.count++;
          }),
          (t.setKeypressNotAfk = function () {
            t.currentKeypress.afk = !1;
          }),
          (t.incrementKeypressErrors = function () {
            t.currentKeypress.errors++;
          }),
          (t.pushKeypressWord = function (e) {
            t.currentKeypress.words.push(e);
          }),
          (t.setBurstStart = function (e) {
            t.currentBurstStart = e;
          }),
          (t.pushKeypressesToHistory = function () {
            t.keypressPerSecond.push(t.currentKeypress),
              (t.currentKeypress = { count: 0, errors: 0, words: [], afk: !0 });
          }),
          (t.incrementAccuracy = function (e) {
            e ? t.accuracy.correct++ : t.accuracy.incorrect++;
          }),
          (t.setKeypressTimingsTooLong = function () {
            (t.keypressTimings.spacing.array = "toolong"),
              (t.keypressTimings.duration.array = "toolong");
          }),
          (t.pushKeypressDuration = function (e) {
            t.keypressTimings.duration.array.push((0, r.roundTo2)(e));
          }),
          (t.setKeypressDuration = function (e) {
            t.keypressTimings.duration.current = (0, r.roundTo2)(e);
          }),
          (t.recordKeypressSpacing = function () {
            const e = performance.now(),
              o = Math.abs(t.keypressTimings.spacing.current - e);
            var n;
            -1 !== t.keypressTimings.spacing.current &&
              ((n = o),
              t.keypressTimings.spacing.array.push((0, r.roundTo2)(n)),
              t.spacingDebug &&
                console.log(
                  "spacing debug",
                  "push",
                  o,
                  "length",
                  t.keypressTimings.spacing.array.length
                )),
              (function (e) {
                t.keypressTimings.spacing.current = (0, r.roundTo2)(e);
              })(e),
              t.spacingDebug &&
                console.log(
                  "spacing debug",
                  "set",
                  e,
                  "length",
                  t.keypressTimings.spacing.array.length
                ),
              t.spacingDebug &&
                console.log(
                  "spacing debug",
                  "recorded",
                  "length",
                  t.keypressTimings.spacing.array.length
                );
          }),
          (t.resetKeypressTimings = function () {
            (t.keypressTimings = {
              spacing: { current: performance.now(), array: [] },
              duration: { current: performance.now(), array: [] },
            }),
              t.spacingDebug && console.clear();
          }),
          (t.pushMissedWord = function (e) {
            Object.keys(t.missedWords).includes(e)
              ? t.missedWords[e]++
              : (t.missedWords[e] = 1);
          }),
          (t.pushToWpmHistory = function (e) {
            t.wpmHistory.push(e);
          }),
          (t.pushToRawHistory = function (e) {
            t.rawHistory.push(e);
          }),
          (t.pushBurstToHistory = function (e) {
            void 0 === t.burstHistory[s.words.currentIndex]
              ? t.burstHistory.push(e)
              : (t.burstHistory[s.words.currentIndex] = e);
          }),
          (t.restart = function () {
            (t.wpmHistory = []),
              (t.rawHistory = []),
              (t.burstHistory = []),
              (t.keypressPerSecond = []),
              (t.currentKeypress = { count: 0, errors: 0, words: [], afk: !0 }),
              (t.currentBurstStart = 0),
              (t.missedWords = {}),
              (t.accuracy = { correct: 0, incorrect: 0 }),
              (t.keypressTimings = {
                spacing: { current: -1, array: [] },
                duration: { current: -1, array: [] },
              });
          });
      },
      3013: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.fail =
            t.finish =
            t.retrySavingResult =
            t.addWord =
            t.init =
            t.restart =
            t.startTest =
            t.punctuateWord =
            t.setNotSignedInUid =
            t.clearNotSignedInResult =
            t.notSignedInLastResult =
              void 0);
        const u = r(o(7355)),
          l = i(o(8673)),
          d = i(o(2203)),
          c = i(o(6705)),
          p = c,
          f = i(o(3388)),
          h = r(o(6750)),
          m = i(o(3368)),
          g = i(o(8248)),
          v = i(o(7717)),
          y = i(o(2474)),
          b = i(o(9196)),
          w = i(o(5578)),
          C = i(o(8911)),
          _ = i(o(8059)),
          S = i(o(2148)),
          P = i(o(743)),
          x = i(o(5886)),
          k = i(o(4292)),
          T = i(o(3261)),
          O = i(o(2331)),
          M = i(o(8700)),
          A = i(o(8824)),
          j = i(o(2338)),
          L = i(o(9753)),
          W = i(o(5486)),
          B = i(o(6084)),
          E = i(o(1333)),
          I = i(o(5344)),
          D = i(o(6350)),
          R = i(o(4626)),
          F = i(o(3118)),
          q = i(o(277)),
          V = i(o(2026)),
          K = i(o(5708)),
          H = i(o(4905)),
          N = i(o(7567)),
          z = i(o(8182)),
          U = i(o(262)),
          Q = i(o(476)),
          G = i(o(3439)),
          J = i(o(3448)),
          Y = i(o(6578)),
          Z = i(o(7346)),
          X = i(o(6443)),
          ee = i(o(4897)),
          te = i(o(9470)),
          oe = i(o(1322)),
          ne = i(o(2453)),
          ae = i(o(5705)),
          ie = i(o(1446)),
          se = i(o(6507)),
          re = i(o(7274)),
          ue = i(o(7353)),
          le = r(o(705)),
          de = i(o(3326)),
          ce = o(6617),
          pe = i(o(1493)),
          fe = i(o(5513)),
          he = i(o(3285));
        let me = "";
        const ge = document.getElementById("koInputVisual");
        (t.notSignedInLastResult = null),
          (t.clearNotSignedInResult = function () {
            t.notSignedInLastResult = null;
          }),
          (t.setNotSignedInUid = function (e) {
            null !== t.notSignedInLastResult &&
              ((t.notSignedInLastResult.uid = e),
              delete t.notSignedInLastResult.hash,
              (t.notSignedInLastResult.hash = (0, le.default)(
                t.notSignedInLastResult
              )));
          });
        let ve,
          ye = "";
        function be(e, t, o, n) {
          return s(this, void 0, void 0, function* () {
            let a = t;
            const i = c.default.language.split("_")[0],
              r = f.getLastChar(e);
            if ("58008" === c.default.funbox) {
              if (
                t.length > 3 &&
                (Math.random() < 0.5 &&
                  (a = f.setCharAt(
                    a,
                    f.randomIntFromRange(1, a.length - 2),
                    "."
                  )),
                Math.random() < 0.75)
              ) {
                const e = f.randomIntFromRange(1, a.length - 2);
                if ("." !== a[e - 1] && "." !== a[e + 1] && "0" !== a[e + 1]) {
                  const t = f.randomElementFromArray(["/", "*", "-", "+"]);
                  a = f.setCharAt(a, e, t);
                }
              }
            } else if (
              "code" == i ||
              "georgian" == i ||
              (0 != o &&
                !(function (e) {
                  return /[?!.]/.test(e);
                })(r))
            )
              if (
                (Math.random() < 0.1 && "." != r && "," != r && o != n - 2) ||
                o == n - 1
              )
                if ("spanish" == i || "catalan" == i)
                  ("?" != ye && "!" != ye) || ((a += ye), (ye = ""));
                else {
                  const e = Math.random();
                  e <= 0.8
                    ? (a += "kurdish" == i ? "." : "nepali" === i ? "" : ".")
                    : e > 0.8 && e < 0.9
                    ? "french" == i
                      ? (a = "?")
                      : (a +=
                          "arabic" == i ||
                          "persian" == i ||
                          "urdu" == i ||
                          "kurdish" == i
                            ? ""
                            : "greek" == i
                            ? ";"
                            : "?")
                    : "french" == i
                    ? (a = "!")
                    : (a += "!");
                }
              else if (
                Math.random() < 0.01 &&
                "," != r &&
                "." != r &&
                "russian" !== i
              )
                a = `"${a}"`;
              else if (
                Math.random() < 0.011 &&
                "," != r &&
                "." != r &&
                "russian" !== i &&
                "ukrainian" !== i
              )
                a = `'${a}'`;
              else if (Math.random() < 0.012 && "," != r && "." != r)
                if ("code" == i) {
                  const e = Math.random();
                  a =
                    e < 0.25
                      ? `(${a})`
                      : e < 0.5
                      ? `{${a}}`
                      : e < 0.75
                      ? `[${a}]`
                      : `<${a}>`;
                } else a = `(${a})`;
              else if (
                Math.random() < 0.013 &&
                "," != r &&
                "." != r &&
                ";" != r &&
                "" != r &&
                ":" != r
              )
                "french" == i
                  ? (a = ":")
                  : "greek" == i
                  ? (a = "")
                  : (a += ":");
              else if (
                Math.random() < 0.014 &&
                "," != r &&
                "." != r &&
                "-" != e
              )
                a = "-";
              else if (
                Math.random() < 0.015 &&
                "," != r &&
                "." != r &&
                ";" != r &&
                "" != r &&
                ":" != r
              )
                "french" == i
                  ? (a = ";")
                  : "greek" == i
                  ? (a = "")
                  : (a += "arabic" == i || "kurdish" == i ? "" : ";");
              else if (Math.random() < 0.2 && "," != r)
                a +=
                  "arabic" == i ||
                  "urdu" == i ||
                  "persian" == i ||
                  "kurdish" == i
                    ? ""
                    : ",";
              else if (Math.random() < 0.25 && "code" == i) {
                const e = [
                    "{",
                    "}",
                    "[",
                    "]",
                    "(",
                    ")",
                    ";",
                    "=",
                    "+",
                    "%",
                    "/",
                  ],
                  t = [
                    "{",
                    "}",
                    "[",
                    "]",
                    "(",
                    ")",
                    ";",
                    "=",
                    "+",
                    "%",
                    "/",
                    "/*",
                    "*/",
                    "//",
                    "!=",
                    "==",
                    "<=",
                    ">=",
                    "||",
                    "&&",
                    "<<",
                    ">>",
                    "%=",
                    "&=",
                    "*=",
                    "++",
                    "+=",
                    "--",
                    "-=",
                    "/=",
                    "^=",
                    "|=",
                  ];
                a =
                  (c.default.language.startsWith("code_c") &&
                    !c.default.language.startsWith("code_css")) ||
                  c.default.language.startsWith("code_arduino")
                    ? f.randomElementFromArray(t)
                    : f.randomElementFromArray(e);
              } else
                Math.random() < 0.5 &&
                  "english" === i &&
                  (yield Q.check(a)) &&
                  (a = yield (function (e) {
                    return s(this, void 0, void 0, function* () {
                      return Q.replace(e);
                    });
                  })(a));
            else if (
              ((a = f.capitalizeFirstLetterOfEachWord(a)),
              "turkish" == i && (a = a.replace(/I/g, "")),
              "spanish" == i || "catalan" == i)
            ) {
              const e = Math.random();
              e > 0.9
                ? ((a = "" + a), (ye = "?"))
                : e > 0.8 && ((a = "" + a), (ye = "!"));
            }
            return a;
          });
        }
        function we(e = {}) {
          var t, o;
          if (
            ((e = Object.assign(
              Object.assign(
                {},
                {
                  withSameWordset: !1,
                  practiseMissed: !1,
                  noAnim: !1,
                  nosave: !1,
                }
              ),
              e
            )),
            l.testRestarting || l.resultCalculating)
          )
            return void (
              null === event ||
              void 0 === event ||
              event.preventDefault()
            );
          if ("test" == Z.get() && !l.resultVisible && !d.get()) {
            if (
              te.hasTab &&
              !(null === (t = e.event) || void 0 === t ? void 0 : t.shiftKey) &&
              "esc" !== c.default.quickRestart
            )
              return;
            if (
              ("zen" !== c.default.mode &&
                (null === event || void 0 === event || event.preventDefault()),
              !f.canQuickRestart(
                c.default.mode,
                c.default.words,
                c.default.time,
                g,
                null !== (o = v.isCustomTextLong()) && void 0 !== o && o
              ))
            ) {
              let e = "Use your mouse to confirm.";
              return (
                "tab" === c.default.quickRestart
                  ? (e = "Press shift + tab or use your mouse to confirm.")
                  : "esc" === c.default.quickRestart &&
                    (e = "Press shift + escape or use your mouse to confirm."),
                void m.add("Quick restart disabled. " + e, 0, 3)
              );
            }
          }
          if (
            X.get() &&
            ("typing" === c.default.repeatQuotes &&
              "quote" === c.default.mode &&
              c.default.language.startsWith(te.randomQuote.language) &&
              (e.withSameWordset = !0),
            oe.isRepeated && (e.withSameWordset = !0),
            oe.savingEnabled)
          ) {
            ee.pushKeypressesToHistory();
            const e = y.calculateTestSeconds(performance.now()),
              t = y.calculateAfkSeconds(e);
            let o = f.roundTo2(e - t);
            o < 0 && (o = 0),
              y.incrementIncompleteSeconds(o),
              y.incrementRestartCount();
            const n = f.roundTo2(y.calculateAccuracy());
            y.pushIncompleteTest(n, o);
          }
          "zen" == c.default.mode && $("#words").empty(),
            c.default.language.startsWith("korean")
              ? ((ge.innerText = " "),
                "zen" !== c.default.mode
                  ? $("#koInputVisualContainer").show()
                  : $("#koInputVisualContainer").hide())
              : $("#koInputVisualContainer").hide(),
            null === b.before.mode ||
              e.withSameWordset ||
              e.practiseMissed ||
              (m.add("Reverting to previous settings.", 0),
              null !== b.before.punctuation &&
                p.setPunctuation(b.before.punctuation),
              null !== b.before.numbers && p.setNumbers(b.before.numbers),
              p.setMode(b.before.mode),
              b.resetBefore());
          let n = !1;
          l.resultVisible &&
            c.default.repeatedPace &&
            e.withSameWordset &&
            (n = !0),
            $("#words").stop(!0, !0),
            $("#words .smoothScroller").stop(!0, !0).remove(),
            d.reset(),
            B.clear(),
            y.restart(),
            ee.restart(),
            ee.corrected.reset(),
            w.reset(),
            k.hide(),
            X.set(!1),
            R.stopReplayRecording(),
            T.hide(),
            O.hide(),
            M.hide(),
            A.hide(),
            R.pauseReplay(),
            ee.setBailout(!1),
            x.reset(),
            ue.hide(),
            ee.input.setKoreanStatus(!1),
            $("#showWordHistoryButton").removeClass("loaded"),
            $("#restartTestButton").blur(),
            _.resetMemoryTimer(),
            z.clearQuoteStats(),
            "test" == Z.get() &&
              window.scrollY > 0 &&
              window.scrollTo({ top: 0, behavior: "smooth" }),
            $("#wordsInput").val(" "),
            l.reset(),
            $("#timerNumber").css("opacity", 0);
          let a = null;
          (a = l.resultVisible ? $("#result") : $("#typingTest")),
            l.resultVisible &&
              ("off" === c.default.randomTheme ||
                ae.get() ||
                P.randomizeTheme(),
              I.skipXpBreakdown()),
            l.setResultVisible(!1),
            ae.set(!0),
            l.setTestRestarting(!0),
            a.stop(!0, !0).animate({ opacity: 0 }, e.noAnim ? 0 : 125, () =>
              s(this, void 0, void 0, function* () {
                "test" == Z.get() && (pe.updateTestPageAds(!1), C.set(!1)),
                  fe.show(),
                  l.focusWords(),
                  $("#monkey .fast").stop(!0, !0).css("opacity", 0),
                  $("#monkey").stop(!0, !0).css({ animationDuration: "0s" }),
                  $("#typingTest").css("opacity", 0).removeClass("hidden"),
                  $("#wordsInput").val(" "),
                  pe.destroyResult();
                let t = !1;
                if (
                  ("quote" === c.default.mode &&
                    "typing" === c.default.repeatQuotes &&
                    "" !== me &&
                    (t = !0),
                  yield _.rememberSettings(),
                  "arrows" === c.default.funbox
                    ? (p.setPunctuation(!1, !0), p.setNumbers(!1, !0))
                    : "58008" === c.default.funbox
                    ? p.setNumbers(!1, !0)
                    : ("specials" === c.default.funbox ||
                        "ascii" === c.default.funbox) &&
                      (p.setPunctuation(!1, !0), p.setNumbers(!1, !0)),
                  e.withSameWordset &&
                    ("plus_one" === c.default.funbox ||
                      "plus_two" === c.default.funbox))
                ) {
                  const e = [];
                  "plus_one" === c.default.funbox &&
                    (e.push(te.words.get(0)), e.push(te.words.get(1))),
                    "plus_two" === c.default.funbox &&
                      (e.push(te.words.get(0)),
                      e.push(te.words.get(1)),
                      e.push(te.words.get(2))),
                    te.words.reset(),
                    e.forEach((e) => te.words.push(e));
                }
                e.withSameWordset || t
                  ? (oe.setRepeated(!0),
                    oe.setPaceRepeat(n),
                    X.set(!1),
                    R.stopReplayRecording(),
                    te.words.resetCurrentIndex(),
                    ee.input.reset(),
                    l.showWords(),
                    "next" === c.default.keymapMode &&
                      "zen" !== c.default.mode &&
                      S.highlightKey(
                        te.words
                          .getCurrent()
                          .substring(
                            ee.input.current.length,
                            ee.input.current.length + 1
                          )
                          .toString()
                      ),
                    _.toggleScript(te.words.getCurrent()),
                    yield x.init())
                  : (oe.setRepeated(!1),
                    oe.setPaceRepeat(n),
                    te.setHasTab(!1),
                    yield Pe(),
                    yield x.init()),
                  (me = ""),
                  "quote" === c.default.mode && oe.setRepeated(!1),
                  "off" !== c.default.keymapMode ? S.show() : S.hide(),
                  (document.querySelector(
                    "#miniTimerAndLiveWpm .wpm"
                  ).innerHTML = "0"),
                  (document.querySelector(
                    "#miniTimerAndLiveWpm .acc"
                  ).innerHTML = "100%"),
                  (document.querySelector(
                    "#miniTimerAndLiveWpm .burst"
                  ).innerHTML = "0"),
                  (document.querySelector("#liveWpm").innerHTML = "0"),
                  (document.querySelector("#liveAcc").innerHTML = "100%"),
                  (document.querySelector("#liveBurst").innerHTML = "0"),
                  "memory" === c.default.funbox &&
                    (_.startMemoryTimer(),
                    "next" === c.default.keymapMode &&
                      p.setKeymapMode("react")),
                  "off" !== c.default.showAverage &&
                    re.update().then(() => {
                      ne.update();
                    });
                const o = f.getMode2(c.default, te.randomQuote);
                let a = "";
                "none" !== c.default.funbox && (a = " " + c.default.funbox),
                  $(".pageTest #premidTestMode").text(
                    `${c.default.mode} ${o} ${c.default.language.replace(
                      /_/g,
                      " "
                    )}${a}`
                  ),
                  $(".pageTest #premidSecondsLeft").text(c.default.time),
                  "layoutfluid" === c.default.funbox &&
                    (p.setLayout(
                      c.default.customLayoutfluid
                        ? c.default.customLayoutfluid.split("#")[0]
                        : "qwerty",
                      !0
                    ),
                    p.setKeymapLayout(
                      c.default.customLayoutfluid
                        ? c.default.customLayoutfluid.split("#")[0]
                        : "qwerty",
                      !0
                    ),
                    S.highlightKey(
                      te.words
                        .getCurrent()
                        .substring(
                          ee.input.current.length,
                          ee.input.current.length + 1
                        )
                        .toString()
                    )),
                  $("#result").addClass("hidden"),
                  $("#testModesNotice")
                    .removeClass("hidden")
                    .css({ opacity: 1 }),
                  ne.update(),
                  d.reset(),
                  $("#typingTest")
                    .css("opacity", 0)
                    .removeClass("hidden")
                    .stop(!0, !0)
                    .animate({ opacity: 1 }, e.noAnim ? 0 : 125, () => {
                      l.setTestRestarting(!1),
                        W.hide(),
                        B.clear(),
                        $("#commandLineWrapper").hasClass("hidden") &&
                          l.focusWords(),
                        ae.set(!1);
                    });
              })
            );
        }
        function $e(e, t) {
          if ("rAnDoMcAsE" === c.default.funbox) {
            let t = "";
            for (let o = 0; o < e.length; o++)
              t += o % 2 != 0 ? e[o].toUpperCase() : e[o];
            e = t;
          } else
            "capitals" === c.default.funbox
              ? (e = f.capitalizeFirstLetterOfEachWord(e))
              : "gibberish" === c.default.funbox
              ? (e = f.getGibberish())
              : "arrows" === c.default.funbox
              ? (e = f.getArrows())
              : "58008" === c.default.funbox
              ? ((e = f.getNumbers(7)),
                c.default.language.startsWith("kurdish")
                  ? (e = f.convertNumberToArabic(e))
                  : c.default.language.startsWith("nepali") &&
                    (e = f.convertNumberToNepali(e)))
              : "specials" === c.default.funbox
              ? (e = f.getSpecials())
              : "ascii" === c.default.funbox
              ? (e = f.getASCII())
              : void 0 !== t &&
                "weakspot" === c.default.funbox &&
                (e = K.getWord(t));
          return e;
        }
        function Ce(e) {
          return s(this, void 0, void 0, function* () {
            return (
              c.default.britishEnglish &&
                /english/.test(c.default.language) &&
                (e = yield U.replace(e)),
              e
            );
          });
        }
        function _e(e, t) {
          return (
            !0 !== c.default.lazyMode ||
              t.noLazyMode ||
              (e = G.replaceAccents(e, t.accents)),
            e
          );
        }
        function Se(e, t, o) {
          var n, a;
          return s(this, void 0, void 0, function* () {
            let i = e.randomWord();
            const s = te.words.get(te.words.length - 1, !0),
              r = te.words.get(te.words.length - 2, !0);
            if ("quote" === c.default.mode)
              i =
                null !==
                  (a =
                    null === (n = te.randomQuote.textSplit) || void 0 === n
                      ? void 0
                      : n[te.words.length]) && void 0 !== a
                  ? a
                  : "";
            else if (
              "custom" != c.default.mode ||
              g.isWordRandom ||
              g.isTimeRandom
            )
              if (
                "custom" == c.default.mode &&
                (g.isWordRandom || g.isTimeRandom) &&
                (e.length < 4 || null !== b.before.mode)
              )
                i = e.randomWord();
              else {
                let t = 0;
                for (
                  ;
                  t < 100 &&
                  (s == i ||
                    r == i ||
                    ("custom" !== c.default.mode &&
                      !c.default.punctuation &&
                      "I" == i) ||
                    ("custom" !== c.default.mode &&
                      !c.default.punctuation &&
                      /[-=_+[\]{};'\\:"|,./<>?]/i.test(i)) ||
                    ("custom" !== c.default.mode &&
                      !c.default.numbers &&
                      /[0-9]/i.test(i)));

                )
                  t++, (i = e.randomWord());
              }
            else i = g.text[te.words.length];
            return (
              void 0 === i && (i = e.randomWord()),
              "custom" === c.default.mode ||
                "quote" === c.default.mode ||
                !/[A-Z]/.test(i) ||
                c.default.punctuation ||
                c.default.language.startsWith("german") ||
                c.default.language.startsWith("swiss_german") ||
                (i = i.toLowerCase()),
              (i = i.replace(/ +/gm, " ")),
              (i = i.replace(/^ | $/gm, "")),
              (i = _e(i, t)),
              (i = $e(i, e)),
              (i = yield Ce(i)),
              c.default.punctuation &&
                (i = yield be(
                  te.words.get(te.words.length - 1),
                  i,
                  te.words.length,
                  o
                )),
              c.default.numbers &&
                Math.random() < 0.1 &&
                ((i = f.getNumbers(4)),
                c.default.language.startsWith("kurdish")
                  ? (i = f.convertNumberToArabic(i))
                  : c.default.language.startsWith("nepali") &&
                    (i = f.convertNumberToNepali(i))),
              i
            );
          });
        }
        function Pe() {
          return s(this, void 0, void 0, function* () {
            let e;
            X.set(!1),
              Y.reset(),
              R.stopReplayRecording(),
              te.words.reset(),
              l.setCurrentWordElementIndex(0),
              ee.input.resetHistory(),
              ee.input.resetCurrent(),
              "test" == Z.get() && (yield _.activate()),
              c.default.quoteLength.includes(-3) &&
                !(null === ce.Auth || void 0 === ce.Auth
                  ? void 0
                  : ce.Auth.currentUser) &&
                p.setQuoteLength(-1);
            try {
              e = yield f.getLanguage(c.default.language);
            } catch (e) {
              m.add(f.createErrorMessage(e, "Failed to load language"), -1);
            }
            if (
              (e && e.name !== c.default.language && p.setLanguage("english"),
              !e)
            ) {
              p.setLanguage("english");
              try {
                e = yield f.getLanguage(c.default.language);
              } catch (e) {
                return void m.add(
                  f.createErrorMessage(e, "Failed to load language"),
                  -1
                );
              }
            }
            if ("quote" === c.default.mode) {
              let e;
              try {
                e = yield f.findCurrentGroup(c.default.language);
              } catch (e) {
                return void console.error(
                  f.createErrorMessage(
                    e,
                    "Failed to find current language group"
                  )
                );
              }
              e &&
                "code" !== e.name &&
                e.name !== c.default.language &&
                p.setLanguage(e.name);
            }
            !0 === c.default.lazyMode && e.noLazyMode
              ? ((ve = !0),
                m.add("This language does not support lazy mode.", 0),
                p.setLazyMode(!1, !0))
              : !0 !== ve || e.noLazyMode || p.setLazyMode(!0, !0),
              !1 !== c.default.lazyMode || e.noLazyMode || (ve = !1);
            let t = 100;
            if (
              ("plus_one" === c.default.funbox
                ? ((t = 2),
                  "words" === c.default.mode &&
                    c.default.words < t &&
                    (t = c.default.words))
                : "plus_two" === c.default.funbox
                ? ((t = 3),
                  "words" === c.default.mode &&
                    c.default.words < t &&
                    (t = c.default.words))
                : c.default.showAllLines
                ? "quote" === c.default.mode
                  ? (t = 100)
                  : "custom" === c.default.mode
                  ? (t = g.isWordRandom
                      ? g.word
                      : g.isTimeRandom
                      ? 100
                      : g.text.length)
                  : "time" != c.default.mode && (t = c.default.words)
                : ("words" === c.default.mode &&
                    c.default.words < t &&
                    (t = c.default.words),
                  "custom" == c.default.mode &&
                    g.isWordRandom &&
                    g.word < t &&
                    (t = g.word),
                  "custom" == c.default.mode && g.isTimeRandom && (t = 100),
                  "custom" == c.default.mode &&
                    !g.isWordRandom &&
                    !g.isTimeRandom &&
                    g.text.length < t &&
                    (t = g.text.length)),
              (("custom" === c.default.mode && g.isWordRandom && 0 == g.word) ||
                ("custom" === c.default.mode &&
                  g.isTimeRandom &&
                  0 == g.time)) &&
                (t = 100),
              "words" === c.default.mode && 0 === c.default.words && (t = 100),
              "time" == c.default.mode ||
                "words" == c.default.mode ||
                "custom" == c.default.mode)
            ) {
              let o = e.words;
              "custom" == c.default.mode && (o = g.text);
              const n = H.withWords(o, c.default.funbox);
              if (
                ("wikipedia" != c.default.funbox &&
                  "poetry" != c.default.funbox) ||
                "custom" == c.default.mode
              )
                for (let o = 0; o < t; o++) {
                  const a = yield Se(n, e, t);
                  /\t/g.test(a) && te.setHasTab(!0);
                  const i = a.replace("\n", "\n ").trim();
                  if (/ +/.test(i)) {
                    const e = i.split(" ");
                    let n = 0;
                    for (
                      ;
                      n < e.length &&
                      (te.words.push(e[n]),
                      n++,
                      te.words.length != t ||
                        "custom" != c.default.mode ||
                        !g.isWordRandom);

                    );
                    ("custom" != c.default.mode ||
                      g.isWordRandom ||
                      g.isTimeRandom) &&
                      (o = te.words.length - 1);
                  } else te.words.push(a);
                }
              else {
                let e = 0;
                for (
                  ;
                  ("words" == c.default.mode && c.default.words >= e) ||
                  ("time" === c.default.mode && e < 100);

                ) {
                  const t =
                    "wikipedia" == c.default.funbox
                      ? yield q.getSection(c.default.language)
                      : yield F.getPoem();
                  if ("poetry" == c.default.funbox && !1 === t)
                    return (
                      m.add(
                        "Error while getting poetry. Please try again later",
                        -1
                      ),
                      p.setFunbox("none"),
                      void we()
                    );
                  if (void 0 !== t && !1 !== t)
                    for (const o of t.words) {
                      if (e >= c.default.words && "words" == c.default.mode) {
                        e++;
                        break;
                      }
                      e++, te.words.push(o);
                    }
                }
              }
            } else if ("quote" === c.default.mode) {
              const o = c.default.language.startsWith("swiss_german")
                  ? "german"
                  : c.default.language,
                n = yield h.default.getQuotes(o, c.default.quoteLength);
              if (0 === n.length)
                return (
                  l.setTestRestarting(!1),
                  m.add(
                    `No ${c.default.language
                      .replace(/_\d*k$/g, "")
                      .replace(/_/g, " ")} quotes found`,
                    0
                  ),
                  (null === ce.Auth || void 0 === ce.Auth
                    ? void 0
                    : ce.Auth.currentUser) && L.show(!1),
                  p.setMode("words"),
                  void we()
                );
              let a;
              if (
                c.default.quoteLength.includes(-2) &&
                1 === c.default.quoteLength.length
              ) {
                const e = h.default.getQuoteById(j.selectedId);
                void 0 === e
                  ? ((a = n.groups[0][0]), m.add("Quote Id Does Not Exist", 0))
                  : (a = e);
              } else if (c.default.quoteLength.includes(-3)) {
                const e = h.default.getRandomFavoriteQuote(c.default.language);
                if (null === e)
                  return (
                    m.add("No favorite quotes found", 0),
                    p.setQuoteLength(-1),
                    void we()
                  );
                a = e;
              } else {
                const e = h.default.getRandomQuote();
                if (null === e)
                  return (
                    m.add("No quotes found for selected quote length", 0),
                    void l.setTestRestarting(!1)
                  );
                a = e;
              }
              if (void 0 === a) return;
              (a.text = a.text.replace(/ +/gm, " ")),
                (a.text = a.text.replace(/\\\\t/gm, "\t")),
                (a.text = a.text.replace(/\\\\n/gm, "\n")),
                (a.text = a.text.replace(/\\t/gm, "\t")),
                (a.text = a.text.replace(/\\n/gm, "\n")),
                (a.text = a.text.replace(/( *(\r\n|\r|\n) *)/g, "\n ")),
                (a.text = a.text.replace(//g, "...")),
                (a.text = a.text.trim()),
                (a.textSplit = a.text.split(" ")),
                (a.language = c.default.language.replace(/_\d*k$/g, "")),
                te.setRandomQuote(a);
              const i = te.randomQuote.textSplit;
              if (void 0 === i) return;
              t = Math.min(t, i.length);
              for (let o = 0; o < t; o++)
                /\t/g.test(i[o]) && te.setHasTab(!0),
                  (i[o] = _e(i[o], e)),
                  (i[o] = $e(i[o])),
                  (i[o] = yield Ce(i[o])),
                  "swiss_german" === c.default.language &&
                    (i[o] = i[o].replace(//g, "ss")),
                  te.words.push(i[o]);
            }
            e.leftToRight
              ? l.arrangeCharactersLeftToRight()
              : l.arrangeCharactersRightToLeft(),
              e.ligatures
                ? ($("#words").addClass("withLigatures"),
                  $("#resultWordsHistory .words").addClass("withLigatures"),
                  $("#resultReplay .words").addClass("withLigatures"))
                : ($("#words").removeClass("withLigatures"),
                  $("#resultWordsHistory .words").removeClass("withLigatures"),
                  $("#resultReplay .words").removeClass("withLigatures")),
              l.showWords(),
              "next" === c.default.keymapMode &&
                "zen" !== c.default.mode &&
                S.highlightKey(
                  te.words
                    .getCurrent()
                    .substring(
                      ee.input.current.length,
                      ee.input.current.length + 1
                    )
                    .toString()
                ),
              _.toggleScript(te.words.getCurrent());
          });
        }
        (t.punctuateWord = be),
          (t.startTest = function () {
            if (ae.get()) return !1;
            p.dbConfigLoaded || p.setChangedBeforeDb(!0),
              (
                null === ce.Auth || void 0 === ce.Auth
                  ? void 0
                  : ce.Auth.currentUser
              )
                ? de.log("testStarted")
                : de.log("testStartedNoLogin"),
              X.set(!0),
              R.startReplayRecording(),
              R.replayGetWordsList(te.words.list),
              ee.resetKeypressTimings(),
              A.restart(),
              A.show(),
              $("#liveWpm").text("0"),
              T.show(),
              O.show(),
              M.show(),
              A.update(),
              B.clear(),
              ue.show(),
              "memory" === c.default.funbox &&
                (_.resetMemoryTimer(), $("#wordsWrapper").addClass("hidden"));
            try {
              ("off" !== c.default.paceCaret ||
                (c.default.repeatedPace && oe.isPaceRepeat)) &&
                x.start();
            } catch (e) {}
            return y.setStart(performance.now()), B.start(), !0;
          }),
          (t.restart = we),
          (t.init = Pe),
          (t.addWord = function () {
            var e, t;
            return s(this, void 0, void 0, function* () {
              let o = 100;
              if (
                ("plus_one" === c.default.funbox && (o = 1),
                "plus_two" === c.default.funbox && (o = 2),
                te.words.length - ee.input.history.length > o ||
                  ("words" === c.default.mode &&
                    te.words.length >= c.default.words &&
                    c.default.words > 0) ||
                  ("custom" === c.default.mode &&
                    g.isWordRandom &&
                    te.words.length >= g.word &&
                    0 != g.word) ||
                  ("custom" === c.default.mode &&
                    !g.isWordRandom &&
                    !g.isTimeRandom &&
                    te.words.length >= g.text.length) ||
                  ("quote" === c.default.mode &&
                    te.words.length >=
                      (null !==
                        (t =
                          null === (e = te.randomQuote.textSplit) ||
                          void 0 === e
                            ? void 0
                            : e.length) && void 0 !== t
                        ? t
                        : 0)))
              )
                return;
              if (
                "wikipedia" === c.default.funbox ||
                "poetry" == c.default.funbox
              ) {
                if (!(te.words.length - te.words.currentIndex < 20)) return;
                {
                  const e =
                    "wikipedia" == c.default.funbox
                      ? yield q.getSection(c.default.language)
                      : yield F.getPoem();
                  if ("poetry" == c.default.funbox && !1 === e)
                    return (
                      m.add(
                        "Error while getting poetry. Please try again later",
                        -1
                      ),
                      p.setFunbox("none"),
                      void we()
                    );
                  if (void 0 === e) return;
                  if (!1 === e) return;
                  let t = 0;
                  for (const o of e.words) {
                    if (t >= c.default.words && "words" == c.default.mode)
                      break;
                    t++, te.words.push(o), l.addWord(o);
                  }
                }
              }
              const n =
                  "custom" !== c.default.mode
                    ? yield f.getCurrentLanguage(c.default.language)
                    : Object.assign(
                        Object.assign(
                          {},
                          yield f.getCurrentLanguage(c.default.language)
                        ),
                        { words: g.text }
                      ),
                a = H.withWords(n.words, c.default.funbox),
                i = yield Se(a, n, o),
                s = i.split(" ");
              s.length > 1
                ? s.forEach((e) => {
                    te.words.push(e), l.addWord(e);
                  })
                : (te.words.push(i), l.addWord(i));
            });
          });
        const xe = { completedEvent: null, canRetry: !1 };
        function ke() {
          return s(this, void 0, void 0, function* () {
            const { completedEvent: e } = xe;
            null !== e
              ? xe.canRetry &&
                ((xe.canRetry = !1),
                $("#retrySavingResultButton").addClass("hidden"),
                I.loading(!0),
                m.add("Retrying to save..."),
                Oe(e, !0))
              : m.add(
                  "Could not retry saving the result as the result no longer exists.",
                  0,
                  -1
                );
          });
        }
        function Te(e = !1) {
          var o;
          return s(this, void 0, void 0, function* () {
            if (!X.get()) return;
            if (
              ("zen" == c.default.mode &&
                0 != ee.input.current.length &&
                (ee.input.pushHistory(),
                ee.corrected.pushHistory(),
                R.replayGetWordsList(ee.input.history)),
              ee.recordKeypressSpacing(),
              l.setResultCalculating(!0),
              l.setResultVisible(!0),
              y.setEnd(performance.now()),
              X.set(!1),
              R.stopReplayRecording(),
              C.set(!1),
              k.hide(),
              T.hide(),
              W.hide(),
              O.hide(),
              M.hide(),
              A.hide(),
              E.hide(),
              B.clear(),
              _.clear(),
              ue.hide(),
              ee.burstHistory.length !== ee.input.getHistory().length)
            ) {
              const e = y.calculateBurst();
              ee.pushBurstToHistory(e);
            }
            ("zen" == c.default.mode || ee.bailout) && y.removeAfkData();
            const n = (function (e) {
              var t, o, n, a;
              const i = {
                  wpm: void 0,
                  rawWpm: void 0,
                  charStats: void 0,
                  acc: void 0,
                  mode: c.default.mode,
                  mode2: void 0,
                  quoteLength: -1,
                  punctuation: c.default.punctuation,
                  numbers: c.default.numbers,
                  lazyMode: c.default.lazyMode,
                  timestamp: Date.now(),
                  language: c.default.language,
                  restartCount: y.restartCount,
                  incompleteTests: y.incompleteTests,
                  incompleteTestSeconds:
                    y.incompleteSeconds < 0
                      ? 0
                      : f.roundTo2(y.incompleteSeconds),
                  difficulty: c.default.difficulty,
                  blindMode: c.default.blindMode,
                  tags: void 0,
                  keySpacing: ee.keypressTimings.spacing.array,
                  keyDuration: ee.keypressTimings.duration.array,
                  consistency: void 0,
                  keyConsistency: void 0,
                  funbox: c.default.funbox,
                  bailedOut: ee.bailout,
                  chartData: { wpm: ee.wpmHistory, raw: void 0, err: void 0 },
                  customText: void 0,
                  testDuration: void 0,
                  afkDuration: void 0,
                },
                s = y.calculateStats();
              if (
                (s.time % 1 != 0 &&
                  "time" !== c.default.mode &&
                  y.setLastSecondNotRound(),
                y.setLastTestWpm(s.wpm),
                (i.wpm = s.wpm),
                (i.rawWpm = s.wpmRaw),
                (i.charStats = [
                  s.correctChars + s.correctSpaces,
                  s.incorrectChars,
                  s.extraChars,
                  s.missedChars,
                ]),
                (i.acc = s.acc),
                y.lastSecondNotRound && !e)
              ) {
                const e = y.calculateWpmAndRaw();
                ee.pushToWpmHistory(e.wpm),
                  ee.pushToRawHistory(e.raw),
                  ee.pushKeypressesToHistory();
              }
              const r = ee.keypressPerSecond.map((e) =>
                  Math.round((e.count / 5) * 60)
                ),
                u = f.stdDev(r),
                l = f.mean(r);
              let d = f.roundTo2(f.kogasa(u / l)),
                p =
                  "toolong" === ee.keypressTimings.spacing.array
                    ? []
                    : ee.keypressTimings.spacing.array.slice();
              p.length > 0 && (p = p.slice(0, p.length - 1));
              let h = f.roundTo2(f.kogasa(f.stdDev(p) / f.mean(p)));
              (d && !isNaN(d)) || (d = 0),
                (h && !isNaN(h)) || (h = 0),
                (i.keyConsistency = h),
                (i.consistency = d);
              const m = f.smooth(r, 1);
              (i.chartData.raw = m), (i.chartData.unsmoothedRaw = r);
              const v = f.stdDev(m),
                b = f.mean(m),
                w = f.roundTo2(f.kogasa(v / b));
              i.smoothConsistency = isNaN(w) ? 0 : w;
              const $ = f.stdDev(
                  null !== (t = i.chartData.wpm) && void 0 !== t ? t : []
                ),
                C = f.mean(
                  null !== (o = i.chartData.wpm) && void 0 !== o ? o : []
                ),
                _ = f.roundTo2(f.kogasa($ / C));
              (i.wpmConsistency = isNaN(_) ? 0 : _),
                (i.testDuration = parseFloat(s.time.toString())),
                (i.afkDuration = y.calculateAfkSeconds(i.testDuration)),
                (i.chartData.err = []);
              for (let e = 0; e < ee.keypressPerSecond.length; e++)
                i.chartData.err.push(ee.keypressPerSecond[e].errors);
              "quote" === c.default.mode
                ? ((i.quoteLength = te.randomQuote.group),
                  (i.language = c.default.language.replace(/_\d*k$/g, "")))
                : delete i.quoteLength,
                (i.mode2 = f.getMode2(c.default, te.randomQuote)),
                "custom" === c.default.mode
                  ? ((i.customText = {}),
                    (i.customText.textLen = g.text.length),
                    (i.customText.isWordRandom = g.isWordRandom),
                    (i.customText.isTimeRandom = g.isTimeRandom),
                    (i.customText.word = g.word),
                    (i.customText.time = g.time))
                  : delete i.customText;
              const S = [];
              try {
                null ===
                  (a =
                    null === (n = D.getSnapshot()) || void 0 === n
                      ? void 0
                      : n.tags) ||
                  void 0 === a ||
                  a.forEach((e) => {
                    !0 === e.active && S.push(e._id);
                  });
              } catch (e) {}
              return (i.tags = S), "custom" != i.mode && delete i.customText, i;
            })(e);
            let a = !1;
            (function e(t) {
              return "number" == typeof t
                ? isNaN(t)
                  ? 1
                  : 0
                : void 0 === t
                ? 1
                : "object" == typeof t && null !== t
                ? Object.values(t).reduce((t, o) => t + e(o), 0)
                : 0;
            })(n) > 0 &&
              (console.log(n),
              m.add(
                "Failed to build result object: One of the fields is undefined or NaN",
                -1
              ),
              (a = !0));
            let i = ee.keypressPerSecond.slice(-5).every((e) => e.afk);
            ee.bailout && (i = !1);
            let s = !1;
            if (
              (e
                ? (m.add(`Test failed - ${me}`, 0, 1), (a = !0))
                : i
                ? (m.add("Test invalid - AFK detected", 0), (a = !0))
                : oe.isRepeated
                ? (m.add("Test invalid - repeated", 0), (a = !0))
                : ("time" === c.default.mode && n.mode2 < 15 && n.mode2 > 0) ||
                  ("time" === c.default.mode &&
                    0 == n.mode2 &&
                    n.testDuration < 15) ||
                  ("words" === c.default.mode && n.mode2 < 10 && n.mode2 > 0) ||
                  ("words" === c.default.mode &&
                    0 == n.mode2 &&
                    n.testDuration < 15) ||
                  ("custom" === c.default.mode &&
                    !g.isWordRandom &&
                    !g.isTimeRandom &&
                    g.text.length < 10) ||
                  ("custom" === c.default.mode &&
                    g.isWordRandom &&
                    !g.isTimeRandom &&
                    g.word < 10) ||
                  ("custom" === c.default.mode &&
                    !g.isWordRandom &&
                    g.isTimeRandom &&
                    g.time < 15) ||
                  ("zen" === c.default.mode && n.testDuration < 15)
                ? (m.add("Test invalid - too short", 0), (s = !0), (a = !0))
                : n.wpm < 0 || n.wpm > 350
                ? (m.add("Test invalid - wpm", 0), y.setInvalid(), (a = !0))
                : n.rawWpm < 0 || n.rawWpm > 350
                ? (m.add("Test invalid - raw", 0), y.setInvalid(), (a = !0))
                : (n.acc < 75 || n.acc > 100) &&
                  (m.add("Test invalid - accuracy", 0),
                  y.setInvalid(),
                  (a = !0)),
              oe.isRepeated)
            ) {
              const e = n.testDuration,
                t = n.afkDuration;
              let o = f.roundTo2(e - t);
              o < 0 && (o = 0);
              const a = n.acc;
              y.incrementIncompleteSeconds(o), y.pushIncompleteTest(a, o);
            }
            const r = v.getCustomTextName(),
              u = v.isCustomTextLong();
            if ("custom" === c.default.mode && "" !== r && u)
              if (ee.bailout || ee.input.length < te.words.length) {
                const e =
                  g.getCustomTextLongProgress(r) +
                  ee.input.getHistory().length -
                  1;
                g.setCustomTextLongProgress(r, e),
                  m.add("Long custom text progress saved", 1, 5);
                let t = g.getCustomText(r, !0);
                (t = t.slice(e)), g.setText(t);
              } else
                g.setCustomTextLongProgress(r, 0),
                  g.setText(g.getCustomText(r, !0)),
                  m.add("Long custom text completed", 1, 5);
            a ||
              (V.addSeconds(
                n.testDuration +
                  (y.incompleteSeconds < 0
                    ? 0
                    : f.roundTo2(y.incompleteSeconds)) -
                  n.afkDuration
              ),
              J.updateTodayTracker()),
              (
                null === ce.Auth || void 0 === ce.Auth
                  ? void 0
                  : ce.Auth.currentUser
              )
                ? $(".pageTest #result #reportQuoteButton").removeClass(
                    "hidden"
                  )
                : ($(".pageTest #result #rateQuoteButton").addClass("hidden"),
                  $(".pageTest #result #reportQuoteButton").addClass("hidden"),
                  de.log("testCompletedNoLogin"),
                  a || (t.notSignedInLastResult = n),
                  (a = !0)),
              $("#result .stats .dailyLeaderboard").addClass("hidden"),
              y.setLastResult(n),
              yield J.update(n, e, me, i, oe.isRepeated, s, te.randomQuote, a),
              "toolong" !== n.chartData && delete n.chartData.unsmoothedRaw,
              n.testDuration > 122 &&
                ((n.chartData = "toolong"),
                (n.keySpacing = "toolong"),
                (n.keyDuration = "toolong"),
                ee.setKeypressTimingsTooLong()),
              a
                ? de.log("testCompletedInvalid")
                : (("normal" != c.default.difficulty &&
                    (("master" != c.default.difficulty &&
                      "expert" != c.default.difficulty) ||
                      e)) ||
                    y.resetIncomplete(),
                  (n.uid =
                    null ===
                      (o =
                        null === ce.Auth || void 0 === ce.Auth
                          ? void 0
                          : ce.Auth.currentUser) || void 0 === o
                      ? void 0
                      : o.uid),
                  J.updateRateQuote(te.randomQuote),
                  I.loading(!0),
                  !0 !== n.bailedOut && (n.challenge = N.verify(n)),
                  null === n.challenge && (null == n || delete n.challenge),
                  (n.hash = (0, le.default)(n)),
                  Oe(n, !1));
          });
        }
        function Oe(e, t) {
          var o, n, a, i, r, l, d, p, h, g, v;
          return s(this, void 0, void 0, function* () {
            if (!oe.savingEnabled)
              return (
                m.add("Result not saved: disabled by user", -1, 3, "Notice"),
                void I.loading(!1)
              );
            if (!he.get())
              return (
                m.add("Result not saved: offline", -1, 2, "Notice"),
                I.loading(!1),
                (xe.canRetry = !0),
                $("#retrySavingResultButton").removeClass("hidden"),
                void (t || (xe.completedEvent = e))
              );
            const s = yield u.default.results.save(e);
            if ((I.loading(!1), J.hideCrown(), 200 !== s.status))
              return (
                [460, 461, 463, 464, 465].includes(s.status) ||
                  ((xe.canRetry = !0),
                  $("#retrySavingResultButton").removeClass("hidden"),
                  t || (xe.completedEvent = e)),
                console.log("Error saving result", e),
                m.add("Failed to save result: " + s.message, -1)
              );
            if (
              ($("#result .stats .tags .editTagsButton").attr(
                "result-id",
                s.data.insertedId
              ),
              $("#result .stats .tags .editTagsButton").removeClass(
                "invisible"
              ),
              null === (o = null == s ? void 0 : s.data) || void 0 === o
                ? void 0
                : o.xp)
            ) {
              const e =
                null !==
                  (a =
                    null === (n = D.getSnapshot()) || void 0 === n
                      ? void 0
                      : n.xp) && void 0 !== a
                  ? a
                  : 0;
              I.updateXpBar(e, s.data.xp, s.data.xpBreakdown),
                D.addXp(s.data.xp);
            }
            (null === (i = null == s ? void 0 : s.data) || void 0 === i
              ? void 0
              : i.streak) && D.setStreak(s.data.streak),
              (null === (r = null == s ? void 0 : s.data) || void 0 === r
                ? void 0
                : r.insertedId) &&
                ((e._id = s.data.insertedId),
                (null === (l = null == s ? void 0 : s.data) || void 0 === l
                  ? void 0
                  : l.isPb) && (e.isPb = !0),
                D.saveLocalResult(e),
                D.updateLocalStats(
                  y.restartCount + 1,
                  e.testDuration + e.incompleteTestSeconds - e.afkDuration
                )),
              de.log("testCompleted"),
              (null === (d = null == s ? void 0 : s.data) || void 0 === d
                ? void 0
                : d.isPb) &&
                ((null ===
                  (g =
                    null ===
                      (h =
                        null === (p = D.getSnapshot()) || void 0 === p
                          ? void 0
                          : p.personalBests) || void 0 === h
                      ? void 0
                      : h[c.default.mode]) || void 0 === g
                  ? void 0
                  : g[e.mode2]) && J.showConfetti(),
                J.showCrown(),
                J.updateCrown(),
                D.saveLocalPB(
                  c.default.mode,
                  e.mode2,
                  c.default.punctuation,
                  c.default.language,
                  c.default.difficulty,
                  c.default.lazyMode,
                  e.wpm,
                  e.acc,
                  e.rawWpm,
                  e.consistency
                )),
              (
                null === (v = null == s ? void 0 : s.data) || void 0 === v
                  ? void 0
                  : v.dailyLeaderboardRank
              )
                ? ($("#result .stats .dailyLeaderboard")
                    .css({ maxWidth: "13rem", opacity: 0 })
                    .removeClass("hidden")
                    .animate({ opacity: 1 }, 500),
                  $("#result .stats .dailyLeaderboard .bottom").html(
                    f.getPositionString(s.data.dailyLeaderboardRank)
                  ))
                : $("#result .stats .dailyLeaderboard").addClass("hidden"),
              $("#retrySavingResultButton").addClass("hidden"),
              t && m.add("Result saved", 1);
          });
        }
        function Me(e) {
          if (
            ((me = e), ee.pushKeypressesToHistory(), Te(!0), !oe.savingEnabled)
          )
            return;
          const t = y.calculateTestSeconds(performance.now()),
            o = y.calculateAfkSeconds(t);
          let n = f.roundTo2(t - o);
          n < 0 && (n = 0),
            y.incrementIncompleteSeconds(n),
            y.incrementRestartCount();
          const a = f.roundTo2(y.calculateAccuracy());
          y.pushIncompleteTest(a, n);
        }
        (t.retrySavingResult = ke),
          (t.finish = Te),
          (t.fail = Me),
          $(".pageTest").on(
            "click",
            "#testModesNotice .textButton.restart",
            () => {
              we();
            }
          ),
          $(document).on("keypress", "#restartTestButton", (e) => {
            "Enter" === e.key && we();
          }),
          $(".pageTest").on("click", "#restartTestButton", () => {
            d.set(),
              l.resultCalculating ||
                (X.get() &&
                "typing" === c.default.repeatQuotes &&
                "quote" === c.default.mode
                  ? we({ withSameWordset: !0 })
                  : we());
          }),
          $(".pageTest").on("click", "#retrySavingResultButton", ke),
          $(document).on("keypress", "#nextTestButton", (e) => {
            "Enter" === e.key && we();
          }),
          $(".pageTest").on("click", "#nextTestButton", () => {
            d.set(), we();
          }),
          $(".pageTest").on(
            "click",
            "#restartTestButtonWithSameWordset",
            () => {
              "zen" != c.default.mode
                ? (d.set(), we({ withSameWordset: !0 }))
                : m.add("Repeat test disabled in zen mode");
            }
          ),
          $(document).on(
            "keypress",
            "#restartTestButtonWithSameWordset",
            (e) => {
              "zen" != c.default.mode
                ? "Enter" === e.key && we({ withSameWordset: !0 })
                : m.add("Repeat test disabled in zen mode");
            }
          ),
          $(".pageTest").on("click", "#testConfig .mode .textButton", (e) => {
            var t;
            if (l.testRestarting) return;
            if ($(e.currentTarget).hasClass("active")) return;
            const o =
              null !== (t = $(e.currentTarget).attr("mode")) && void 0 !== t
                ? t
                : "time";
            void 0 !== o && (p.setMode(o), d.set(), we());
          }),
          $(".pageTest").on(
            "click",
            "#testConfig .wordCount .textButton",
            (e) => {
              var t;
              if (l.testRestarting) return;
              const o =
                null !== (t = $(e.currentTarget).attr("wordCount")) &&
                void 0 !== t
                  ? t
                  : "15";
              "custom" != o && (p.setWordCount(parseInt(o)), d.set(), we());
            }
          ),
          $(".pageTest").on("click", "#testConfig .time .textButton", (e) => {
            var t;
            if (l.testRestarting) return;
            const o =
              null !== (t = $(e.currentTarget).attr("timeConfig")) &&
              void 0 !== t
                ? t
                : "10";
            "custom" != o && (p.setTimeConfig(parseInt(o)), d.set(), we());
          }),
          $(".pageTest").on(
            "click",
            "#testConfig .quoteLength .textButton",
            (e) => {
              var t;
              if (l.testRestarting) return;
              let o = parseInt(
                null !== (t = $(e.currentTarget).attr("quoteLength")) &&
                  void 0 !== t
                  ? t
                  : "1"
              );
              -2 != o &&
                (-1 == o && (o = [0, 1, 2, 3]),
                p.setQuoteLength(o, !1, e.shiftKey),
                d.set(),
                we());
            }
          ),
          $(".pageTest").on(
            "click",
            "#testConfig .punctuationMode.textButton",
            () => {
              l.testRestarting ||
                (p.setPunctuation(!c.default.punctuation), d.set(), we());
            }
          ),
          $(".pageTest").on(
            "click",
            "#testConfig .numbersMode.textButton",
            () => {
              l.testRestarting ||
                (p.setNumbers(!c.default.numbers), d.set(), we());
            }
          ),
          $("#practiseWordsPopup .button.missed").on("click", () => {
            b.hidePopup(), b.init(!0, !1), we({ practiseMissed: !0 });
          }),
          $("#practiseWordsPopup .button.slow").on("click", () => {
            b.hidePopup(), b.init(!1, !0), we({ practiseMissed: !0 });
          }),
          $("#practiseWordsPopup .button.both").on("click", () => {
            b.hidePopup(), b.init(!0, !0), we({ practiseMissed: !0 });
          }),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #quoteSearchResults .searchResult",
            (e) => {
              var t;
              if (
                e.target.classList.contains("report") ||
                e.target.classList.contains("favorite")
              )
                return;
              const o = parseInt(
                null !== (t = $(e.currentTarget).attr("id")) && void 0 !== t
                  ? t
                  : ""
              );
              j.setSelectedId(o), !0 === j.apply(o) && we();
            }
          ),
          $("#top").on("click", "#menu #startTestButton, .logo", () => {
            "test" === Z.get() && we();
          }),
          ie.subscribe((e, t, o) => {
            "test" === Z.get() &&
              ("difficulty" !== e || o || we(),
              "showAllLines" !== e || o || we(),
              "keymapMode" !== e || o || we(),
              "tapeMode" !== e || o || we()),
              "lazyMode" !== e || !1 !== t || o || (ve = !1);
          }),
          se.subscribe((e, t) => {
            "fail" === e && void 0 !== t && Me(t), "finish" === e && Te();
          });
      },
      1322: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setSaving =
            t.setActiveChallenge =
            t.setPaceRepeat =
            t.setRepeated =
            t.savingEnabled =
            t.activeChallenge =
            t.isPaceRepeat =
            t.isRepeated =
              void 0),
          (t.isRepeated = !1),
          (t.isPaceRepeat = !1),
          (t.activeChallenge = null),
          (t.savingEnabled = !0),
          (t.setRepeated = function (e) {
            t.isRepeated = e;
          }),
          (t.setPaceRepeat = function (e) {
            t.isPaceRepeat = e;
          }),
          (t.setActiveChallenge = function (e) {
            t.activeChallenge = e;
          }),
          (t.setSaving = function (e) {
            t.savingEnabled = e;
          });
      },
      2474: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.calculateStats =
            t.removeAfkData =
            t.calculateAccuracy =
            t.calculateBurst =
            t.setLastSecondNotRound =
            t.calculateAfkSeconds =
            t.setStart =
            t.setEnd =
            t.calculateWpmAndRaw =
            t.calculateTestSeconds =
            t.setInvalid =
            t.resetIncomplete =
            t.pushIncompleteTest =
            t.incrementIncompleteSeconds =
            t.incrementRestartCount =
            t.incompleteTests =
            t.incompleteSeconds =
            t.restartCount =
            t.restart =
            t.getStats =
            t.wpmCalculationDebug =
            t.setLastResult =
            t.lastResult =
            t.setLastTestWpm =
            t.lastTestWpm =
            t.lastSecondNotRound =
            t.end2 =
            t.start2 =
            t.end =
            t.start =
            t.invalid =
              void 0);
        const r = s(o(6943)),
          u = s(o(6705)),
          l = i(o(3388)),
          d = i(o(4897)),
          c = i(o(9470));
        (t.invalid = !1),
          (t.lastSecondNotRound = !1),
          (t.lastTestWpm = 0),
          (t.setLastTestWpm = function (e) {
            t.lastTestWpm = e;
          }),
          (t.setLastResult = function (e) {
            t.lastResult = e;
          });
        let p = !1;
        function f(e) {
          if (void 0 === e) {
            const e = (t.end - d.lastKeypress) / 1e3;
            return ("zen" == u.default.mode || d.bailout) && e < 7
              ? (d.lastKeypress - t.start) / 1e3
              : (t.end - t.start) / 1e3;
          }
          return (e - t.start) / 1e3;
        }
        (t.wpmCalculationDebug = function () {
          console.log("wpm calculation debug enabled"), (p = !0);
        }),
          (t.getStats = function () {
            const e = {
              lastResult: t.lastResult,
              start: t.start,
              end: t.end,
              wpmHistory: d.wpmHistory,
              rawHistory: d.wpmHistory,
              burstHistory: d.burstHistory,
              keypressPerSecond: d.keypressPerSecond,
              currentKeypress: d.currentKeypress,
              lastKeypress: d.lastKeypress,
              currentBurstStart: d.currentBurstStart,
              lastSecondNotRound: t.lastSecondNotRound,
              missedWords: d.missedWords,
              accuracy: d.accuracy,
              keypressTimings: d.keypressTimings,
            };
            try {
              e.keySpacingStats = {
                average:
                  d.keypressTimings.spacing.array.reduce((e, t) => t + e) /
                  d.keypressTimings.spacing.array.length,
                sd: l.stdDev(d.keypressTimings.spacing.array),
              };
            } catch (e) {}
            try {
              e.keyDurationStats = {
                average:
                  d.keypressTimings.duration.array.reduce((e, t) => t + e) /
                  d.keypressTimings.duration.array.length,
                sd: l.stdDev(d.keypressTimings.duration.array),
              };
            } catch (e) {}
            return e;
          }),
          (t.restart = function () {
            (t.start = 0),
              (t.end = 0),
              (t.invalid = !1),
              (t.lastSecondNotRound = !1);
          }),
          (t.restartCount = 0),
          (t.incompleteSeconds = 0),
          (t.incompleteTests = []),
          (t.incrementRestartCount = function () {
            t.restartCount++;
          }),
          (t.incrementIncompleteSeconds = function (e) {
            t.incompleteSeconds += e;
          }),
          (t.pushIncompleteTest = function (e, o) {
            t.incompleteTests.push({ acc: e, seconds: o });
          }),
          (t.resetIncomplete = function () {
            (t.restartCount = 0),
              (t.incompleteSeconds = 0),
              (t.incompleteTests = []);
          }),
          (t.setInvalid = function () {
            t.invalid = !0;
          }),
          (t.calculateTestSeconds = f);
        let h = 0;
        function m() {
          const e =
            (d.accuracy.correct / (d.accuracy.correct + d.accuracy.incorrect)) *
            100;
          return isNaN(e) ? 100 : e;
        }
        (t.calculateWpmAndRaw = function () {
          var e;
          const t = performance.now(),
            o = d.input.getKoreanStatus();
          let n = 0,
            a = 0,
            i = 0;
          const s = o
            ? r.default.disassemble(d.input.current)
            : d.input.current;
          for (let e = 0; e < d.input.history.length; e++) {
            const t = o
              ? "zen" == u.default.mode
                ? r.default.disassemble(d.input.getHistory(e)).join("")
                : r.default.disassemble(c.words.get(e)).join("")
              : "zen" == u.default.mode
              ? d.input.getHistory(e)
              : c.words.get(e);
            (o
              ? r.default.disassemble(d.input.getHistory(e)).join("")
              : d.input.getHistory(e)) === t &&
              ((a += t.length),
              e < d.input.history.length - 1 &&
                "\n" !== l.getLastChar(d.input.getHistory(e)) &&
                i++),
              (n += o
                ? r.default.disassemble(d.input.getHistory(e)).length
                : d.input.getHistory(e).length);
          }
          if ("" !== s) {
            const t =
                "zen" == u.default.mode
                  ? s
                  : o
                  ? r.default.disassemble(
                      null !== (e = c.words.getCurrent()) && void 0 !== e
                        ? e
                        : ""
                    )
                  : c.words.getCurrent(),
              i = { correct: 0, incorrect: 0, missed: 0 };
            for (let e = 0; e < t.length; e++)
              e < s.length
                ? s[e] === t[e]
                  ? i.correct++
                  : i.incorrect++
                : i.missed++;
            (n += i.correct),
              (n += i.incorrect),
              (n += i.missed),
              0 == i.incorrect && (a += i.correct);
          }
          ("nospace" !== u.default.funbox && "arrows" !== u.default.funbox) ||
            (i = 0),
            (n += s.length);
          const p = f(performance.now()),
            m = Math.round(((a + i) * (60 / p)) / 5),
            g = Math.round(((n + i) * (60 / p)) / 5),
            v = performance.now();
          return (h = (v - t + h) / 2), { wpm: m, raw: g };
        }),
          (t.setEnd = function (e) {
            (t.end = e), (t.end2 = Date.now());
          }),
          (t.setStart = function (e) {
            (t.start = e), (t.start2 = Date.now());
          }),
          (t.calculateAfkSeconds = function (e) {
            let t = 0;
            return (
              void 0 !== e &&
                ((t =
                  "time" === u.default.mode
                    ? Math.round(e) - d.keypressPerSecond.length
                    : Math.ceil(e) - d.keypressPerSecond.length),
                t < 0 && (t = 0)),
              d.keypressPerSecond.filter((e) => e.afk).length + t
            );
          }),
          (t.setLastSecondNotRound = function () {
            t.lastSecondNotRound = !0;
          }),
          (t.calculateBurst = function () {
            var e, t, o, n;
            const a = d.input.getKoreanStatus(),
              i = (performance.now() - d.currentBurstStart) / 1e3;
            let s;
            if (
              ((s = a
                ? r.default.disassemble(d.input.current).length
                : d.input.current.length),
              0 == s &&
                (s = a
                  ? null !==
                      (n =
                        null ===
                          (o = r.default.disassemble(
                            d.input.getHistoryLast()
                          )) || void 0 === o
                          ? void 0
                          : o.length) && void 0 !== n
                    ? n
                    : 0
                  : null !==
                      (t =
                        null === (e = d.input.getHistoryLast()) || void 0 === e
                          ? void 0
                          : e.length) && void 0 !== t
                  ? t
                  : 0),
              0 == s)
            )
              return 0;
            const u = l.roundTo2((s * (60 / i)) / 5);
            return Math.round(u);
          }),
          (t.calculateAccuracy = m),
          (t.removeAfkData = function () {
            const e = f();
            d.keypressPerSecond.splice(e),
              d.wpmHistory.splice(e),
              d.burstHistory.splice(e),
              d.rawHistory.splice(e);
          }),
          (t.calculateStats = function () {
            let e = f();
            p &&
              (console.log("date based time", (t.end2 - t.start2) / 1e3),
              console.log("performance.now based time", e)),
              "custom" != u.default.mode &&
                ((e = l.roundTo2(e)),
                p &&
                  (console.log("mode is not custom - wounding"),
                  console.log("new time", e)));
            const o = (function () {
                let e = 0,
                  t = 0,
                  o = 0,
                  n = 0,
                  a = 0,
                  i = 0,
                  s = 0;
                for (let p = 0; p < d.input.history.length; p++) {
                  const f = d.input.getKoreanStatus(),
                    h = f
                      ? "zen" == u.default.mode
                        ? r.default.disassemble(d.input.getHistory(p)).join("")
                        : r.default.disassemble(c.words.get(p)).join("")
                      : "zen" == u.default.mode
                      ? d.input.getHistory(p)
                      : c.words.get(p);
                  if ("" === d.input.getHistory(p)) continue;
                  const m = f
                    ? r.default.disassemble(d.input.getHistory(p)).join("")
                    : d.input.getHistory(p);
                  if (m == h)
                    (e += h.length),
                      (t += h.length),
                      p < d.input.history.length - 1 &&
                        "\n" !== l.getLastChar(m) &&
                        s++;
                  else if (m.length >= h.length)
                    for (let e = 0; e < m.length; e++)
                      e < h.length ? (m[e] == h[e] ? t++ : o++) : n++;
                  else {
                    const n = { correct: 0, incorrect: 0, missed: 0 };
                    for (let e = 0; e < h.length; e++)
                      e < m.length
                        ? m[e] == h[e]
                          ? n.correct++
                          : n.incorrect++
                        : n.missed++;
                    (t += n.correct),
                      (o += n.incorrect),
                      p === d.input.history.length - 1 &&
                      "time" == u.default.mode
                        ? 0 === n.incorrect && (e += n.correct)
                        : (a += n.missed);
                  }
                  p < d.input.history.length - 1 && i++;
                }
                return (
                  ("nospace" !== u.default.funbox &&
                    "arrows" !== u.default.funbox) ||
                    ((i = 0), (s = 0)),
                  {
                    spaces: i,
                    correctWordChars: e,
                    allCorrectChars: t,
                    incorrectChars:
                      "zen" == u.default.mode ? d.accuracy.incorrect : o,
                    extraChars: n,
                    missedChars: a,
                    correctSpaces: s,
                  }
                );
              })(),
              n = l.roundTo2(
                ((o.correctWordChars + o.correctSpaces) * (60 / e)) / 5
              ),
              a = l.roundTo2(
                ((o.allCorrectChars +
                  o.spaces +
                  o.incorrectChars +
                  o.extraChars) *
                  (60 / e)) /
                  5
              );
            p &&
              (console.log("chars", o),
              console.log(
                "wpm",
                ((o.correctWordChars + o.correctSpaces) * (60 / e)) / 5
              ),
              console.log("wpm rounded to 2", n),
              console.log("wpmraw", a));
            const i = l.roundTo2(m());
            return {
              wpm: isNaN(n) ? 0 : n,
              wpmRaw: isNaN(a) ? 0 : a,
              acc: i,
              correctChars: o.correctWordChars,
              incorrectChars: o.incorrectChars,
              missedChars: o.missedChars,
              extraChars: o.extraChars,
              allChars:
                o.allCorrectChars + o.spaces + o.incorrectChars + o.extraChars,
              time: l.roundTo2(e),
              spaces: o.spaces,
              correctSpaces: o.correctSpaces,
            };
          });
      },
      6084: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.start = t.getTimerStats = t.clear = t.enableTimerDebug = void 0);
        const r = i(o(6705)),
          u = r,
          l = i(o(8248)),
          d = i(o(8824)),
          c = i(o(3261)),
          p = i(o(2474)),
          f = i(o(4897)),
          h = i(o(9470)),
          m = i(o(7353)),
          g = i(o(3388)),
          v = i(o(3368)),
          y = i(o(4292)),
          b = i(o(210)),
          w = i(o(6443)),
          $ = i(o(195)),
          C = i(o(6507));
        let _ = 0,
          S = null;
        let P = 0,
          x = !1;
        (t.enableTimerDebug = function () {
          x = !0;
        }),
          (t.clear = function () {
            $.set(0), null !== S && clearTimeout(S);
          });
        let k = [];
        (t.getTimerStats = function () {
          return k;
        }),
          (t.start = function () {
            return s(this, void 0, void 0, function* () {
              b.clear(),
                (_ = 0),
                (k = []),
                (P = p.start + 1e3),
                (function e() {
                  const t = P - performance.now();
                  k.push({
                    dateNow: Date.now(),
                    now: performance.now(),
                    expected: P,
                    nextDelay: t,
                  }),
                    (("time" === r.default.mode &&
                      r.default.time < 130 &&
                      r.default.time > 0) ||
                      ("words" === r.default.mode &&
                        r.default.words < 250 &&
                        r.default.words > 0)) &&
                      (t < 500 && b.set(),
                      t < 100 &&
                        (_++,
                        _ > 5 &&
                          (v.add(
                            'This could be caused by "efficiency mode" on Microsoft Edge.'
                          ),
                          v.add(
                            "Stopping the test due to bad performance. This would cause test calculations to be incorrect. If this happens a lot, please report this.",
                            -1
                          ),
                          C.dispatch("fail", "slow timer")))),
                    (S = setTimeout(function () {
                      if (!w.get())
                        return (
                          null !== S && clearTimeout(S), b.clear(), void (_ = 0)
                        );
                      (function () {
                        s(this, void 0, void 0, function* () {
                          x &&
                            console.time(
                              "timer step -----------------------------"
                            ),
                            $.increment(),
                            (function () {
                              x && console.time("premid");
                              const e =
                                document.querySelector("#premidSecondsLeft");
                              null !== e &&
                                (e.innerHTML = (
                                  r.default.time - $.get()
                                ).toString()),
                                x && console.timeEnd("premid");
                            })(),
                            x && console.time("timer progress update"),
                            ("time" === r.default.mode ||
                              ("custom" === r.default.mode &&
                                l.isTimeRandom)) &&
                              d.update(),
                            x && console.timeEnd("timer progress update");
                          const e = (function () {
                              x && console.time("calculate wpm and raw");
                              const e = p.calculateWpmAndRaw();
                              return (
                                x && console.timeEnd("calculate wpm and raw"),
                                x && console.time("update live wpm"),
                                c.update(e.wpm, e.raw),
                                x && console.timeEnd("update live wpm"),
                                x && console.time("push to history"),
                                f.pushToWpmHistory(e.wpm),
                                f.pushToRawHistory(e.raw),
                                x && console.timeEnd("push to history"),
                                e
                              );
                            })(),
                            t = (function () {
                              x && console.time("calculate acc");
                              const e = g.roundTo2(p.calculateAccuracy());
                              return x && console.timeEnd("calculate acc"), e;
                            })();
                          !(function (e) {
                            x && console.time("update monkey");
                            const t = r.default.blindMode ? e.raw : e.wpm;
                            m.updateFastOpacity(t),
                              x && console.timeEnd("update monkey");
                          })(e),
                            (function () {
                              if (
                                (x && console.time("layoutfluid"),
                                "layoutfluid" === r.default.funbox &&
                                  "time" === r.default.mode)
                              ) {
                                const e = r.default.customLayoutfluid
                                    ? r.default.customLayoutfluid.split("#")
                                    : ["qwerty", "dvorak", "colemak"],
                                  t = r.default.time / e.length,
                                  o = $.get(),
                                  n = e[Math.floor(o / t)],
                                  a = [];
                                for (let o = 1; o < e.length; o++)
                                  a.push(Math.floor(t * o));
                                a.includes(o + 3)
                                  ? v.add("3", 0, 1)
                                  : a.includes(o + 2)
                                  ? v.add("2", 0, 1)
                                  : a.includes(o + 1) && v.add("1", 0, 1),
                                  r.default.layout !== n &&
                                    void 0 !== n &&
                                    (v.add(`--- !!! ${n} !!! ---`, 0),
                                    u.setLayout(n, !0),
                                    u.setKeymapLayout(n, !0));
                              }
                              x && console.timeEnd("layoutfluid");
                            })(),
                            (function (e, t) {
                              x && console.time("fail conditions"),
                                f.pushKeypressesToHistory(),
                                "custom" === r.default.minWpm &&
                                e.wpm < r.default.minWpmCustomSpeed &&
                                h.words.currentIndex > 3
                                  ? (null !== S && clearTimeout(S),
                                    b.clear(),
                                    (_ = 0),
                                    C.dispatch("fail", "min wpm"))
                                  : "custom" === r.default.minAcc &&
                                    t < r.default.minAccCustom
                                  ? (null !== S && clearTimeout(S),
                                    b.clear(),
                                    (_ = 0),
                                    C.dispatch("fail", "min accuracy"))
                                  : x && console.timeEnd("fail conditions");
                            })(e, t),
                            (function () {
                              if (
                                (x && console.time("times up check"),
                                ("time" == r.default.mode ||
                                  ("custom" === r.default.mode &&
                                    l.isTimeRandom)) &&
                                  (($.get() >= r.default.time &&
                                    0 !== r.default.time &&
                                    "time" === r.default.mode) ||
                                    ($.get() >= l.time &&
                                      0 !== l.time &&
                                      "custom" === r.default.mode)))
                              )
                                return (
                                  null !== S && clearTimeout(S),
                                  y.hide(),
                                  f.input.pushHistory(),
                                  f.corrected.pushHistory(),
                                  b.clear(),
                                  (_ = 0),
                                  void C.dispatch("finish")
                                );
                              x && console.timeEnd("times up check");
                            })(),
                            x &&
                              console.timeEnd(
                                "timer step -----------------------------"
                              );
                        });
                      })(),
                        (P += 1e3),
                        e();
                    }, t));
                })();
            });
          });
      },
      8673: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.highlightBadWord =
            t.applyBurstHeatmap =
            t.toggleResultWords =
            t.arrangeCharactersLeftToRight =
            t.arrangeCharactersRightToLeft =
            t.lineJump =
            t.scrollTape =
            t.updateWordElement =
            t.screenshot =
            t.colorful =
            t.flipColors =
            t.addWord =
            t.updateWordsHeight =
            t.showWords =
            t.updateActiveElement =
            t.focusWords =
            t.reset =
            t.setResultCalculating =
            t.setTestRestarting =
            t.setActiveWordTop =
            t.setCurrentWordElementIndex =
            t.setResultVisible =
            t.resultCalculating =
            t.currentTestLine =
            t.lineTransition =
            t.testRestartingPromise =
            t.testRestarting =
            t.activeWordTop =
            t.resultVisible =
            t.currentWordElementIndex =
              void 0);
        const u = i(o(3368)),
          l = i(o(4203)),
          d = i(o(6705)),
          c = d,
          p = i(o(6350)),
          f = i(o(9470)),
          h = i(o(4897)),
          m = i(o(8248)),
          g = i(o(4292)),
          v = i(o(1333)),
          y = i(o(4626)),
          b = i(o(3388)),
          w = i(o(210)),
          C = i(o(8526)),
          _ = i(o(1446)),
          S = i(o(6943)),
          P = r(o(9546)),
          x = o(6617),
          k = o(5344);
        let T;
        function O() {
          $("#wordsWrapper").hasClass("hidden") ||
            $("#wordsInput").trigger("focus");
        }
        function M(e) {
          const o = document.querySelector("#words .active");
          "zen" == d.default.mode && e
            ? null == o || o.remove()
            : null !== o &&
              ("word" == d.default.highlightMode &&
                o.querySelectorAll("letter").forEach((e) => {
                  e.classList.remove("correct");
                }),
              o.classList.remove("active"));
          try {
            const e =
              document.querySelectorAll("#words .word")[
                t.currentWordElementIndex
              ];
            e.classList.add("active"),
              e.classList.remove("error"),
              (t.activeWordTop =
                document.querySelector("#words .active").offsetTop),
              "word" == d.default.highlightMode &&
                e.querySelectorAll("letter").forEach((e) => {
                  e.classList.add("correct");
                });
          } catch (e) {}
        }
        function A(e) {
          let t = !1,
            o = "<div class='word'>";
          for (let n = 0; n < e.length; n++)
            "arrows" === d.default.funbox
              ? ("" === e.charAt(n) &&
                  (o += '<letter><i class="fas fa-arrow-up"></i></letter>'),
                "" === e.charAt(n) &&
                  (o += '<letter><i class="fas fa-arrow-down"></i></letter>'),
                "" === e.charAt(n) &&
                  (o += '<letter><i class="fas fa-arrow-left"></i></letter>'),
                "" === e.charAt(n) &&
                  (o += '<letter><i class="fas fa-arrow-right"></i></letter>'))
              : "\t" === e.charAt(n)
              ? (o +=
                  "<letter class='tabChar'><i class=\"fas fa-long-arrow-alt-right\"></i></letter>")
              : "\n" === e.charAt(n)
              ? ((t = !0),
                (o +=
                  "<letter class='nlChar'><i class=\"fas fa-angle-down\"></i></letter>"))
              : (o += "<letter>" + e.charAt(n) + "</letter>");
          return (o += "</div>"), t && (o += "<div class='newline'></div>"), o;
        }
        function j() {
          $("#wordsWrapper").removeClass("hidden");
          const e = $(document.querySelector(".word")).outerHeight(!0),
            t = $(document.querySelector("#words")).outerHeight(!0);
          if (
            !d.default.showAllLines ||
            "time" == d.default.mode ||
            (m.isWordRandom && 0 == m.word) ||
            m.isTimeRandom
          )
            if ("off" !== d.default.tapeMode) {
              const t = e;
              $("#words")
                .css("height", 2 * e + "px")
                .css("overflow", "hidden")
                .css("width", "200%")
                .css("margin-left", "50%"),
                $("#wordsWrapper")
                  .css("height", t + "px")
                  .css("overflow", "hidden"),
                $(".outOfFocusWarning").css("line-height", t + "px");
            } else
              $("#words")
                .css("height", 4 * e + "px")
                .css("overflow", "hidden")
                .css("width", "100%")
                .css("margin-left", "unset"),
                $("#wordsWrapper")
                  .css("height", 3 * e + "px")
                  .css("overflow", "hidden"),
                $(".outOfFocusWarning").css("line-height", 3 * e + "px");
          else {
            $("#words").css("height", "auto"),
              $("#wordsWrapper").css("height", "auto");
            let o = 3 * e;
            o > t && (o = t),
              $(".outOfFocusWarning").css("line-height", o + "px");
          }
          "zen" === d.default.mode &&
            $(document.querySelector(".word")).remove(),
            M(),
            g.updatePosition();
        }
        function L(e) {
          e
            ? $("#words").addClass("flipped")
            : $("#words").removeClass("flipped");
        }
        function W(e) {
          e
            ? $("#words").addClass("colorfulMode")
            : $("#words").removeClass("colorfulMode");
        }
        function B() {
          var e, t, o, n, a;
          return s(this, void 0, void 0, function* () {
            let i = !1,
              s = !1;
            function r() {
              $("#ad-result-wrapper").removeClass("hidden"),
                $("#ad-result-small-wrapper").removeClass("hidden"),
                $("#notificationCenter").removeClass("hidden"),
                $("#commandLineMobileButton").removeClass("hidden"),
                $(".pageTest .ssWatermark").addClass("hidden"),
                $(".pageTest .ssWatermark").text("monkeytype.com"),
                $(".pageTest .buttons").removeClass("hidden"),
                $("noscript").removeClass("hidden"),
                $("#nocss").removeClass("hidden"),
                s && $("#cookiePopupWrapper").removeClass("hidden"),
                i && $("#resultReplay").removeClass("hidden"),
                (null === x.Auth || void 0 === x.Auth
                  ? void 0
                  : x.Auth.currentUser) ||
                  $(".pageTest .loginTip").removeClass("hidden");
            }
            $("#cookiePopupWrapper").hasClass("hidden") || (s = !0),
              $("#resultReplay").hasClass("hidden") ||
                ((i = !0), y.pauseReplay());
            const d = new Date(Date.now());
            $("#resultReplay").addClass("hidden"),
              $(".pageTest .ssWatermark").removeClass("hidden"),
              $(".pageTest .ssWatermark").text(
                (0, P.default)(d, "dd MMM yyyy HH:mm") + " | monkeytype.com "
              ),
              (null === x.Auth || void 0 === x.Auth
                ? void 0
                : x.Auth.currentUser) &&
                $(".pageTest .ssWatermark").text(
                  (null === (e = p.getSnapshot()) || void 0 === e
                    ? void 0
                    : e.name) +
                    " | " +
                    (0, P.default)(d, "dd MMM yyyy HH:mm") +
                    " | monkeytype.com  "
                ),
              $(".pageTest .buttons").addClass("hidden"),
              $("#notificationCenter").addClass("hidden"),
              $("#commandLineMobileButton").addClass("hidden"),
              $(".pageTest .loginTip").addClass("hidden"),
              $("noscript").addClass("hidden"),
              $("#nocss").addClass("hidden"),
              $("#ad-result-wrapper").addClass("hidden"),
              $("#ad-result-small-wrapper").addClass("hidden"),
              s && $("#cookiePopupWrapper").addClass("hidden");
            const c = $("#result"),
              f =
                null !==
                  (o =
                    null === (t = c.offset()) || void 0 === t
                      ? void 0
                      : t.left) && void 0 !== o
                  ? o
                  : 0,
              h =
                null !==
                  (a =
                    null === (n = c.offset()) || void 0 === n
                      ? void 0
                      : n.top) && void 0 !== a
                  ? a
                  : 0,
              m = c.outerWidth(!0),
              g = c.outerHeight(!0);
            try {
              const e = b.convertRemToPixels(2),
                t = b.convertRemToPixels(2);
              html2canvas(document.body, {
                backgroundColor: yield l.get("bg"),
                width: m + 2 * e,
                height: g + 2 * t,
                x: f - e,
                y: h - t,
              }).then((e) => {
                e.toBlob((e) => {
                  try {
                    if (null === e) return;
                    navigator.userAgent.toLowerCase().indexOf("firefox") > -1
                      ? (open(URL.createObjectURL(e)), r())
                      : navigator.clipboard
                          .write([
                            new ClipboardItem(
                              Object.defineProperty({}, e.type, {
                                value: e,
                                enumerable: !0,
                              })
                            ),
                          ])
                          .then(() => {
                            u.add("Copied to clipboard", 1, 2), r();
                          })
                          .catch((e) => {
                            u.add(
                              b.createErrorMessage(
                                e,
                                "Error saving image to clipboard"
                              ),
                              -1
                            ),
                              r();
                          });
                  } catch (e) {
                    u.add(
                      b.createErrorMessage(
                        e,
                        "Error saving image to clipboard"
                      ),
                      -1
                    ),
                      r();
                  }
                });
              });
            } catch (e) {
              u.add(b.createErrorMessage(e, "Error creating image"), -1), r();
            }
            setTimeout(() => {
              r();
            }, 3e3);
          });
        }
        function E(e = !d.default.blindMode) {
          const t = h.input.current,
            o = document.querySelector("#words .word.active"),
            n = f.words.getCurrent();
          if (!n && "zen" !== d.default.mode) return;
          let a = "",
            i = !1;
          if ("zen" === d.default.mode)
            for (let e = 0; e < h.input.current.length; e++)
              "\t" === h.input.current[e]
                ? (a +=
                    '<letter class=\'tabChar correct\' style="opacity: 0"><i class="fas fa-long-arrow-alt-right"></i></letter>')
                : "\n" === h.input.current[e]
                ? ((i = !0),
                  (a +=
                    '<letter class=\'nlChar correct\' style="opacity: 0"><i class="fas fa-angle-down"></i></letter>'))
                : (a += `<letter class="correct">${h.input.current[e]}</letter>`);
          else {
            let i = !1;
            const s = h.input.getKoreanStatus();
            if (s) {
              const e = S.disassemble(n).join(""),
                o = S.disassemble(t).join(""),
                a = b.trailingComposeChars.test(t)
                  ? t.search(b.trailingComposeChars)
                  : o.length;
              t.search(b.trailingComposeChars) < S.d(e).length &&
                e.slice(0, a) === o.slice(0, a) &&
                (i = !0);
            } else {
              const e = b.trailingComposeChars.test(t)
                ? t.search(b.trailingComposeChars)
                : t.length;
              t.search(b.trailingComposeChars) < n.length &&
                n.slice(0, e) === t.slice(0, e) &&
                (i = !0);
            }
            let r = i ? "correct" : "incorrect";
            d.default.blindMode && (r = "correct");
            for (let o = 0; o < t.length; o++) {
              const u = n[o] == t[o];
              let l = "correct";
              "off" == d.default.highlightMode && (l = "");
              let c = n[o],
                p = "",
                f = "";
              if (
                ("arrows" === d.default.funbox
                  ? ("" === c && (c = '<i class="fas fa-arrow-up"></i>'),
                    "" === c && (c = '<i class="fas fa-arrow-down"></i>'),
                    "" === c && (c = '<i class="fas fa-arrow-left"></i>'),
                    "" === c && (c = '<i class="fas fa-arrow-right"></i>'))
                  : "\t" === c
                  ? ((p = "tabChar"),
                    (c = '<i class="fas fa-long-arrow-alt-right"></i>'))
                  : "\n" === c &&
                    ((f = "nlChar"), (c = '<i class="fas fa-angle-down"></i>')),
                u)
              )
                a += `<letter class="${
                  "word" == d.default.highlightMode ? r : l
                } ${p}${f}">${c}</letter>`;
              else if (
                void 0 !== c &&
                C.getComposing() &&
                o >= C.getStartPos() &&
                (!s || i)
              )
                a += `<letter class="${
                  "word" == d.default.highlightMode ? r : ""
                } dead">${c}</letter>`;
              else if (e)
                if (void 0 === c) {
                  if (!d.default.hideExtraLetters) {
                    let e = t[o];
                    (" " != e && "\t" != e && "\n" != e) || (e = "_"),
                      (a += `<letter class="${
                        "word" == d.default.highlightMode ? r : "incorrect"
                      } extra ${p}${f}">${e}</letter>`);
                  }
                } else
                  a +=
                    `<letter class="${
                      "word" == d.default.highlightMode ? r : "incorrect"
                    } ${p}${f}">` +
                    ("replace" === d.default.indicateTypos
                      ? " " == t[o]
                        ? "_"
                        : t[o]
                      : c) +
                    ("below" === d.default.indicateTypos
                      ? `<hint>${t[o]}</hint>`
                      : "") +
                    "</letter>";
              else
                void 0 !== c &&
                  (a += `<letter class="${
                    "word" == d.default.highlightMode ? r : l
                  } ${p}${f}">${c}</letter>`);
            }
            for (let e = t.length; e < n.length; e++)
              "arrows" === d.default.funbox
                ? ("" === n[e] &&
                    (a += '<letter><i class="fas fa-arrow-up"></i></letter>'),
                  "" === n[e] &&
                    (a += '<letter><i class="fas fa-arrow-down"></i></letter>'),
                  "" === n[e] &&
                    (a += '<letter><i class="fas fa-arrow-left"></i></letter>'),
                  "" === n[e] &&
                    (a +=
                      '<letter><i class="fas fa-arrow-right"></i></letter>'))
                : "\t" === n[e]
                ? (a +=
                    "<letter class='tabChar'><i class=\"fas fa-long-arrow-alt-right\"></i></letter>")
                : "\n" === n[e]
                ? (a +=
                    "<letter class='nlChar'><i class=\"fas fa-angle-down\"></i></letter>")
                : (a +=
                    `<letter class="${
                      "word" == d.default.highlightMode ? r : ""
                    }">` +
                    n[e] +
                    "</letter>");
            "letter" === d.default.highlightMode &&
              d.default.hideExtraLetters &&
              (t.length > n.length && !d.default.blindMode
                ? o.classList.add("error")
                : t.length == n.length && o.classList.remove("error"));
          }
          (o.innerHTML = a),
            i && $("#words").append("<div class='newline'></div>");
        }
        _.subscribe((e, t) => {
          void 0 !== t &&
            "boolean" == typeof t &&
            ("flipTestColors" === e && L(t),
            "colorfulMode" === e && W(t),
            "highlightMode" === e && E(t),
            "burstHeatmap" === e && R());
        }),
          (t.currentWordElementIndex = 0),
          (t.resultVisible = !1),
          (t.activeWordTop = 0),
          (t.testRestarting = !1),
          (t.lineTransition = !1),
          (t.currentTestLine = 0),
          (t.resultCalculating = !1),
          (t.setResultVisible = function (e) {
            t.resultVisible = e;
          }),
          (t.setCurrentWordElementIndex = function (e) {
            t.currentWordElementIndex = e;
          }),
          (t.setActiveWordTop = function (e) {
            t.activeWordTop = e;
          }),
          (t.setTestRestarting = function (e) {
            (t.testRestarting = e),
              !0 === e
                ? (t.testRestartingPromise = new Promise((e) => {
                    T = e;
                  }))
                : (T && T(), (T = null));
          }),
          (t.setResultCalculating = function (e) {
            t.resultCalculating = e;
          }),
          (t.reset = function () {
            (t.currentTestLine = 0), (t.currentWordElementIndex = 0);
          }),
          (t.focusWords = O),
          (t.updateActiveElement = M),
          (t.showWords = function () {
            $("#words").empty(),
              "off" !== d.default.tapeMode
                ? ($("#words").addClass("tape"),
                  $("#wordsWrapper").addClass("tape"))
                : ($("#words").removeClass("tape"),
                  $("#wordsWrapper").removeClass("tape")),
              "below" === d.default.indicateTypos
                ? ($("#words").addClass("indicateTyposBelow"),
                  $("#wordsWrapper").addClass("indicateTyposBelow"))
                : ($("#words").removeClass("indicateTyposBelow"),
                  $("#wordsWrapper").removeClass("indicateTyposBelow"));
            let e = "";
            if ("zen" !== d.default.mode)
              for (let t = 0; t < f.words.length; t++) e += A(f.words.get(t));
            else
              e =
                '<div class="word">word height</div><div class="word active"></div>';
            $("#words").html(e), j();
          }),
          (t.updateWordsHeight = j),
          (t.addWord = function (e) {
            $("#words").append(A(e));
          }),
          (t.flipColors = L),
          (t.colorful = W),
          (t.screenshot = B),
          (t.updateWordElement = E),
          (t.scrollTape = function () {
            var e, o, n;
            const a = document.querySelector("#wordsWrapper").offsetWidth;
            let i = 0;
            const s = [];
            let r = 0;
            if (t.currentWordElementIndex > 0) {
              for (let n = 0; n < t.currentWordElementIndex; n++) {
                const t = document.querySelectorAll("#words .word")[n];
                if (
                  ((i +=
                    null !== (e = $(t).outerWidth(!0)) && void 0 !== e ? e : 0),
                  Math.floor(t.offsetLeft) < 0 - Math.floor(t.offsetWidth))
                ) {
                  const e = $($("#words .word")[n]);
                  s.push(e),
                    (r +=
                      null !== (o = e.outerWidth(!0)) && void 0 !== o ? o : 0);
                }
              }
              if (s.length > 0) {
                (t.currentWordElementIndex -= s.length),
                  s.forEach((e) => e.remove()),
                  (i -= r);
                const e = parseInt($("#words").css("margin-left"), 10);
                $("#words").css("margin-left", `${e + r}px`);
              }
            }
            let u = 0;
            if ("letter" === d.default.tapeMode && h.input.current.length > 0)
              for (let e = 0; e < h.input.current.length; e++) {
                const o = document.querySelectorAll("#words .word");
                u +=
                  null !==
                    (n = $(
                      o[t.currentWordElementIndex].querySelectorAll("letter")[e]
                    ).outerWidth(!0)) && void 0 !== n
                    ? n
                    : 0;
              }
            const l = a / 2 - (i + u);
            d.default.smoothLineScroll
              ? $("#words")
                  .stop(!0, !1)
                  .animate({ marginLeft: l }, w.get() ? 0 : 125)
              : $("#words").css("margin-left", `${l}px`);
          });
        let I = 0;
        function D() {
          t.resultVisible &&
            ($("#resultWordsHistory").stop(!0, !0).hasClass("hidden")
              ? $("#showWordHistoryButton").hasClass("loaded")
                ? (d.default.burstHeatmap && R(),
                  $("#resultWordsHistory")
                    .removeClass("hidden")
                    .css("display", "none")
                    .slideDown(250))
                : ($("#words").html(
                    '<div class="preloader"><i class="fas fa-fw fa-spin fa-circle-notch"></i></div>'
                  ),
                  (function () {
                    return s(this, void 0, void 0, function* () {
                      $("#resultWordsHistory .words").empty();
                      let e = "";
                      for (let t = 0; t < h.input.history.length + 2; t++) {
                        const o = h.input.getHistory(t),
                          n = f.words.get(t),
                          a =
                            (null == o
                              ? void 0
                              : o.match(
                                  /[\uac00-\ud7af]|[\u1100-\u11ff]|[\u3130-\u318f]|[\ua960-\ua97f]|[\ud7b0-\ud7ff]/g
                                )) ||
                            (null == n
                              ? void 0
                              : n.match(
                                  /[\uac00-\ud7af]|[\u1100-\u11ff]|[\u3130-\u318f]|[\ua960-\ua97f]|[\ud7b0-\ud7ff]/g
                                ));
                        let i = "";
                        try {
                          if ("" === o) throw new Error("empty input word");
                          if (
                            void 0 !== h.corrected.getHistory(t) &&
                            "" !== h.corrected.getHistory(t)
                          ) {
                            const e = a
                              ? S.assemble(h.corrected.getHistory(t).split(""))
                              : h.corrected.getHistory(t);
                            i = `<div class='word' burst="${
                              h.burstHistory[t]
                            }" input="${e
                              .replace(/"/g, "&quot;")
                              .replace(/ /g, "_")}">`;
                          } else
                            i = `<div class='word' burst="${
                              h.burstHistory[t]
                            }" input="${o
                              .replace(/"/g, "&quot;")
                              .replace(/ /g, "_")}">`;
                          if (t === h.input.history.length - 1) {
                            const e = { correct: 0, incorrect: 0, missed: 0 },
                              a = "zen" == d.default.mode ? o.length : n.length;
                            for (let t = 0; t < a; t++)
                              t < o.length
                                ? "zen" == d.default.mode || o[t] == n[t]
                                  ? e.correct++
                                  : e.incorrect++
                                : e.missed++;
                            (0 === e.incorrect && "time" === d.default.mode) ||
                              ("zen" != d.default.mode &&
                                o !== n &&
                                (i = `<div class='word error' burst="${
                                  h.burstHistory[t]
                                }" input="${o
                                  .replace(/"/g, "&quot;")
                                  .replace(/ /g, "_")}">`));
                          } else
                            "zen" != d.default.mode &&
                              o !== n &&
                              (i = `<div class='word error' burst="${
                                h.burstHistory[t]
                              }" input="${o
                                .replace(/"/g, "&quot;")
                                .replace(/ /g, "_")}">`);
                          let e;
                          e =
                            "zen" == d.default.mode || o.length > n.length
                              ? o.length
                              : n.length;
                          for (let s = 0; s < e; s++) {
                            let r;
                            try {
                              r = a
                                ? S.assemble(
                                    h.corrected.getHistory(t).split("")
                                  )[s]
                                : h.corrected.getHistory(t)[s];
                            } catch (e) {
                              r = void 0;
                            }
                            let u = "";
                            const l = a
                              ? S.assemble(h.corrected.getHistory(t).split(""))
                              : h.corrected.getHistory(t);
                            s + 1 === e &&
                              void 0 !== l &&
                              l.length > o.length &&
                              (u = "extraCorrected"),
                              "zen" == d.default.mode || void 0 !== n[s]
                                ? "zen" == d.default.mode || o[s] === n[s]
                                  ? r === o[s] || void 0 === r
                                    ? (i += `<letter class="correct ${u}">${o[s]}</letter>`)
                                    : (i +=
                                        `<letter class="corrected ${u}">` +
                                        o[s] +
                                        "</letter>")
                                  : o[s] === h.input.current
                                  ? (i +=
                                      `<letter class='correct ${u}'>` +
                                      n[s] +
                                      "</letter>")
                                  : void 0 === o[s]
                                  ? (i += "<letter>" + n[s] + "</letter>")
                                  : (i +=
                                      `<letter class="incorrect ${u}">` +
                                      n[s] +
                                      "</letter>")
                                : (i +=
                                    '<letter class="incorrect extra">' +
                                    o[s] +
                                    "</letter>");
                          }
                          i += "</div>";
                        } catch (e) {
                          try {
                            i = "<div class='word'>";
                            for (let e = 0; e < n.length; e++)
                              i += "<letter>" + n[e] + "</letter>";
                            i += "</div>";
                          } catch (e) {}
                        }
                        e += i;
                      }
                      return (
                        $("#resultWordsHistory .words").html(e),
                        $("#showWordHistoryButton").addClass("loaded"),
                        !0
                      );
                    });
                  })().then(() => {
                    d.default.burstHeatmap && R(),
                      $("#resultWordsHistory")
                        .removeClass("hidden")
                        .css("display", "none")
                        .slideDown(250, () => {
                          d.default.burstHeatmap && R();
                        });
                  }))
              : $("#resultWordsHistory").slideUp(250, () => {
                  $("#resultWordsHistory").addClass("hidden");
                }));
        }
        function R() {
          var e, t;
          if (d.default.burstHeatmap) {
            $("#resultWordsHistory .heatmapLegend").removeClass("hidden");
            let o = [...h.burstHistory];
            (o = o.filter((e) => e !== 1 / 0)),
              (o = o.filter((e) => e < 350)),
              (null ===
                (e = h.input.getHistory(h.input.getHistory().length - 1)) ||
              void 0 === e
                ? void 0
                : e.length) !==
                (null === (t = f.words.getCurrent()) || void 0 === t
                  ? void 0
                  : t.length) && (o = o.splice(0, o.length - 1));
            const n = b.median(o),
              a = [];
            o.forEach((e) => {
              a.push(Math.abs(n - e));
            });
            const i = b.mean(a),
              s = [
                { val: 0, class: "heatmap0" },
                { val: n - 1.5 * i, class: "heatmap1" },
                { val: n - 0.5 * i, class: "heatmap2" },
                { val: n + 0.5 * i, class: "heatmap3" },
                { val: n + 1.5 * i, class: "heatmap4" },
              ];
            s.forEach((e, t) => {
              let o = "";
              (o =
                0 === t
                  ? `<${Math.round(s[t + 1].val)}`
                  : 4 === t
                  ? `${Math.round(e.val - 1)}+`
                  : `${Math.round(e.val)}-${Math.round(s[t + 1].val) - 1}`),
                $("#resultWordsHistory .heatmapLegend .box" + t).html(
                  `<div>${o}</div>`
                );
            }),
              $("#resultWordsHistory .words .word").each((e, t) => {
                let o = "";
                const n = $(t).attr("burst");
                if (void 0 === n) o = "unreached";
                else {
                  const e = parseInt(n);
                  s.forEach((t) => {
                    e >= t.val && (o = t.class);
                  });
                }
                $(t).addClass(o);
              });
          } else
            $("#resultWordsHistory .heatmapLegend").addClass("hidden"),
              $("#resultWordsHistory .words .word").removeClass("heatmap0"),
              $("#resultWordsHistory .words .word").removeClass("heatmap1"),
              $("#resultWordsHistory .words .word").removeClass("heatmap2"),
              $("#resultWordsHistory .words .word").removeClass("heatmap3"),
              $("#resultWordsHistory .words .word").removeClass("heatmap4"),
              $("#resultWordsHistory .words .word").removeClass("unreached");
        }
        (t.lineJump = function (e) {
          var o, n;
          if (
            ("off" === d.default.tapeMode && t.currentTestLine > 0) ||
            ("off" !== d.default.tapeMode && t.currentTestLine >= 0)
          ) {
            const a = e,
              i = [],
              s = $("#words .word");
            for (let e = 0; e < t.currentWordElementIndex; e++)
              $(s[e]).hasClass("hidden") ||
                (Math.floor(s[e].offsetTop) <
                  ("off" === d.default.tapeMode ? a - 10 : a + 10) &&
                  i.push($($("#words .word")[e])));
            const r = $(document.querySelector(".word")).outerHeight(!0);
            if (d.default.smoothLineScroll && i.length > 0) {
              t.lineTransition = !0;
              const e = $("#words .smoothScroller");
              0 === e.length
                ? $("#words").prepend(
                    `<div class="smoothScroller" style="position: fixed;height:${r}px;width:100%"></div>`
                  )
                : e.css(
                    "height",
                    `${
                      (null !== (o = e.outerHeight(!0)) && void 0 !== o
                        ? o
                        : 0) + r
                    }px`
                  ),
                $("#words .smoothScroller")
                  .stop(!0, !1)
                  .animate({ height: 0 }, w.get() ? 0 : 125, () => {
                    $("#words .smoothScroller").remove();
                  }),
                $("#paceCaret")
                  .stop(!0, !1)
                  .animate(
                    {
                      top:
                        (null === (n = document.querySelector("#paceCaret")) ||
                        void 0 === n
                          ? void 0
                          : n.offsetTop) - r,
                    },
                    w.get() ? 0 : 125
                  );
              const a = { marginTop: `-${r * (I + 1)}px` };
              if ("off" !== d.default.tapeMode) {
                const e =
                  document.querySelector("#wordsWrapper").offsetWidth / 2;
                a.marginLeft = `${e}px`;
              }
              I++,
                $("#words")
                  .stop(!0, !1)
                  .animate(a, w.get() ? 0 : 125, () => {
                    (I = 0),
                      (t.activeWordTop =
                        document.querySelector("#words .active").offsetTop),
                      (t.currentWordElementIndex -= i.length),
                      (t.lineTransition = !1),
                      i.forEach((e) => e.remove()),
                      $("#words").css("marginTop", "0");
                  });
            } else
              i.forEach((e) => e.remove()),
                (t.currentWordElementIndex -= i.length),
                $("#paceCaret").css({
                  top: document.querySelector("#paceCaret").offsetTop - r,
                });
          }
          t.currentTestLine++;
        }),
          (t.arrangeCharactersRightToLeft = function () {
            $("#words").addClass("rightToLeftTest"),
              $("#resultWordsHistory .words").addClass("rightToLeftTest"),
              $("#resultReplay .words").addClass("rightToLeftTest");
          }),
          (t.arrangeCharactersLeftToRight = function () {
            $("#words").removeClass("rightToLeftTest"),
              $("#resultWordsHistory .words").removeClass("rightToLeftTest"),
              $("#resultReplay .words").removeClass("rightToLeftTest");
          }),
          (t.toggleResultWords = D),
          (t.applyBurstHeatmap = R),
          (t.highlightBadWord = function (e, t) {
            t && $($("#words .word")[e]).addClass("error");
          }),
          $(".pageTest").on("click", "#saveScreenshotButton", () => {
            B();
          }),
          $("#saveScreenshotButton").on("keypress", (e) => {
            "Enter" === e.key && B();
          }),
          $(".pageTest #copyWordsListButton").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              try {
                let e;
                (e =
                  "zen" == d.default.mode
                    ? h.input.history.join(" ")
                    : f.words.get().slice(0, h.input.history.length).join(" ")),
                  yield navigator.clipboard.writeText(e),
                  u.add("Copied to clipboard", 0, 2);
              } catch (e) {
                u.add("Could not copy to clipboard: " + e, -1);
              }
            })
          ),
          $(".pageTest #toggleBurstHeatmap").on("click", () =>
            s(void 0, void 0, void 0, function* () {
              c.setBurstHeatmap(!d.default.burstHeatmap);
            })
          ),
          $(".pageTest #resultWordsHistory").on(
            "mouseleave",
            ".words .word",
            () => {
              $(".wordInputAfter").remove();
            }
          ),
          $(".pageTest #result #wpmChart").on("mouseleave", () => {
            $(".wordInputAfter").remove();
          }),
          $(".pageTest #resultWordsHistory").on(
            "mouseenter",
            ".words .word",
            (e) => {
              if (t.resultVisible) {
                const t = $(e.currentTarget).attr("input"),
                  o = parseInt($(e.currentTarget).attr("burst"));
                null != t &&
                  $(e.currentTarget).append(
                    `<div class="wordInputAfter">\n          <div class="text">\n          ${t
                      .replace(/\t/g, "_")
                      .replace(/\n/g, "_")
                      .replace(/</g, "&lt")
                      .replace(
                        />/g,
                        "&gt"
                      )}\n          </div>\n          <div class="speed">\n          ${Math.round(
                      d.default.alwaysShowCPM ? 5 * o : o
                    )}${
                      d.default.alwaysShowCPM ? "cpm" : "wpm"
                    }\n          </div>\n          </div>`
                  );
              }
            }
          ),
          $("#wordsInput").on("focus", () => {
            !t.resultVisible && d.default.showOutOfFocusWarning && v.hide(),
              g.show();
          }),
          $("#wordsInput").on("focusout", () => {
            !t.resultVisible && d.default.showOutOfFocusWarning && v.show(),
              g.hide();
          }),
          $(document).on("keypress", "#showWordHistoryButton", (e) => {
            "Enter" === e.key && D();
          }),
          $(".pageTest").on("click", "#showWordHistoryButton", () => {
            D();
          }),
          $("#wordsWrapper").on("click", () => {
            O();
          }),
          $(document).on("keypress", () => {
            t.resultVisible && (0, k.skipXpBreakdown)();
          });
      },
      9470: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.setHasTab =
            t.setRandomQuote =
            t.randomQuote =
            t.hasTab =
            t.words =
              void 0),
          (t.words = new (class {
            constructor() {
              (this.list = []), (this.length = 0), (this.currentIndex = 0);
            }
            get(e, t = !1) {
              var o, n;
              return void 0 === e
                ? this.list
                : t
                ? null ===
                    (n =
                      null === (o = this.list[e]) || void 0 === o
                        ? void 0
                        : o.replace(/[.?!":\-,]/g, "")) || void 0 === n
                  ? void 0
                  : n.toLowerCase()
                : this.list[e];
            }
            getCurrent() {
              return this.list[this.currentIndex];
            }
            getLast() {
              return this.list[this.list.length - 1];
            }
            push(e) {
              this.list.push(e), (this.length = this.list.length);
            }
            reset() {
              (this.list = []),
                (this.currentIndex = 0),
                (this.length = this.list.length);
            }
            resetCurrentIndex() {
              this.currentIndex = 0;
            }
            decreaseCurrentIndex() {
              this.currentIndex--;
            }
            increaseCurrentIndex() {
              this.currentIndex++;
            }
            clean() {
              for (const e of this.list)
                if (/ +/.test(e)) {
                  const t = this.list.indexOf(e),
                    o = e.split(" ");
                  this.list.splice(t, 1);
                  for (let e = 0; e < o.length; e++)
                    this.list.splice(t + e, 0, o[e]);
                }
            }
          })()),
          (t.hasTab = !1),
          (t.randomQuote = null),
          (t.setRandomQuote = function (e) {
            t.randomQuote = e;
          }),
          (t.setHasTab = function (e) {
            t.hasTab = e;
          });
      },
      8824: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateStyle = t.update = t.restart = t.hide = t.show = void 0);
        const r = s(o(6705)),
          u = i(o(8248)),
          l = i(o(3388)),
          d = i(o(9470)),
          c = i(o(4897)),
          p = i(o(195)),
          f = i(o(210)),
          h = i(o(6443)),
          m = i(o(1446));
        function g() {
          const e = r.default.showTimerProgress ? r.default.timerOpacity : 0;
          "zen" != r.default.mode && "bar" === r.default.timerStyle
            ? $("#timerWrapper")
                .stop(!0, !0)
                .removeClass("hidden")
                .animate({ opacity: e }, 125)
            : "text" === r.default.timerStyle
            ? $("#timerNumber")
                .stop(!0, !0)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate({ opacity: e }, 125)
            : ("zen" != r.default.mode && "mini" !== r.default.timerStyle) ||
              (e > 0 &&
                $("#miniTimerAndLiveWpm .time")
                  .stop(!0, !0)
                  .removeClass("hidden")
                  .animate({ opacity: e }, 125));
        }
        function v() {
          $("#timerWrapper").stop(!0, !0).animate({ opacity: 0 }, 125),
            $("#miniTimerAndLiveWpm .time")
              .stop(!0, !0)
              .animate({ opacity: 0 }, 125, () => {
                $("#miniTimerAndLiveWpm .time").addClass("hidden");
              }),
            $("#timerNumber").stop(!0, !0).animate({ opacity: 0 }, 125);
        }
        (t.show = g),
          (t.hide = v),
          (t.restart = function () {
            "bar" === r.default.timerStyle &&
              ("time" === r.default.mode
                ? $("#timer").stop(!0, !0).animate({ width: "100vw" }, 0)
                : ("words" !== r.default.mode && "custom" !== r.default.mode) ||
                  $("#timer").stop(!0, !0).animate({ width: "0vw" }, 0));
          });
        const y = document.querySelector("#timerNumber"),
          b = document.querySelector("#miniTimerAndLiveWpm .time");
        function w() {
          var e, t, o;
          const n = p.get();
          if (
            "time" === r.default.mode ||
            ("custom" === r.default.mode && u.isTimeRandom)
          ) {
            let e = r.default.time;
            if (
              ("custom" === r.default.mode && u.isTimeRandom && (e = u.time),
              "bar" === r.default.timerStyle)
            ) {
              const t = 100 - ((n + 1) / e) * 100;
              $("#timer")
                .stop(!0, !0)
                .animate({ width: t + "vw" }, f.get() ? 0 : 1e3, "linear");
            } else if ("text" === r.default.timerStyle) {
              let t = l.secondsToString(e - n);
              0 === e && (t = l.secondsToString(n)),
                null !== y && (y.innerHTML = "<div>" + t + "</div>");
            } else if ("mini" === r.default.timerStyle) {
              let t = l.secondsToString(e - n);
              0 === e && (t = l.secondsToString(n)),
                null !== b && (b.innerHTML = t);
            }
          } else if (
            "words" === r.default.mode ||
            "custom" === r.default.mode ||
            "quote" === r.default.mode
          ) {
            let n = d.words.length;
            if (
              ("words" === r.default.mode && (n = r.default.words),
              "custom" === r.default.mode &&
                (n = u.isWordRandom ? u.word : u.text.length),
              "quote" === r.default.mode &&
                (n =
                  null !==
                    (o =
                      null ===
                        (t =
                          null === (e = d.randomQuote) || void 0 === e
                            ? void 0
                            : e.textSplit) || void 0 === t
                        ? void 0
                        : t.length) && void 0 !== o
                    ? o
                    : 1),
              "bar" === r.default.timerStyle)
            ) {
              const e = Math.floor(((d.words.currentIndex + 1) / n) * 100);
              $("#timer")
                .stop(!0, !0)
                .animate({ width: e + "vw" }, f.get() ? 0 : 250);
            } else
              "text" === r.default.timerStyle
                ? 0 === n
                  ? null !== y &&
                    (y.innerHTML = `<div>${c.input.history.length}</div>`)
                  : null !== y &&
                    (y.innerHTML = `<div>${c.input.history.length}/${n}</div>`)
                : "mini" === r.default.timerStyle &&
                  (0 === r.default.words
                    ? null !== b && (b.innerHTML = `${c.input.history.length}`)
                    : null !== b &&
                      (b.innerHTML = `${c.input.history.length}/${n}`));
          } else
            "zen" == r.default.mode &&
              ("text" === r.default.timerStyle
                ? null !== y &&
                  (y.innerHTML = `<div>${c.input.history.length}</div>`)
                : null !== b && (b.innerHTML = `${c.input.history.length}`));
        }
        function C() {
          h.get() &&
            (v(),
            w(),
            setTimeout(() => {
              g();
            }, 125));
        }
        (t.update = w),
          (t.updateStyle = C),
          m.subscribe((e, t) => {
            "showTimerProgress" === e && (!0 === t && h.get() ? g() : v()),
              "timerStyle" === e && C();
          });
      },
      2026: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.addAllFromToday = t.getString = t.addSeconds = void 0);
        const s = i(o(3388)),
          r = i(o(6350));
        let u,
          l = 0,
          d = !1;
        (t.addSeconds = function (e) {
          d && new Date().getDate() > u ? (l = e) : (l += e);
        }),
          (t.getString = function () {
            return (
              s.secondsToString(Math.round(l), !0, !0) +
              (!0 === d ? " today" : " session")
            );
          }),
          (t.addAllFromToday = function () {
            const e = new Date();
            e.setSeconds(0),
              e.setMinutes(0),
              e.setHours(0),
              e.setMilliseconds(0),
              (u = e.getDate());
            const t = e.getTime();
            l = 0;
            const o = r.getSnapshot();
            if (!o) return;
            const n = o.results;
            null == n ||
              n.forEach((e) => {
                const o = new Date(e.timestamp);
                o.setSeconds(0),
                  o.setMinutes(0),
                  o.setHours(0),
                  o.setMilliseconds(0),
                  o.getTime() >= t &&
                    (l +=
                      e.testDuration + e.incompleteTestSeconds - e.afkDuration);
              }),
              (d = !0);
          });
      },
      6857: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.speak = t.clear = t.init = t.setLanguage = void 0);
        const u = r(o(6705)),
          l = i(o(3388)),
          d = i(o(1446));
        let c;
        function p(e = u.default.language) {
          return s(this, void 0, void 0, function* () {
            if (!c) return;
            const t = yield l.getLanguage(e),
              o = t.bcp47 ? t.bcp47 : "en-US";
            c.lang = o;
          });
        }
        function f() {
          return s(this, void 0, void 0, function* () {
            (c = new SpeechSynthesisUtterance()), p();
          });
        }
        function h() {
          c = void 0;
        }
        (t.setLanguage = p),
          (t.init = f),
          (t.clear = h),
          (t.speak = function (e) {
            window.speechSynthesis.cancel(),
              void 0 === c && f(),
              void 0 !== c && ((c.text = e), window.speechSynthesis.speak(c));
          }),
          d.subscribe((e, t) => {
            "funbox" === e && ("none" === t ? h() : "tts" === t && f()),
              "language" === e && "tts" === u.default.funbox && p();
          });
      },
      5708: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getWord = t.updateScore = void 0);
        const s = i(o(4897)),
          r = {};
        class u {
          constructor() {
            (this.average = 0), (this.count = 0);
          }
          update(e) {
            this.count < 50 && this.count++;
            const t = 1 / this.count;
            this.average = e * t + this.average * (1 - t);
          }
        }
        function l(e) {
          let t = 0,
            o = 0;
          for (const n of e) n in r && ((t += r[n].average), o++);
          return 0 == o ? 0 : t / o;
        }
        (t.updateScore = function (e, t) {
          const o = s.keypressTimings.spacing.array;
          if (0 === o.length || "string" == typeof o) return;
          let n = o[o.length - 1];
          t || (n += 5e3), e in r || (r[e] = new u()), r[e].update(n);
        }),
          (t.getWord = function (e) {
            let t,
              o = "";
            for (let n = 0; n < 20; n++) {
              const a = e.randomWord(),
                i = l(a);
              (0 == n || void 0 === t || i > t) && ((o = a), (t = i));
            }
            return o;
          });
      },
      277: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getSection = t.getTLD = t.Section = void 0);
        const r = i(o(9817)),
          u = i(o(3388));
        class l {
          constructor(e, t, o) {
            (this.title = e), (this.author = t), (this.words = o);
          }
        }
        function d(e) {
          return s(this, void 0, void 0, function* () {
            switch (e.name) {
              case "english":
              default:
                return "en";
              case "spanish":
                return "es";
              case "french":
                return "fr";
              case "german":
                return "de";
              case "portuguese":
                return "pt";
              case "italian":
                return "it";
              case "dutch":
                return "nl";
            }
          });
        }
        (t.Section = l),
          (t.getTLD = d),
          (t.getSection = function (e) {
            return s(this, void 0, void 0, function* () {
              r.show();
              let t,
                o = "en";
              try {
                t = yield u.findCurrentGroup(e);
              } catch (e) {
                console.error(
                  u.createErrorMessage(
                    e,
                    "Failed to find current language group"
                  )
                );
              }
              void 0 !== t && (o = yield d(t));
              const n = `https://${o}.wikipedia.org/api/rest_v1/page/random/summary`,
                a = { title: "", author: "" },
                i = yield fetch(n);
              let s = 0;
              if (200 == i.status) {
                const e = yield i.json();
                (a.title = e.title), (a.author = e.author), (s = e.pageid);
              }
              return new Promise((e, t) => {
                200 != i.status && (r.hide(), t(i.status));
                const n = `https://${o}.wikipedia.org/w/api.php?action=query&format=json&pageids=${s}&prop=extracts&exintro=true&origin=*`,
                  u = new XMLHttpRequest();
                (u.onload = () => {
                  if (4 == u.readyState)
                    if (200 == u.status) {
                      let t = JSON.parse(u.responseText).query.pages[
                        s.toString()
                      ].extract;
                      (t = t.replace(/<\/p><p>+/g, " ")),
                        (t = $("<div/>").html(t).text()),
                        (t = t.replace(/\[\d+\]/gi, "")),
                        (t = t.replace(/[\u200B-\u200D\uFEFF]/g, "")),
                        (t = t.replace(/\s+/g, " ")),
                        (t = t.trim());
                      const o = t.split(" "),
                        n = new l(a.title, a.author, o);
                      r.hide(), e(n);
                    } else r.hide(), t(u.status);
                }),
                  u.open("GET", n),
                  u.send();
              });
            });
          });
      },
      4905: (e, t, o) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.withWords = t.Wordset = void 0);
        const n = o(3388);
        let a = null,
          i = null;
        class s {
          constructor(e) {
            (this.words = e), (this.length = this.words.length);
          }
          randomWord() {
            return (0, n.randomElementFromArray)(this.words);
          }
        }
        t.Wordset = s;
        class r {
          constructor() {
            (this.chars = {}), (this.count = 0);
          }
          addChar(e) {
            this.count++,
              e in this.chars ? this.chars[e]++ : (this.chars[e] = 1);
          }
          randomChar() {
            const e = (0, n.randomIntFromRange)(0, this.count - 1);
            let t = 0;
            for (const [o, n] of Object.entries(this.chars))
              if (((t += n), t > e)) return o;
            return Object.keys(this.chars)[0];
          }
        }
        class u extends s {
          constructor(e) {
            super(e), (this.ngrams = {}), (this.length = 1 / 0);
            for (let t of e) {
              t += " ";
              let e = "";
              for (const o of t)
                e in this.ngrams || (this.ngrams[e] = new r()),
                  this.ngrams[e].addChar(o),
                  (e = (e + o).substr(-2));
            }
          }
          randomWord() {
            let e = "";
            for (;;) {
              const t = e.substr(-2),
                o = this.ngrams[t];
              if (!o) {
                e = "";
                continue;
              }
              const n = o.randomChar();
              if (" " == n) break;
              e += n;
            }
            return e;
          }
        }
        t.withWords = function (e, t) {
          return "pseudolang" == t
            ? ((null != i && e === i.words) || (i = new u(e)), i)
            : ((null != a && e === a.words) || (a = new s(e)), a);
        };
      },
      5209: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.updateKeytips = void 0);
        const u = r(o(6705)),
          l = i(o(4292)),
          d = i(o(3368)),
          c = i(o(8248)),
          p = i(o(6443)),
          f = i(o(1446)),
          h = o(2189),
          m = i(o(8673)),
          g = o(7346);
        function v() {
          const e = window.navigator.userAgent.toLowerCase().includes("mac")
            ? "cmd"
            : "ctrl";
          "esc" === u.default.quickRestart
            ? $(".pageSettings .tip").html(
                `\n    tip: You can also change all these settings quickly using the\n    command line (<key>${e}</key>+<key>shift</key>+<key>p</key>)`
              )
            : $(".pageSettings .tip").html(
                `\n    tip: You can also change all these settings quickly using the\n    command line (<key>esc</key> or <key>${e}</key>+<key>shift</key>+<key>p</key>)`
              ),
            "esc" === u.default.quickRestart
              ? $("#bottom .keyTips").html(
                  `\n    <key>esc</key> - restart test<br>\n    <key>tab</key> or <key>${e}</key>+<key>shift</key>+<key>p</key> - command line`
                )
              : "tab" === u.default.quickRestart
              ? $("#bottom .keyTips").html(
                  `\n    <key>tab</key> - restart test<br>\n      <key>esc</key> or <key>${e}</key>+<key>shift</key>+<key>p</key> - command line`
                )
              : $("#bottom .keyTips").html(
                  `\n    <key>tab</key> + <key>enter</key> - restart test<br>\n    <key>esc</key> or <key>${e}</key>+<key>shift</key>+<key>p</key> - command line`
                );
        }
        (t.updateKeytips = v),
          "localhost" === window.location.hostname &&
            ((window.onerror = function (e) {
              d.add(e.toString(), -1);
            }),
            $("#top .logo .top").text("localhost"),
            $("head title").text($("head title").text() + " (localhost)"),
            $("body").append(
              '<div class="devIndicator tl">local</div><div class="devIndicator br">local</div>'
            )),
          window.addEventListener("keydown", function (e) {
            "Space" === e.code &&
              e.target === document.body &&
              e.preventDefault();
          }),
          window.addEventListener("beforeunload", (e) => {
            ("words" === u.default.mode && u.default.words < 1e3) ||
              ("time" === u.default.mode && u.default.time < 3600) ||
              "quote" === u.default.mode ||
              ("custom" === u.default.mode && c.isWordRandom && c.word < 1e3) ||
              ("custom" === u.default.mode && c.isTimeRandom && c.time < 1e3) ||
              ("custom" === u.default.mode &&
                !c.isWordRandom &&
                c.text.length < 1e3) ||
              (p.get() && (e.preventDefault(), (e.returnValue = "")));
          });
        const y = (0, h.debounce)(250, () =>
            s(void 0, void 0, void 0, function* () {
              l.updatePosition(),
                "off" === u.default.tapeMode ||
                  "test" !== (0, g.get)() ||
                  m.resultVisible ||
                  m.scrollTape(),
                setTimeout(() => {
                  l.show();
                }, 250);
            })
          ),
          b = (0, h.throttle)(250, () => {
            l.hide();
          });
        $(window).on("resize", () => {
          b(), y();
        }),
          f.subscribe((e) => {
            "quickRestart" === e && v();
          });
      },
      3388: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.isUsernameValid =
            t.cleanTypographySymbols =
            t.escapeHTML =
            t.escapeRegExp =
            t.remove_non_ascii =
            t.getWords =
            t.toggleFullscreen =
            t.objectToQueryString =
            t.checkIfGetParameterExists =
            t.findGetParameter =
            t.getPositionString =
            t.getArrows =
            t.getASCII =
            t.getSpecials =
            t.convertNumberToNepali =
            t.convertNumberToArabic =
            t.getNumbers =
            t.secondsToString =
            t.getGibberish =
            t.findLineByLeastSquares =
            t.roundTo2 =
            t.whorf =
            t.kogasa =
            t.isASCIILetter =
            t.capitalizeFirstLetterOfEachWord =
            t.getLastChar =
            t.getReleasesFromGitHub =
            t.getLatestReleaseFromGitHub =
            t.median =
            t.mean =
            t.stdDev =
            t.smooth =
            t.isColorDark =
            t.isColorLight =
            t.getContributorsList =
            t.getSupportersList =
            t.getChallengeList =
            t.getFontsList =
            t.getFunbox =
            t.getFunboxList =
            t.findCurrentGroup =
            t.getCurrentLanguage =
            t.getLanguage =
            t.getLanguageGroups =
            t.getLanguageList =
            t.getSortedThemesList =
            t.getThemesList =
            t.getLayout =
            t.getLayoutsList =
            t.cachedFetchJson =
              void 0),
          (t.areSortedArraysEqual =
            t.areUnsortedArraysEqual =
            t.isPasswordStrong =
            t.memoizeAsync =
            t.sleep =
            t.abbreviateNumber =
            t.promiseAnimation =
            t.getXpForLevel =
            t.getLevel =
            t.getDiscordAvatarUrl =
            t.isAnyPopupVisible =
            t.createErrorMessage =
            t.randomElementFromObject =
            t.randomElementFromArray =
            t.shuffle =
            t.randomIntFromRange =
            t.downloadResultsCSV =
            t.getMode2 =
            t.swapElements =
            t.convertRemToPixels =
            t.trailingComposeChars =
            t.convertRGBtoHEX =
            t.regexIndexOf =
            t.setCharAt =
            t.clearTimeouts =
            t.canQuickRestart =
            t.mapRange =
              void 0);
        const r = i(o(9817));
        function u() {
          return s(this, void 0, void 0, function* () {
            try {
              return yield (0, t.cachedFetchJson)("/./layouts/_list.json");
            } catch (e) {
              throw new Error("Layouts JSON fetch failed");
            }
          });
        }
        let l, d, c, p, f;
        function h() {
          return s(this, void 0, void 0, function* () {
            if (l) return l;
            {
              let e = yield (0, t.cachedFetchJson)("/./themes/_list.json");
              return (
                (e = e.sort(function (e, t) {
                  const o = e.name.toLowerCase(),
                    n = t.name.toLowerCase();
                  return o < n ? -1 : o > n ? 1 : 0;
                })),
                (l = e),
                l
              );
            }
          });
        }
        function m() {
          return s(this, void 0, void 0, function* () {
            try {
              return yield (0, t.cachedFetchJson)("/./languages/_groups.json");
            } catch (e) {
              throw new Error("Language groups JSON fetch failed");
            }
          });
        }
        function g(e) {
          return s(this, void 0, void 0, function* () {
            return (
              (null != c && c.name === e) ||
                (c = yield (0, t.cachedFetchJson)(`/./languages/${e}.json`)),
              c
            );
          });
        }
        function v() {
          return s(this, void 0, void 0, function* () {
            if (p) return p;
            {
              let e = yield (0, t.cachedFetchJson)("/./funbox/_list.json");
              return (
                (e = e.sort(function (e, t) {
                  const o = e.name.toLowerCase(),
                    n = t.name.toLowerCase();
                  return o < n ? -1 : o > n ? 1 : 0;
                })),
                (p = e),
                p
              );
            }
          });
        }
        function y(e) {
          let t, o, n;
          4 == e.length
            ? ((t = "0x" + e[1] + e[1]),
              (o = "0x" + e[2] + e[2]),
              (n = "0x" + e[3] + e[3]))
            : 7 == e.length
            ? ((t = "0x" + e[1] + e[2]),
              (o = "0x" + e[3] + e[4]),
              (n = "0x" + e[5] + e[6]))
            : ((t = 0), (o = 0), (n = 0)),
            (t /= 255),
            (o /= 255),
            (n /= 255);
          const a = Math.min(t, o, n),
            i = Math.max(t, o, n),
            s = i - a;
          let r = 0,
            u = 0,
            l = 0;
          return (
            (r =
              0 == s
                ? 0
                : i == t
                ? ((o - n) / s) % 6
                : i == o
                ? (n - t) / s + 2
                : (t - o) / s + 4),
            (r = Math.round(60 * r)),
            r < 0 && (r += 360),
            (l = (i + a) / 2),
            (u = 0 == s ? 0 : s / (1 - Math.abs(2 * l - 1))),
            (u = +(100 * u).toFixed(1)),
            (l = +(100 * l).toFixed(1)),
            {
              hue: r,
              sat: u,
              lgt: l,
              string: "hsl(" + r + "," + u + "%," + l + "%)",
            }
          );
        }
        function b(e) {
          return Math.round(100 * (e + Number.EPSILON)) / 100;
        }
        function w(e, t) {
          const o = Math.ceil(e),
            n = Math.floor(t);
          return Math.floor(Math.random() * (n - o + 1) + o);
        }
        function C(e) {
          return e[w(0, e.length - 1)];
        }
        function _(e, t) {
          const o = new Map();
          return (...n) =>
            s(this, void 0, void 0, function* () {
              const a = t ? t.apply(n) : n[0];
              if (o.has(a)) {
                const e = yield o.get(a);
                if (void 0 !== e) return e;
              }
              const i = e.apply(null, n);
              return o.set(a, i), i;
            });
        }
        (t.cachedFetchJson = _(function (e) {
          return s(this, void 0, void 0, function* () {
            try {
              if (!e) throw new Error("No URL");
              const t = yield fetch(e);
              if (t.ok) return yield t.json();
              throw new Error(`${t.status} ${t.statusText}`);
            } catch (t) {
              throw (console.error("Error fetching JSON: " + e, t), t);
            }
          });
        })),
          (t.getLayoutsList = u),
          (t.getLayout = function (e) {
            return s(this, void 0, void 0, function* () {
              const t = (yield u())[e];
              if (void 0 === t) throw new Error(`Layout ${e} is undefined`);
              return t;
            });
          }),
          (t.getThemesList = h),
          (t.getSortedThemesList = function () {
            return s(this, void 0, void 0, function* () {
              if (d) return d;
              {
                if ((l || (yield h()), !l))
                  throw new Error("Themes list is undefined");
                let e = [...l];
                return (
                  (e = e.sort((e, t) => {
                    const o = y(e.bgColor);
                    return y(t.bgColor).lgt - o.lgt;
                  })),
                  (d = e),
                  d
                );
              }
            });
          }),
          (t.getLanguageList = function () {
            return s(this, void 0, void 0, function* () {
              try {
                return yield (0, t.cachedFetchJson)("/./languages/_list.json");
              } catch (e) {
                throw new Error("Language list JSON fetch failed");
              }
            });
          }),
          (t.getLanguageGroups = m),
          (t.getLanguage = g),
          (t.getCurrentLanguage = function (e) {
            return s(this, void 0, void 0, function* () {
              return yield g(e);
            });
          }),
          (t.findCurrentGroup = function (e) {
            return s(this, void 0, void 0, function* () {
              let t;
              return (
                (yield m()).forEach((o) => {
                  void 0 === t && o.languages.includes(e) && (t = o);
                }),
                t
              );
            });
          }),
          (t.getFunboxList = v),
          (t.getFunbox = function (e) {
            return s(this, void 0, void 0, function* () {
              return (yield v()).find(function (t) {
                return t.name == e;
              });
            });
          }),
          (t.getFontsList = function () {
            return s(this, void 0, void 0, function* () {
              if (f) return f;
              {
                let e = yield (0, t.cachedFetchJson)("/./fonts/_list.json");
                return (
                  (e = e.sort(function (e, t) {
                    const o = e.name.toLowerCase(),
                      n = t.name.toLowerCase();
                    return o < n ? -1 : o > n ? 1 : 0;
                  })),
                  (f = e),
                  f
                );
              }
            });
          }),
          (t.getChallengeList = function () {
            return s(this, void 0, void 0, function* () {
              try {
                return yield (0, t.cachedFetchJson)("/./challenges/_list.json");
              } catch (e) {
                throw new Error("Challenge list JSON fetch failed");
              }
            });
          }),
          (t.getSupportersList = function () {
            return s(this, void 0, void 0, function* () {
              try {
                return yield (0, t.cachedFetchJson)("/./about/supporters.json");
              } catch (e) {
                throw new Error("Supporters list JSON fetch failed");
              }
            });
          }),
          (t.getContributorsList = function () {
            return s(this, void 0, void 0, function* () {
              try {
                return yield (0,
                t.cachedFetchJson)("/./about/contributors.json");
              } catch (e) {
                throw new Error("Contributors list JSON fetch failed");
              }
            });
          }),
          (t.isColorLight = function (e) {
            return y(e).lgt >= 50;
          }),
          (t.isColorDark = function (e) {
            return y(e).lgt < 50;
          }),
          (t.smooth = function (e, t, o = (e) => e) {
            const n = o,
              a = [];
            for (let o = 0; o < e.length; o += 1) {
              const i = o - t,
                s = o + t + 1;
              let r = 0,
                u = 0;
              for (let t = i >= 0 ? i : 0; t < s && t < e.length; t += 1)
                (u += n(e[t])), (r += 1);
              a[o] = u / r;
            }
            return a;
          }),
          (t.stdDev = function (e) {
            try {
              const t = e.length,
                o = e.reduce((e, t) => e + t) / t;
              return Math.sqrt(
                e.map((e) => Math.pow(e - o, 2)).reduce((e, t) => e + t) / t
              );
            } catch (e) {
              return 0;
            }
          }),
          (t.mean = function (e) {
            try {
              return e.reduce((e, t) => t + e) / e.length;
            } catch (e) {
              return 0;
            }
          }),
          (t.median = function (e) {
            try {
              const t = Math.floor(e.length / 2),
                o = [...e].sort((e, t) => e - t);
              return e.length % 2 != 0 ? o[t] : (o[t - 1] + o[t]) / 2;
            } catch (e) {
              return 0;
            }
          }),
          (t.getLatestReleaseFromGitHub = function () {
            return s(this, void 0, void 0, function* () {
              return (yield $.getJSON(
                "https://api.github.com/repos/monkeytypegame/monkeytype/releases?per_page=1"
              ))[0].name;
            });
          }),
          (t.getReleasesFromGitHub = function () {
            return s(this, void 0, void 0, function* () {
              return $.getJSON(
                "https://api.github.com/repos/monkeytypegame/monkeytype/releases?per_page=5"
              );
            });
          }),
          (t.getLastChar = function (e) {
            try {
              return e.charAt(e.length - 1);
            } catch (e) {
              return "";
            }
          }),
          (t.capitalizeFirstLetterOfEachWord = function (e) {
            return e
              .split(/ +/)
              .map((e) => e.charAt(0).toUpperCase() + e.slice(1))
              .join(" ");
          }),
          (t.isASCIILetter = function (e) {
            return 1 === e.length && /[a-z]/i.test(e);
          }),
          (t.kogasa = function (e) {
            return (
              100 * (1 - Math.tanh(e + Math.pow(e, 3) / 3 + Math.pow(e, 5) / 5))
            );
          }),
          (t.whorf = function (e, t) {
            return Math.min(e, Math.floor(e * Math.pow(1.03, -2 * (t - 3))));
          }),
          (t.roundTo2 = b),
          (t.findLineByLeastSquares = function (e) {
            let t = 0,
              o = 0,
              n = 0,
              a = 0,
              i = 0,
              s = 0,
              r = 0;
            const u = e.length;
            if (0 === u) return [[], []];
            for (let l = 0; l < u; l++)
              (s = l + 1),
                (r = e[l]),
                (t += s),
                (o += r),
                (a += s * s),
                (n += s * r),
                i++;
            const l = (i * n - t * o) / (i * a - t * t),
              d = o / i - (l * t) / i;
            return [
              [1, 1 * l + d],
              [u, u * l + d],
            ];
          }),
          (t.getGibberish = function () {
            const e = w(1, 7);
            let t = "";
            for (let o = 0; o < e; o++) t += String.fromCharCode(97 + w(0, 25));
            return t;
          }),
          (t.secondsToString = function (
            e,
            t = !1,
            o = !1,
            n = ":",
            a = !0,
            i = !1
          ) {
            e = Math.abs(e);
            let s,
              r = 0;
            i
              ? ((r = Math.floor(e / 86400)),
                (s = Math.floor((e % 86400) / 3600)))
              : (s = Math.floor(e / 3600));
            const u = Math.floor((e % 3600) / 60),
              l = b((e % 3600) % 60);
            let d, c, p, f;
            i && (d = r < 10 && "text" !== n ? "0" + r : r),
              (c = s < 10 && "text" !== n ? "0" + s : s),
              (p = u < 10 && "text" !== n ? "0" + u : u),
              (f =
                l < 10 && (u > 0 || s > 0 || t) && "text" !== n ? "0" + l : l);
            let h = "";
            return (
              r > 0 &&
                i &&
                ((h += d),
                (h += "text" === n ? (1 == r ? " day " : " days ") : n)),
              (s > 0 || o) &&
                ((h += c),
                (h += "text" === n ? (1 == s ? " hour " : " hours ") : n)),
              (u > 0 || s > 0 || t) &&
                ((h += p),
                "text" === n
                  ? (h += 1 == u ? " minute " : " minutes ")
                  : a && (h += n)),
              a &&
                ((h += f),
                "text" === n && (h += 1 == l ? " second" : " seconds")),
              0 !== s ||
                0 !== u ||
                a ||
                "text" !== n ||
                (h = "less than 1 minute"),
              h.trim()
            );
          }),
          (t.getNumbers = function (e) {
            const t = w(1, e);
            let o = "";
            for (let e = 0; e < t; e++) {
              let t;
              (t = w(0 === e ? 1 : 0, 9)), (o += t.toString());
            }
            return o;
          }),
          (t.convertNumberToArabic = function (e) {
            let t = "";
            for (let o = 0; o < e.length; o++)
              t += ""[parseInt(e[o])];
            return t;
          }),
          (t.convertNumberToNepali = function (e) {
            let t = "";
            for (let o = 0; o < e.length; o++)
              t += ""[parseInt(e[o])];
            return t;
          }),
          (t.getSpecials = function () {
            const e = w(1, 7);
            let t = "";
            const o = [
              "!",
              "@",
              "#",
              "$",
              "%",
              "^",
              "&",
              "*",
              "(",
              ")",
              "-",
              "_",
              "=",
              "+",
              "{",
              "}",
              "[",
              "]",
              "'",
              '"',
              "/",
              "\\",
              "|",
              "?",
              ";",
              ":",
              ">",
              "<",
            ];
            for (let n = 0; n < e; n++) t += C(o);
            return t;
          }),
          (t.getASCII = function () {
            const e = w(1, 10);
            let t = "";
            for (let o = 0; o < e; o++) {
              const e = 33 + w(0, 93);
              t += String.fromCharCode(e);
            }
            return t;
          }),
          (t.getArrows = function () {
            const e = ["", "", "", ""];
            let t,
              o = "";
            for (let n = 0; n < 5; n++) {
              let n = C(e);
              for (; n === t; ) n = C(e);
              (t = n), (o += n);
            }
            return o;
          }),
          (t.getPositionString = function (e) {
            let t = "th";
            const o = e % 10,
              n = e % 100;
            return (
              1 == o && 11 != n && (t = "st"),
              2 == o && 12 != n && (t = "nd"),
              3 == o && 13 != n && (t = "rd"),
              e + t
            );
          }),
          (t.findGetParameter = function (e, t) {
            let o = null,
              n = [],
              a = location.search;
            return (
              t && (a = t),
              a
                .substr(1)
                .split("&")
                .forEach(function (t) {
                  (n = t.split("=")),
                    n[0] === e && (o = decodeURIComponent(n[1]));
                }),
              o
            );
          }),
          (t.checkIfGetParameterExists = function (e, t) {
            let o = !1,
              n = [],
              a = location.search;
            return (
              t && (a = t),
              a
                .substr(1)
                .split("&")
                .forEach(function (t) {
                  (n = t.split("=")), n[0] === e && (o = !0);
                }),
              o
            );
          }),
          (t.objectToQueryString = function (e) {
            const t = [];
            for (const o in e)
              Object.prototype.hasOwnProperty.call(e, o) &&
                t.push(encodeURIComponent(o) + "=" + encodeURIComponent(e[o]));
            return t.join("&");
          }),
          (t.toggleFullscreen = function () {
            const e = document.documentElement;
            document.fullscreenElement ||
            document.mozFullScreenElement ||
            document.webkitFullscreenElement ||
            document.msFullscreenElement
              ? document.exitFullscreen
                ? document.exitFullscreen()
                : document.msExitFullscreen
                ? document.msExitFullscreen()
                : document.mozCancelFullScreen
                ? document.mozCancelFullScreen()
                : document.webkitExitFullscreen &&
                  document.webkitExitFullscreen()
              : e.requestFullscreen
              ? e.requestFullscreen()
              : e.msRequestFullscreen
              ? e.msRequestFullscreen()
              : e.mozRequestFullScreen
              ? e.mozRequestFullScreen()
              : e.webkitRequestFullscreen &&
                e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
          }),
          (t.getWords = function () {
            return [...document.querySelectorAll("#words .word")]
              .map((e) =>
                [...e.querySelectorAll("letter")]
                  .map((e) => e.textContent)
                  .join("")
              )
              .join(" ");
          }),
          (t.remove_non_ascii = function (e) {
            return null === e || "" === e
              ? ""
              : (e = e.toString()).replace(/[^\x20-\x7E]/g, "");
          }),
          (t.escapeRegExp = function (e) {
            return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
          }),
          (t.escapeHTML = function (e) {
            return e
              .replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
              .replace(/"/g, "&quot;")
              .replace(/'/g, "&#039;");
          }),
          (t.cleanTypographySymbols = function (e) {
            const t = {
              "": '"',
              "": '"',
              "": "'",
              "": "'",
              ",": ",",
              "": "-",
              "": "...",
              "": "<<",
              "": ">>",
              "": "-",
              "": " ",
              "": " ",
              "": " ",
            };
            return e.replace(
              /[,\u2007\u202F\u00A0]/g,
              (e) => t[e] || ""
            );
          }),
          (t.isUsernameValid = function (e) {
            return (
              null != e &&
              "" !== e &&
              !/miodec/.test(e.toLowerCase()) &&
              !/bitly/.test(e.toLowerCase()) &&
              !(e.length > 14) &&
              !/^\..*/.test(e.toLowerCase()) &&
              /^[0-9a-zA-Z_.-]+$/.test(e)
            );
          }),
          (t.mapRange = function (e, t, o, n, a) {
            let i = ((e - t) * (a - n)) / (o - t) + n;
            return (
              n > a
                ? i > n
                  ? (i = n)
                  : i < a && (i = a)
                : i < n
                ? (i = n)
                : i > a && (i = a),
              i
            );
          }),
          (t.canQuickRestart = function (e, t, o, n, a) {
            const i = "words" === e && (t >= 1e3 || 0 === t),
              s = "time" === e && (o >= 900 || 0 === o),
              r = "custom" === e && 1 == a,
              u = "custom" === e && n.isWordRandom && n.word >= 1e3,
              l = "custom" === e && n.isTimeRandom && n.time > 900,
              d =
                "custom" === e &&
                !n.isWordRandom &&
                !n.isTimeRandom &&
                n.text.length >= 1e3;
            return !(i || s || r || u || l || d);
          }),
          (t.clearTimeouts = function (e) {
            e.forEach((e) => {
              clearTimeout(e);
            });
          }),
          (t.setCharAt = function (e, t, o) {
            return t > e.length - 1
              ? e
              : e.substring(0, t) + o + e.substring(t + 1);
          }),
          (t.regexIndexOf = function (e, t, o) {
            const n = e.substring(o || 0).search(t);
            return n >= 0 ? n + (o || 0) : n;
          }),
          (t.convertRGBtoHEX = function (e) {
            const t = e.match(/^rgb\((\d+), \s*(\d+), \s*(\d+)\)$/);
            if (null !== t && !(t.length < 3))
              return "#" + o(t[1]) + o(t[2]) + o(t[3]);
            function o(e) {
              return ("0" + parseInt(e).toString(16)).slice(-2);
            }
          }),
          (String.prototype.lastIndexOfRegex = function (e) {
            const t = this.match(e);
            return t ? this.lastIndexOf(t[t.length - 1]) : -1;
          }),
          (t.trailingComposeChars = /[\u02B0-\u02FF`^~]+$|.*$/),
          (t.convertRemToPixels = function (e) {
            return (
              e *
              parseFloat(getComputedStyle(document.documentElement).fontSize)
            );
          }),
          (t.swapElements = function (
            e,
            t,
            o,
            n = function () {
              return s(this, void 0, void 0, function* () {
                return Promise.resolve();
              });
            },
            a = function () {
              return s(this, void 0, void 0, function* () {
                return Promise.resolve();
              });
            }
          ) {
            return s(this, void 0, void 0, function* () {
              if (
                (e.hasClass("hidden") && !t.hasClass("hidden")) ||
                (!e.hasClass("hidden") && t.hasClass("hidden"))
              ) {
                if (e.hasClass("hidden")) return yield a(), yield n(), !1;
                $(e)
                  .removeClass("hidden")
                  .css("opacity", 1)
                  .animate({ opacity: 0 }, o / 2, () =>
                    s(this, void 0, void 0, function* () {
                      yield a(),
                        $(e).addClass("hidden"),
                        $(t)
                          .removeClass("hidden")
                          .css("opacity", 0)
                          .animate({ opacity: 1 }, o / 2, () => {
                            n();
                          });
                    })
                  );
              } else
                e.hasClass("hidden") && t.hasClass("hidden")
                  ? (yield a(),
                    $(t)
                      .removeClass("hidden")
                      .css("opacity", 0)
                      .animate({ opacity: 1 }, o, () =>
                        s(this, void 0, void 0, function* () {
                          yield n();
                        })
                      ))
                  : (yield a(), yield n());
            });
          }),
          (t.getMode2 = function (e, t) {
            const o = e.mode;
            return "time" === o
              ? e.time.toString()
              : "words" === o
              ? e.words.toString()
              : "custom" === o
              ? "custom"
              : "zen" === o
              ? "zen"
              : "quote" === o
              ? t.id.toString()
              : "";
          }),
          (t.downloadResultsCSV = function (e) {
            return s(this, void 0, void 0, function* () {
              r.show();
              const t = [
                  [
                    "_id",
                    "isPb",
                    "wpm",
                    "acc",
                    "rawWpm",
                    "consistency",
                    "charStats",
                    "mode",
                    "mode2",
                    "quoteLength",
                    "restartCount",
                    "testDuration",
                    "afkDuration",
                    "incompleteTestSeconds",
                    "punctuation",
                    "numbers",
                    "language",
                    "funbox",
                    "difficulty",
                    "lazyMode",
                    "blindMode",
                    "bailedOut",
                    "tags",
                    "timestamp",
                  ],
                  ...e.map((e) => [
                    e._id,
                    e.isPb,
                    e.wpm,
                    e.acc,
                    e.rawWpm,
                    e.consistency,
                    e.charStats.join(","),
                    e.mode,
                    e.mode2,
                    e.quoteLength,
                    e.restartCount,
                    e.testDuration,
                    e.afkDuration,
                    e.incompleteTestSeconds,
                    e.punctuation,
                    e.numbers,
                    e.language,
                    e.funbox,
                    e.difficulty,
                    e.lazyMode,
                    e.blindMode,
                    e.bailedOut,
                    e.tags.join(","),
                    e.timestamp,
                  ]),
                ]
                  .map((e) => e.join("|"))
                  .join("\n"),
                o = new Blob([t], { type: "text/csv" }),
                n = window.URL.createObjectURL(o),
                a = document.createElement("a");
              a.setAttribute("href", n),
                a.setAttribute("download", "results.csv"),
                document.body.appendChild(a),
                a.click(),
                a.remove(),
                r.hide();
            });
          }),
          (t.randomIntFromRange = w),
          (t.shuffle = function (e) {
            for (let t = e.length - 1; t > 0; --t) {
              const o = w(0, t),
                n = e[o];
              (e[o] = e[t]), (e[t] = n);
            }
          }),
          (t.randomElementFromArray = C),
          (t.randomElementFromObject = function (e) {
            return C(Object.values(e));
          }),
          (t.createErrorMessage = function (e, t) {
            if (e instanceof Error) return `${t}: ${e.message}`;
            const o = e;
            return (null == o ? void 0 : o.message) ? `${t}: ${o.message}` : t;
          }),
          (t.isAnyPopupVisible = function () {
            const e = document.querySelectorAll("#popups .popupWrapper");
            let t = !1;
            for (const o of e)
              if ("none" !== window.getComputedStyle(o).display) {
                t = !0;
                break;
              }
            return t;
          }),
          (t.getDiscordAvatarUrl = function (e, t, o = 32) {
            return s(this, void 0, void 0, function* () {
              if (!e || !t) return null;
              try {
                const n = `https://cdn.discordapp.com/avatars/${e}/${t}.png?size=${o}`;
                return (yield fetch(n)).ok ? n : null;
              } catch (e) {}
              return null;
            });
          }),
          (t.getLevel = function (e) {
            return (1 / 98) * (-151 + Math.sqrt(392 * e + 22801)) + 1;
          }),
          (t.getXpForLevel = function (e) {
            return 49 * (e - 1) + 100;
          }),
          (t.promiseAnimation = function (e, t, o, n) {
            return s(this, void 0, void 0, function* () {
              return new Promise((a) => {
                e.animate(t, o, n, a);
              });
            });
          }),
          (t.abbreviateNumber = function (e, t = 1) {
            if (e < 1e3) return e.toString();
            const o = Math.floor(Math.log(e) / Math.log(1e3)),
              n = "kmbtqQsSond".charAt(o - 1);
            return (e / Math.pow(1e3, o)).toFixed(t) + n;
          }),
          (t.sleep = function (e) {
            return s(this, void 0, void 0, function* () {
              return new Promise((t) => setTimeout(t, e));
            });
          }),
          (t.memoizeAsync = _),
          (t.isPasswordStrong = function (e) {
            const t = !!e.match(/[A-Z]/),
              o = !!e.match(/[\d]/),
              n = !!e.match(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/),
              a = e.length >= 8;
            return t && o && n && a;
          }),
          (t.areUnsortedArraysEqual = function (e, t) {
            return e.length === t.length && e.every((e) => t.includes(e));
          }),
          (t.areSortedArraysEqual = function (e, t) {
            return e.length === t.length && e.every((e, o) => e === t[o]);
          });
      },
      6690: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.buildSearchService = void 0);
        const a = o(1161),
          i = n(o(7718)),
          s = {
            fuzzyMatchSensitivity: 0.2,
            scoreForSimilarMatch: 0.5,
            scoreForExactMatch: 1,
          };
        function r(e) {
          return e.match(/[^\\\][.,"/#!?$%^&*;:{}=\-_`~()\s]+/g) || [];
        }
        t.buildSearchService = (e, t, o = s) => {
          const n = {},
            u = {};
          e.forEach((e, o) => {
            const i = r(t(e)),
              s = { id: o, termFrequencies: {}, maxTermFrequency: 0 };
            let l = 0;
            i.forEach((e) => {
              const t = (0, a.stemmer)(e);
              t in u || (u[t] = new Set()),
                u[t].add(e),
                t in n || (n[t] = new Set()),
                n[t].add(s),
                t in s.termFrequencies || (s.termFrequencies[t] = 0),
                s.termFrequencies[t]++,
                (l = Math.max(l, s.termFrequencies[t]));
            }),
              (s.maxTermFrequency = l);
          });
          const l = Object.keys(n);
          return {
            query: (t) => {
              const s = { results: [], matchedQueryTerms: [] },
                d = new Set(r(t).map((e) => (0, a.stemmer)(e)));
              if (0 === d.size) return s;
              const c = new Map(),
                p = new Set();
              d.forEach((t) => {
                l.forEach((a) => {
                  const { similarity: s } = (0, i.default)(t, a),
                    r = a === t,
                    l = s >= 1 - o.fuzzyMatchSensitivity;
                  if (r || l) {
                    const t = n[a],
                      i =
                        ((d = e.length),
                        0 === (f = t.size) ? 0 : Math.log10(d / f));
                    t.forEach((e) => {
                      var t;
                      const n =
                          null !== (t = c.get(e.id)) && void 0 !== t ? t : 0,
                        s = (function (e, t) {
                          return (
                            0.4 +
                            (t.termFrequencies[e] / t.maxTermFrequency) * 0.6
                          );
                        })(a, e),
                        u =
                          ((r ? o.scoreForExactMatch : 0) +
                            (l ? o.scoreForSimilarMatch : 0)) *
                          i *
                          s;
                      c.set(e.id, n + u);
                    }),
                      u[a].forEach((e) => {
                        p.add(e);
                      });
                  }
                  var d, f;
                });
              });
              const f = [...c].sort((e, t) => t[1] - e[1]).map((t) => e[t[0]]);
              return (s.results = f), (s.matchedQueryTerms = [...p]), s;
            },
          };
        };
      },
      6037: (e, t) => {
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.splitByAndKeep = void 0),
          (t.splitByAndKeep = function (e, t) {
            const o = [];
            let n = [];
            const a = new Set(t);
            for (const t of e)
              a.has(t)
                ? (n.length > 0 && o.push(n.join("")), o.push(t), (n = []))
                : n.push(t);
            return n.length > 0 && o.push(n.join("")), o;
          });
      },
      9608: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          i =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (a, i) {
                function s(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function r(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(s, r);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.loadTestSettingsFromUrl =
            t.loadCustomThemeFromUrl =
            t.linkDiscord =
              void 0);
        const u = i(o(3388)),
          l = i(o(6705)),
          d = l,
          c = i(o(3368)),
          p = o(6965),
          f = i(o(2338)),
          h = i(o(2203)),
          m = i(o(8248)),
          g = r(o(7355)),
          v = i(o(8835)),
          y = i(o(6350)),
          b = i(o(9817)),
          w = i(o(5344)),
          $ = o(3013);
        (t.linkDiscord = function (e) {
          return s(this, void 0, void 0, function* () {
            if (!e) return;
            const t = new URLSearchParams(e.slice(1));
            if (t.has("access_token")) {
              history.replaceState(null, "", "/");
              const e = t.get("access_token"),
                o = t.get("token_type"),
                n = t.get("state");
              b.show();
              const a = yield g.default.users.linkDiscord(o, e, n);
              if ((b.hide(), 200 !== a.status))
                return c.add("Failed to link Discord: " + a.message, -1);
              c.add(a.message, 1);
              const i = y.getSnapshot();
              if (!i) return;
              const { discordId: s, discordAvatar: r } = a.data;
              s ? (i.discordId = s) : (i.discordAvatar = r),
                y.setSnapshot(i),
                w.update(void 0, s, r),
                v.updateDiscordSection();
            }
          });
        }),
          (t.loadCustomThemeFromUrl = function (e) {
            var t;
            const o = u.findGetParameter("customTheme", e);
            if (null === o) return;
            const n = o.split(","),
              a = JSON.parse(null !== (t = atob(o)) && void 0 !== t ? t : "");
            let i = [];
            if (
              (Array.isArray(n) && 10 === n.length
                ? (i = n)
                : Array.isArray(a) && 10 === a.length && (i = a),
              0 === i.length)
            )
              return c.add("Invalid custom theme ", 0);
            const s = l.default.customTheme,
              r = l.default.customThemeColors;
            try {
              d.setCustomThemeColors(i),
                c.add("Custom theme applied", 1),
                l.default.customTheme || d.setCustomTheme(!0);
            } catch (e) {
              c.add("Something went wrong. Reverting to previous state.", 0),
                console.error(e),
                d.setCustomTheme(s),
                d.setCustomThemeColors(r);
            }
          }),
          (t.loadTestSettingsFromUrl = function (e) {
            var t;
            const o = u.findGetParameter("testSettings", e);
            if (null === o) return;
            const n = JSON.parse(
                null !== (t = (0, p.decompressFromURI)(o)) && void 0 !== t
                  ? t
                  : ""
              ),
              a = {};
            if (
              (n[0] && (d.setMode(n[0], !0), (a.mode = n[0])),
              n[1] &&
                ("time" === l.default.mode
                  ? d.setTimeConfig(parseInt(n[1], 10), !0)
                  : "words" === l.default.mode
                  ? d.setWordCount(parseInt(n[1], 10), !0)
                  : "quote" === l.default.mode &&
                    (d.setQuoteLength(-2, !1),
                    f.setSelectedId(parseInt(n[1], 10)),
                    h.set()),
                (a.mode2 = n[1])),
              n[2])
            ) {
              const e = n[2];
              m.setText(e.text),
                m.setIsTimeRandom(e.isTimeRandom),
                m.setIsWordRandom(e.isWordRandom),
                e.isTimeRandom && m.setWord(e.time),
                e.isWordRandom && m.setTime(e.word),
                m.setDelimiter(e.delimiter),
                (a["custom text settings"] = "");
            }
            n[3] &&
              (d.setPunctuation(n[3], !0),
              (a.punctuation = n[3] ? "on" : "off")),
              n[4] &&
                (d.setNumbers(n[4], !0), (a.numbers = n[4] ? "on" : "off")),
              n[5] && (d.setLanguage(n[5], !0), (a.language = n[5])),
              n[6] && (d.setDifficulty(n[6], !0), (a.difficulty = n[6])),
              n[7] && (d.setFunbox(n[7], !0), (a.funbox = n[7])),
              (0, $.restart)();
            let i = "";
            Object.keys(a).forEach((e) => {
              const t = a[e];
              i += `${e}${t ? ": " + t : ""}<br>`;
            }),
              "" !== i &&
                c.add(
                  "Settings applied from URL:<br><br>" + i,
                  1,
                  10,
                  void 0,
                  void 0,
                  void 0,
                  !0
                );
          });
      },
    },
    o = {};
  function n(e) {
    var a = o[e];
    if (void 0 !== a) return a.exports;
    var i = (o[e] = { exports: {} });
    return t[e].call(i.exports, i, i.exports, n), i.exports;
  }
  (n.m = t),
    (e = []),
    (n.O = (t, o, a, i) => {
      if (!o) {
        var s = 1 / 0;
        for (d = 0; d < e.length; d++) {
          for (var [o, a, i] = e[d], r = !0, u = 0; u < o.length; u++)
            (!1 & i || s >= i) && Object.keys(n.O).every((e) => n.O[e](o[u]))
              ? o.splice(u--, 1)
              : ((r = !1), i < s && (s = i));
          if (r) {
            e.splice(d--, 1);
            var l = a();
            void 0 !== l && (t = l);
          }
        }
        return t;
      }
      i = i || 0;
      for (var d = e.length; d > 0 && e[d - 1][2] > i; d--) e[d] = e[d - 1];
      e[d] = [o, a, i];
    }),
    (n.d = (e, t) => {
      for (var o in t)
        n.o(t, o) &&
          !n.o(e, o) &&
          Object.defineProperty(e, o, { enumerable: !0, get: t[o] });
    }),
    (n.g = (function () {
      if ("object" == typeof globalThis) return globalThis;
      try {
        return this || new Function("return this")();
      } catch (e) {
        if ("object" == typeof window) return window;
      }
    })()),
    (n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
    (n.r = (e) => {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(e, "__esModule", { value: !0 });
    }),
    (() => {
      var e = { 96: 0 };
      n.O.j = (t) => 0 === e[t];
      var t = (t, o) => {
          var a,
            i,
            [s, r, u] = o,
            l = 0;
          if (s.some((t) => 0 !== e[t])) {
            for (a in r) n.o(r, a) && (n.m[a] = r[a]);
            if (u) var d = u(n);
          }
          for (t && t(o); l < s.length; l++)
            (i = s[l]), n.o(e, i) && e[i] && e[i][0](), (e[i] = 0);
          return n.O(d);
        },
        o = (self.webpackChunkmonkeytype_frontend =
          self.webpackChunkmonkeytype_frontend || []);
      o.forEach(t.bind(null, 0)), (o.push = t.bind(null, o.push.bind(o)));
    })();
  var a = n.O(void 0, [736], () => n(9294));
  a = n.O(a);
})();
